window.__require=function t(e,o,n){function i(a,s){if(!o[a]){if(!e[a]){var c=a.split("/");if(c=c[c.length-1],!e[c]){var u="function"==typeof __require&&__require;if(!s&&u)return u(c,!0);if(r)return r(c,!0);throw new Error("Cannot find module '"+a+"'")}a=c}var l=o[a]={exports:{}};e[a][0].call(l.exports,function(t){return i(e[a][1][t]||t)},l,l.exports,t,e,o,n)}return o[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<n.length;a++)i(n[a]);return i}({AD_POSITION:[function(t,e,o){"use strict";cc._RF.push(e,"1ff91vdUjJNfLckiEbdK28z","AD_POSITION"),Object.defineProperty(o,"__esModule",{value:!0}),o.AD_POSITION=void 0,o.AD_POSITION={NONE:0,BANNER:1,FLOAT:2,SIDE:4,CENTER:8,EXPORT:16,BACK:32,MASK:64,WAIT:128,LEFTRIGHT:256,EXPORT_FIXED:512,ROTATE:1024,RECOMMEND:2048,HOT:4096,TOTAL:8192,TOP:32768,RECOVER:16384},cc._RF.pop()},{}],AppConfig:[function(t,e,o){"use strict";cc._RF.push(e,"5e35fiNgTpPT720Pxf2rArY","AppConfig");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),t("../utils/Common");var r=function(t){function e(){var e=t.call(this)||this;return e.avatarUrl="https://moyun-1257000992.cos.ap-guangzhou.myqcloud.com/avatar/",e.site01=[],e.site02=[],e.site03=[],e.site04=[],e}return i(e,t),e.prototype.addConfig=function(t){for(var e in t)this[e]=t[e]},e.prototype.getKey=function(t,e){return void 0===e&&(e=void 0),this[t]},e.resUrl="https://liteplay-1253992229.cos.ap-guangzhou.myqcloud.com/Game/tomato/",e}(t("./BaseModule").default);o.default=r,cc._RF.pop()},{"../utils/Common":"Common","./BaseModule":"BaseModule"}],ArrayUtil:[function(t,e,o){"use strict";cc._RF.push(e,"318a7hxC4hEX61QK69AYWmB","ArrayUtil"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.shuffle=function(t){for(var e,o,n=t.length,i=n;i--;)i!==(o=Math.floor(Math.random()*n))&&(e=t[i],t[i]=t[o],t[o]=e);return t},t.prototype.indexOf=function(t,e){for(var o=-1,n=0,i=t.length;n<i;n++)if(t[n]==e){o=n;break}return o},t.prototype.replace=function(t,e,o){var n=t[e],i=t[o];t[o]=n,t[e]=i},t.prototype.merge=function(t,e){for(var o=0,n=t.length;o<n;o++)e.push(t[o]);return e},t.clone=function(t){return new Array,t.slice(0)},t.remove=function(t,e){for(var o=0;o<t.length;o++)if(t[o]==e)return t.splice(o,1),void o--},t}();o.default=n,cc._RF.pop()},{}],AudioModule:[function(t,e,o){"use strict";cc._RF.push(e,"755d365qBJHeKetwOxL4m/A","AudioModule");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./BaseModule"),s=cc._decorator,c=s.ccclass,u=s.property,l=function(t){function e(){var e=t.call(this)||this;return e.gameMusic=null,e.btnSound=null,e.menuMusic=null,e.win=null,e.fail=null,e.attack_1=null,e.attack_2=null,e.attack_3=null,e.skill=null,e.skill_2=null,e.skill_3=null,e.skill_4=null,e.skill_5=null,e.p_hit=null,e.m_hit=null,e.p_ha=null,e.jian_hit=null,e.coin=null,e.IS_MUTE="isMute",e.IS_MUTE_MUSIC="isMuteMusic",e.IS_MUTE_SOUND="isMuteSound",e.VOLUME_MUSIC="volumeMusic",e.VOLUME_SOUND="volumeSound",e._volumeMusic=1,e._volumeSound=1,e._isMuteMusic=!1,e._isMuteSound=!1,e._isMute=!1,e.gameCoinTime=0,e.mMusicId=null,e}var o;return i(e,t),o=e,e.prototype.playRespawnEffect=function(t){t&&t()},e.prototype.onEnable=function(){},e.prototype.start=function(){Lite.audio=this,moosnow.audio.btnSound=this.btnSound,this.getSave()},Object.defineProperty(e.prototype,"MusicId",{get:function(){return this.mMusicId},enumerable:!1,configurable:!0}),e.prototype.playGameMusic=function(){var t=cc.audioEngine.getState(this.mMusicId);t!=cc.audioEngine.AudioState.PLAYING&&(t!=cc.audioEngine.AudioState.PAUSED?this.mMusicId=this.playMusic(this.gameMusic):cc.audioEngine.resumeMusic())},e.prototype.playMainMusic=function(){this.mMusicId=this.playMusic(this.menuMusic)},e.prototype.playClickEffect=function(){this.playSound(this.btnSound)},e.prototype.playWin=function(){this.playSound(this.win)},e.prototype.playFail=function(){this.playSound(this.fail)},e.prototype.playAttack1=function(){this.playSound(this.attack_1)},e.prototype.playAttack2=function(){this.playSound(this.attack_2)},e.prototype.playAttack3=function(){this.playSound(this.attack_3)},e.prototype.playerSkill=function(){this.playSound(this.skill)},e.prototype.playerSkill_2=function(){this.playSound(this.skill_2)},e.prototype.playerSkill_3=function(){this.playSound(this.skill_3)},e.prototype.playerSkill_4=function(){this.playSound(this.skill_4)},e.prototype.playerSkill_5=function(){this.playSound(this.skill_5)},e.prototype.playerHit=function(){this.playSound(this.p_hit)},e.prototype.masterHit=function(){this.playSound(this.m_hit)},e.prototype.masterHitJian=function(){this.playSound(this.jian_hit)},e.prototype.playerHa=function(){this.playSound(this.p_ha)},e.prototype.playerCoin=function(){this.playSound(this.coin)},e.prototype.stopAll=function(){},e.prototype.stopSound=function(t){cc.audioEngine.stop(t)},e.prototype.stopMusic=function(){cc.audioEngine.stopMusic()},e.prototype.pauseMusic=function(){cc.audioEngine.pauseMusic()},e.prototype.resumeMusic=function(){cc.audioEngine.resumeMusic()},e.addAudio=function(t){this.localCache[t.name]=t},e.prototype.playAudio=function(t,e,n,i,r){void 0===e&&(e=!1),void 0===n&&(n=null),void 0===i&&(i=null),void 0===r&&(r=0),o.localCache[t]instanceof cc.AudioClip&&this.playSound(o.localCache[t],e,n,i,r)},e.prototype.playSound=function(t,e,o,n,i){if(void 0===e&&(e=!1),void 0===o&&(o=null),void 0===n&&(n=null),void 0===i&&(i=0),!this.isMute){var r=cc.audioEngine.playEffect(t,e);return cc.audioEngine.setFinishCallback(r,function(t){o&&o(t),e||cc.audioEngine.stop(r)}),r}},e.prototype.playMusic=function(t,e,o,n){if(void 0===e&&(e=!0),void 0===o&&(o=null),void 0===n&&(n=0),!this.isMute)return cc.audioEngine.playMusic(t,e)},Object.defineProperty(e.prototype,"volumeMusic",{get:function(){return this._volumeMusic},set:function(t){this._volumeMusic=t,this.save()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"volumeSound",{get:function(){return this._volumeSound},set:function(t){this._volumeSound=t,this.save()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMuteMusic",{get:function(){return this._isMuteMusic},set:function(t){this._isMuteMusic=t,this.save()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMuteSound",{get:function(){return this._isMuteSound},set:function(t){this._isMuteSound=t,this.save()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMute",{get:function(){return this._isMute},set:function(t){this._isMute=t,this.save()},enumerable:!1,configurable:!0}),e.prototype.save=function(){moosnow.setting.setBool(this.IS_MUTE,this.isMute),moosnow.setting.setBool(this.IS_MUTE_MUSIC,this.isMuteMusic),moosnow.setting.setBool(this.IS_MUTE_SOUND,this.isMuteSound)},e.prototype.getSave=function(){this.isMute=moosnow.setting.getBool(this.IS_MUTE,!1),this.isMuteMusic=moosnow.setting.getBool(this.IS_MUTE_MUSIC,!0),this.isMuteSound=moosnow.setting.getBool(this.IS_MUTE_SOUND,!0)},e.prototype.onDisable=function(){},e.localCache={},r([u({type:cc.AudioClip})],e.prototype,"gameMusic",void 0),r([u({type:cc.AudioClip})],e.prototype,"btnSound",void 0),r([u({type:cc.AudioClip})],e.prototype,"menuMusic",void 0),r([u({type:cc.AudioClip})],e.prototype,"win",void 0),r([u({type:cc.AudioClip})],e.prototype,"fail",void 0),r([u({type:cc.AudioClip})],e.prototype,"attack_1",void 0),r([u({type:cc.AudioClip})],e.prototype,"attack_2",void 0),r([u({type:cc.AudioClip})],e.prototype,"attack_3",void 0),r([u({type:cc.AudioClip})],e.prototype,"skill",void 0),r([u({type:cc.AudioClip})],e.prototype,"skill_2",void 0),r([u({type:cc.AudioClip})],e.prototype,"skill_3",void 0),r([u({type:cc.AudioClip})],e.prototype,"skill_4",void 0),r([u({type:cc.AudioClip})],e.prototype,"skill_5",void 0),r([u({type:cc.AudioClip})],e.prototype,"p_hit",void 0),r([u({type:cc.AudioClip})],e.prototype,"m_hit",void 0),r([u({type:cc.AudioClip})],e.prototype,"p_ha",void 0),r([u({type:cc.AudioClip})],e.prototype,"jian_hit",void 0),r([u({type:cc.AudioClip})],e.prototype,"coin",void 0),o=r([c],e)}(a.default);o.default=l,cc._RF.pop()},{"./BaseModule":"BaseModule"}],BUFFER:[function(t,e,o){"use strict";cc._RF.push(e,"f326bSdUo1FAqgqj9zFDkxr","BUFFER"),Object.defineProperty(o,"__esModule",{value:!0}),o.BUFFER=void 0,function(t){t[t.NONE=0]="NONE",t[t.HEAL=1]="HEAL",t[t.QUICKEN=2]="QUICKEN",t[t.ZOOMIN=4]="ZOOMIN",t[t.MAGNET=8]="MAGNET",t[t.UNRIVALLED=16]="UNRIVALLED",t[t.SLOWDOWN=32]="SLOWDOWN",t[t.REDUCEHEALTH=64]="REDUCEHEALTH",t[t.ZOOMOUT=128]="ZOOMOUT",t[t.HITRECOVER=512]="HITRECOVER",t[t.COIN=1024]="COIN"}(o.BUFFER||(o.BUFFER={})),cc._RF.pop()},{}],BaseControl:[function(t,e,o){"use strict";cc._RF.push(e,"66f02BLKYtJCaShAPWVMd8g","BaseControl");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../framework/entity/EntityLogic"),s=cc._decorator,c=s.ccclass,u=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),Object.defineProperty(e.prototype,"LogicData",{get:function(){return this.mLogicData},enumerable:!1,configurable:!0}),e.prototype.willShow=function(e){t.prototype.willShow.call(this,e),this.initAnim(e)},e.prototype.initAnim=function(){},e.prototype.refreshImage=function(t){moosnow.nodeHelper.changeSrc(this.logo||this.node,{url:t,width:this.node.width,height:this.node.height})},e.prototype.refreshCollider=function(t){var e=this.node.getComponent(cc.PhysicsCollider);e&&(e instanceof cc.PhysicsBoxCollider?e.size=new cc.Size(t.width,t.height):e instanceof cc.PhysicsCircleCollider?e.radius=t.radius:e instanceof cc.PhysicsPolygonCollider?e.points=t.points:e instanceof cc.PhysicsChainCollider&&(e.points=t.points),e.apply())},e.prototype.refreshOffset=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var o=this.node.getComponent(cc.PhysicsCollider);o&&(o instanceof cc.PhysicsBoxCollider?o.offset=cc.v2(t,e):o instanceof cc.PhysicsCircleCollider?o.offset=cc.v2(t,e):o instanceof cc.PhysicsPolygonCollider?o.offset=cc.v2(t,e):o instanceof cc.PhysicsChainCollider&&(o.offset=cc.v2(t,e)),o.apply())},r([c],e)}(a.default));o.default=u,cc._RF.pop()},{"../framework/entity/EntityLogic":"EntityLogic"}],BaseModule:[function(t,e,o){"use strict";cc._RF.push(e,"32467evvihFDoJEB0n0C/Xm","BaseModule");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=(a.property,function(t){function e(){var e=t.call(this)||this;return e.moduleName="",e}return i(e,t),e.prototype.onEnable=function(){},e.prototype.onDisable=function(){},r([s],e)}(cc.Component));o.default=c,cc._RF.pop()},{}],BundleMgr:[function(t,e,o){"use strict";cc._RF.push(e,"168aavqUQRMPqAfo27Aq6p8","BundleMgr"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./config/Bundles"),i=t("./utils/Common"),r=function(){this.hasLoadAd=!0,this.loaded=!1,this.callback=[]},a=function(){function t(){}return t.loadBundleOnce=function(t,e,o,n,a){var s=this;void 0===n&&(n="entity"),void 0===a&&(a=!0),this.loadCache[t]?this.loadCache[t].loaded?o(this.loadCache[t].hasLoadAd):this.loadCache[t].callback.push(o):(this.loadCache[t]=new r,this.loadCache[t].callback.push(o),Lite.resource.loadSubEntity(t,function(t){i.default.isFunction(e)&&e(t)},function(){Lite.resource.loadBundleSound(t,null,function(){s.loadCache[t].loaded=!0,s.loadCache[t].callback.forEach(function(e){e(s.loadCache[t].hasLoadAd)}),s.loadCache[t].callback=[]})},n,a))},t.loadAppBundle=function(t,e,o){void 0===o&&(o=!0),this.loadBundleOnce(n.default.appbox,e,t,void 0,o)},t.loadBoxBundle=function(t,e,o){void 0===o&&(o=!0),this.loadBundleOnce(n.default.boxform,e,t,void 0,o)},t.loadFinishBundle=function(t,e,o){void 0===o&&(o=!0),this.loadBundleOnce(n.default.finishform,e,t,void 0,o)},t.loadNativeBundle=function(t,e,o){void 0===o&&(o=!0),this.loadBundleOnce(n.default.nativeform,e,t,void 0,o)},t.loadAdBundle=function(t,e,o){void 0===o&&(o=!0),this.loadBundleOnce(n.default.ad,e,t,void 0,o)},t.loadHomeBundle=function(t,e,o){void 0===o&&(o=!0),this.loadBundleOnce(n.default.homeform,e,t,void 0,o)},t.loadGameBundle=function(t,e,o){void 0===o&&(o=!0),this.loadBundleOnce(n.default.gameform,e,t,void 0,o)},t.loadEndBundle=function(t,e,o){void 0===o&&(o=!0),this.loadBundleOnce(n.default.endform,e,t,void 0,o)},t.loadMistouchBundle=function(t,e,o){void 0===o&&(o=!0),this.loadBundleOnce(n.default.mistouch,e,t,void 0,o)},t.loadTryBundle=function(t,e,o){void 0===o&&(o=!0),this.loadBundleOnce(n.default.tryform,e,t,void 0,o)},t.loadCache={},t}();o.default=a,cc._RF.pop()},{"./config/Bundles":"Bundles","./utils/Common":"Common"}],Bundles:[function(t,e,o){"use strict";cc._RF.push(e,"a24e0CoPQZJJbbVQReGVHhp","Bundles"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.ad="ad",t.homeform="homeform",t.gameform="gameform",t.endform="endform",t.shopform="shopform",t.mistouch="mistouch",t.tryform="tryform",t.nativeform="nativeform",t.finishform="finishform",t.boxform="boxform",t.appbox="appbox",t}();o.default=n,cc._RF.pop()},{}],ButtonEx:[function(t,e,o){"use strict";cc._RF.push(e,"35926TG53ZO0JDRZX+i2pzs","ButtonEx");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.clickQueneItem=void 0;o.clickQueneItem=function(){this.stopPropagation=!0,this.once=!0,this.clicking=!1};var a=cc._decorator,s=a.ccclass,c=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.enableEffect=!0,e.enableMusic=!0,e.autoScale=!1,e.autoSwing=!1,e.zoomTime=1,e.scaleMax=1,e.scaleMin=.8,e.enableLogPoint=!1,e.logPointName="",e.mDownEffect=!1,e.mSwingAction=cc.sequence(cc.rotateTo(.3,10),cc.rotateTo(.6,-10),cc.rotateTo(.3,0),cc.scaleTo(.3,.8),cc.scaleTo(.3,1)).repeatForever(),e}return i(e,t),e.prototype.runAnim=function(){this.autoScale?this.autoScaleZoomOut():this.autoSwing&&this.node.runAction(this.mSwingAction)},e.prototype.onEnable=function(){this.runAnim(),this.node.scale=1,this.node.on(cc.Node.EventType.TOUCH_START,this.onMouseDown,this),this.node.on(cc.Node.EventType.TOUCH_END,this.mouseUpEffect,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.mouseUpEffect,this)},e.prototype.onMouseDown=function(){this.mDownEffect||(this.mDownEffect=!0,this.enableMusic&&Lite.audio.playClickEffect(),this.enableEffect&&this.mouseDownEffect())},e.prototype.removeMouseEffect=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.mouseDownEffect,this),this.node.off(cc.Node.EventType.TOUCH_END,this.mouseUpEffect,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.mouseUpEffect,this)},e.prototype.mouseDownEffect=function(){this.node.scale=1,this.node.runAction(cc.sequence(cc.scaleTo(.1,.7,.7),cc.callFunc(function(){},this)))},e.prototype.mouseUpEffect=function(){var t=this;this.runAnim(),this.node.scale=.7,this.node.runAction(cc.sequence(cc.scaleTo(.1,1,1),cc.callFunc(function(){t.mDownEffect=!1},this)))},e.prototype.autoScaleZoomOut=function(){var t=this;this.node.runAction(cc.sequence(cc.scaleTo(this.zoomTime,this.scaleMin,this.scaleMin),cc.callFunc(function(){t.autoScaleZoomIn()},this)))},e.prototype.autoScaleZoomIn=function(){var t=this;this.node.runAction(cc.sequence(cc.scaleTo(this.zoomTime,this.scaleMax,this.scaleMax),cc.callFunc(function(){t.autoScaleZoomOut()},this)))},e.prototype.onDisable=function(){this.node.stopAllActions(),this.node.scale=1,this.mDownEffect=!1,this.removeMouseEffect()},e.downAnim=function(t){t.scale=1,t.runAction(cc.sequence(cc.scaleTo(.1,.7,.7),cc.callFunc(function(){},this)))},e.upAnim=function(t,e){var o=this;t.stopAllActions(),t.scale=.7,t.runAction(cc.sequence(cc.scaleTo(.1,1,1),cc.callFunc(function(){o.mDowning=!1,e&&e()},this)))},e.getClickQueneItem=function(t){var e=t.getCurrentTarget().uuid;return this.mClickQuene[e]||null},e.setClickQueneItem=function(t,e){var o=t.getCurrentTarget().uuid;this.mClickQuene[o]&&(this.mClickQuene[o].clicking=e)},e.onTouchStart=function(t){var e=this.getClickQueneItem(t);e&&(e.once&&e.clicking||(Lite.audio.playClickEffect(),this.downAnim(e.node),this.mDowning||(this.mDowning=!0)))},e.onTouchEnd=function(t){var e=this,o=this.getClickQueneItem(t);o&&(o.once&&o.clicking||(this.setClickQueneItem(t,!0),console.log("onTouchEnd"),this.upAnim(o.node,function(){o&&o.callback&&o.callback(),e.setClickQueneItem(t,!1)}),o&&o.stopPropagation&&t.stopPropagation()))},e.onTouchCancel=function(t){var e=this,o=this.getClickQueneItem(t);o&&(console.log("onTouchCancel"),this.upAnim(o.node,function(){e.setClickQueneItem(t,!1)}))},e.applyClickAnim=function(t,e,o,n){void 0===o&&(o=!1),void 0===n&&(n=!0),t&&t.uuid?(this.mClickQuene[t.uuid]={node:t,stopPropagation:o,callback:e,once:n,clicking:!1},t.on(this.TOUCH_START,this.onTouchStart,this),t.on(this.TOUCH_END,this.onTouchEnd,this),t.on(this.TOUCH_CANCEL,this.onTouchCancel,this)):console.log("\u7f3a\u5c11\u5bf9\u8c61\uff0c\u65e0\u6cd5\u7ed1\u5b9a\u4e8b\u4ef6")},e.removeClickAnim=function(t){t&&t.uuid&&(this.mClickQuene[t.uuid]=null,delete this.mClickQuene[t.uuid],t.off(this.TOUCH_START,this.onTouchStart,this),t.off(this.TOUCH_END,this.onTouchEnd,this),t.off(this.TOUCH_CANCEL,this.onTouchCancel,this))},e.TOUCH_START=cc.Node.EventType.TOUCH_START,e.TOUCH_END=cc.Node.EventType.TOUCH_END,e.TOUCH_CANCEL=cc.Node.EventType.TOUCH_CANCEL,e.mDowning=!1,e.mClickQuene={},r([c],e.prototype,"enableEffect",void 0),r([c],e.prototype,"enableMusic",void 0),r([c],e.prototype,"autoScale",void 0),r([c],e.prototype,"autoSwing",void 0),r([c],e.prototype,"zoomTime",void 0),r([c],e.prototype,"scaleMax",void 0),r([c],e.prototype,"scaleMin",void 0),r([c],e.prototype,"enableLogPoint",void 0),r([c],e.prototype,"logPointName",void 0),r([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{}],CameraControl:[function(t,e,o){"use strict";cc._RF.push(e,"0a97e41sKtJL6Cl43MNYdqh","CameraControl");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../framework/utils/FrameworkEvent"),s=cc._decorator,c=s.ccclass,u=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.UICamera=null,e.mCamera=null,e.leftDis=0,e.rightDis=0,e.canMoveFlag=!0,e.cameraMoveFlag=!0,e}return i(e,t),e.prototype.onLoad=function(){var t=this;this.mCamera=this.node.getComponent(cc.Camera),Lite.myGame.cameraControl=this,moosnow.event.addListener(a.default.CAMERA_CHANGED,this,function(e){t.node.x=e.x,t.node.y=e.y})},e.prototype.lateUpdate=function(){if(this.mCamera&&Lite.myGame.role&&!(Lite.myGame.role.currentHp<=0)&&Lite.myGame.role.node.active){var t=Lite.myGame.role.node.convertToWorldSpaceAR(cc.Vec2.ZERO),e=this.node.parent.convertToNodeSpaceAR(t),o=this.node.position.clone(),n=cc.misc.lerp(o.x,e.x,.1),i=cc.misc.lerp(o.y,e.y,.1);this.node.x=n,this.node.y=i;var r=e.y/cc.winSize.height;this.mCamera.zoomRatio=1+.5*(.5-r)}},e.prototype.movemCamera=function(t){var e,o=new cc.Vec2(t,0),n=Lite.myGame.map.mapSize.width-this.rightDis;e=t<=this.leftDis-375?new cc.Vec2(this.leftDis-375,0):t>=n-375?new cc.Vec2(n-375,0):o,this.canMoveFlag=!1;var i=cc.callFunc(function(){this.canMoveFlag=!0},this),r=cc.moveTo(.2,e),a=cc.sequence(r,i);this.mCamera.node.stopAllActions(),this.mCamera.node.runAction(a),this.scheduleOnce(function(){this.canMoveFlag=!0},.3)},r([u(cc.Camera)],e.prototype,"UICamera",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../framework/utils/FrameworkEvent":"FrameworkEvent"}],CheckboxEx:[function(t,e,o){"use strict";cc._RF.push(e,"f43ce7XQuFI0ItOD+Q/Yc0B","CheckboxEx");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.checked=null,e.unchecked=null,e.text=null,e}return i(e,t),e.prototype.reset=function(t,e){this.checked.active=t,e&&(this.text.string=e)},e.prototype.getChecked=function(){return this.checked.active},e.prototype.start=function(){var t=this;moosnow.form.applyClickAnim(this.unchecked,function(){t.checked.active&&moosnow.http.getAllConfig(function(t){t&&t.checkBoxMistouch>0&&moosnow.platform.showVideo(function(t){t==moosnow.VIDEO_STATUS.END?Lite.data.addVideoSp():t==moosnow.VIDEO_STATUS.ERR?moosnow.form.showToast(moosnow.VIDEO_MSG.ERR):moosnow.form.showToast(moosnow.VIDEO_MSG.NOTEND)})}),t.checked.active=!t.checked.active})},r([c(cc.Node)],e.prototype,"checked",void 0),r([c(cc.Node)],e.prototype,"unchecked",void 0),r([c(cc.Label)],e.prototype,"text",void 0),r([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{}],Common:[function(t,e,o){"use strict";cc._RF.push(e,"f8b10NknwBFGqyF+RuufBW3","Common"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./FrameworkEvent"),i=function(){function t(){}return t.getRandomArr=function(t,e,o){void 0===o&&(o=0);for(var n=[],i=(e-t)/2,r=0,a=0;a<=e-t;a++){n[a]=1;for(var s=Math.abs(a-i),c=0;c<s;c++)n[a]*=o;r+=n[a]}for(a=0;a<n.length;a++)n[a]=n[a]/r,a-1>=0&&(n[a]=n[a]+n[a-1]);var u=Math.random(),l=0;for(a=0;a<n.length;a++)if(u<=n[a]){l=a;break}return l+t},t.convertSpeedByDelta=function(t,e){return e>167&&(e=16.67),t*(e/1e3)},t.convertRotationByDelta=function(t,e){return e>167&&(e=16.67),t*(e/1e3)},t.titleCase=function(t){var e,o=t.toLowerCase().split(/\s+/);for(e=0;e<o.length;e++)o[e]=o[e].slice(0,1).toUpperCase()+o[e].slice(1);return o.join(" ")},t.numFixed=function(t,e){return parseFloat(parseFloat(t).toFixed(e))},t.parseMoney=function(t){return isNaN(t)?0:parseFloat(parseFloat(t).toFixed(2))},t.formatMoney=function(t){return isNaN(t)&&(t=0),t<9999?parseInt(""+t):t<9999999?parseFloat(""+t/1e3).toFixed(1)+"K":t<9999999999?parseFloat(""+t/1e6).toFixed(1)+"M":t<9999999999999?parseFloat(""+t/1e9).toFixed(1)+"G":t<1e16?parseFloat(""+t/1e12).toFixed(1)+"T":t<1e19?parseFloat(""+t/1e15).toFixed(1)+"P":t<1e22?parseFloat(""+t/1e18).toFixed(1)+"E":parseFloat(""+t/1e21).toFixed(1)+"B"},t.formatDiamond=function(t){return isNaN(t)&&(t=0),t<9999?parseFloat(t).toFixed(0):t<9999999?parseFloat(""+t/1e3).toFixed(0)+"K":parseFloat(""+t/1e6).toFixed(0)+"M"},t.formatAttack=function(t){return isNaN(t)&&(t=0),t<9999?""+t:t<9999999?parseFloat(""+t/1e3).toFixed(0)+"K":t<9999999999?parseFloat(""+t/1e6).toFixed(0)+"M":t<9999999999999?parseFloat(""+t/1e9).toFixed(0)+"G":t<1e16?parseFloat(""+t/1e12).toFixed(0)+"T":t<1e19?parseFloat(""+t/1e15).toFixed(0)+"P":t<1e22?parseFloat(""+t/1e18).toFixed(0)+"E":parseFloat(""+t/1e21).toFixed(0)+"B"},t.objKeySort=function(t){for(var e=Object.keys(t).sort(),o={},n=0;n<e.length;n++)o[e[n]]=t[e[n]];return o},t.isWeChat=function(){return!!window.wx},t.isQQPlay=function(){return!1},t.isObject=function(t){var e=typeof t;return null!==t&&("object"===e||"function"===e)},t.object2Query=function(t){var e=[];for(var o in t)e.push(o+"="+t[o]);return e.join("&")},t.getQueryVariable=function(t){if(window&&window.location&&window.location.search)for(var e=window.location.search.substring(1).split("&"),o=0;o<e.length;o++){var n=e[o].split("=");if(n[0]==t)return n[1]}return!1},t.format=function(){var t=arguments[0];if(void 0===t||null==t||""==t||"undefined"==t)return t;for(var e=1;e<arguments.length;e++){var o=new RegExp("\\{"+(e-1)+"\\}","gm");t=t.replace(o,arguments[e])}return t},t.isFunction=function(t){return"function"==typeof t},t.isEmpty=function(t){if("object"==typeof t){var e;for(e in t)return!1;return!0}return!("number"==typeof t&&0==t||null!=t&&"null"!==t&&"undefined"!==t&&""!==t)},t.dateFtt=function(t,e){var o={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var n in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),o)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?o[n]:("00"+o[n]).substr((""+o[n]).length)));return t},t.formatTime=function(t){var e=t.getFullYear(),o=t.getMonth()+1,n=t.getDate();return t.getHours(),t.getMinutes(),t.getSeconds(),[e,o,n].map(this.formatNumber).join("/")},t.millisecondToDate=function(t){return this.secondToDate(t/1e3)},t.secondToDate=function(t){var e="";if(isNaN(t))e="00:00";else if(t<60&&(e=this.formatNumber(0)+":"+this.formatNumber(t)),t>60&&t<3600){var o=parseInt(""+t/60),n=t-60*o;e=this.formatNumber(o)+":"+this.formatNumber(n)}return e},t.getzf=function(t){return parseInt(""+t)<10?"0"+t:""+t},t.formatNumber=function(t){return(t=t.toString())[1]?t:"0"+t},t.colorRGB2Hex=function(t){var e=t.split(",");return"#"+((1<<24)+(parseInt(e[0].split("(")[1])<<16)+(parseInt(e[1])<<8)+parseInt(e[2].split(")")[0])).toString(16).slice(1)},t.copy=function(t,e){for(var o in t)e[o]=t[o]},t.deepCopy=function(t){var e=Array.isArray(t)?[]:{};if(t&&"object"==typeof t)for(var o in t)t.hasOwnProperty(o)&&(t[o]&&"object"==typeof t[o]?e[o]=this.deepCopy(t[o]):e[o]=t[o]);return e},t.randomNumBoth=function(t,e){var o=e-t,n=Math.random();return t+Math.round(n*o)},t.randomToRatio=function(t,e,o){return this.randomNumBoth(t,e)<=o},t.randName=function(){for(var t=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],e="",o=0;o<8;o++){var n=t[this.randomNumBoth(0,t.length-1)];n&&(e+=n)}return e+this.randomNumBoth(100,999)},t.generateUUID=function(){var t=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var o=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?o:3&o|8).toString(16)})},t.isNumber=function(t){return"number"==typeof t||"[object Number]"==Object.prototype.toString.call(t)},t.isArray=function(t){return"[object Array]"==Object.prototype.toString.call(t)},t.isString=function(t){return"[object String]"===Object.prototype.toString.call(t)},t.popOpenAnim=function(t){var e=this;return new Promise(function(o){t.scale=.8,t.runAction(cc.sequence(cc.scaleTo(.1,1.2,1.2),cc.scaleTo(.1,1,1),cc.callFunc(function(){o()},e)))})},t.popCloseAnim=function(t){var e=this;return new Promise(function(o){t.scale=1,t.runAction(cc.sequence(cc.scaleTo(.1,0,0),cc.callFunc(function(){o()},e)))})},t.addCoin=function(e,o,i){for(var r=this,a=function(){var o=t.randomNumBoth(0,100)/200,n=Lite.entity.showEntity("coin",e,{x:t.randomNumBoth(-100,100),y:t.randomNumBoth(-100,100)});console.log("addCoin",n.node.x,n.node.y,n.node.active),n.node.runAction(cc.sequence(cc.delayTime(o),cc.spawn(cc.moveTo(1,-530,315),cc.fadeOut(1),cc.sequence(cc.scaleTo(.8,1.2,1.2),cc.scaleTo(.8,.8,9.8))),cc.callFunc(function(){Lite.entity.hideEntity(n,null,!0)})))},s=0;s<30;s++)a();var c=setTimeout(function(){Lite.data.addCoin(o),Lite.data.saveCoin(),moosnow.event.sendEventImmediately(n.default.COIN_CHANGED,null),clearTimeout(c),r.isFunction(i)&&i()},2100)},t.subCoin=function(e,o,n,i){for(var r=this,a=function(){var i=t.randomNumBoth(0,100)/200,r=Lite.entity.showEntity("coin",o,{x:e.x+t.randomNumBoth(-50,50),y:e.y+t.randomNumBoth(-50,50)});console.log("addCoin",r.node.x,r.node.y,r.node.active,n.x,n.y),r.node.runAction(cc.sequence(cc.delayTime(i),cc.spawn(cc.moveTo(1,n.x,n.y),cc.fadeOut(1),cc.sequence(cc.scaleTo(.8,1.2,1.2),cc.scaleTo(.8,.8,9.8))),cc.callFunc(function(){Lite.entity.hideEntity(r,null,!0)})))},s=0;s<30;s++)a();var c=setTimeout(function(){clearTimeout(c),r.isFunction(i)&&i()},2100)},t.isRemote=function(t){return-1!=t.indexOf("http")},t.pointInPolygonCollider=function(t,e){var o=t.node.convertToNodeSpaceAR(e),n=[];return t.points.forEach(function(e){n.push(cc.v2(e.x+t.offset.x,e.y+t.offset.y))}),cc.Intersection.pointInPolygon(o,n)},t.pointMinDistancePolygon=function(t,e){var o,n=t.node.convertToNodeSpaceAR(e),i=[];t.points.forEach(function(e){i.push(cc.v2(e.x+t.offset.x,e.y+t.offset.y))});for(var r=0;r<i.length;r++){var a=i.length-1==r?i[0]:i[r+1],s=cc.Intersection.pointLineDistance(n,i[r],a,!0);(this.isEmpty(o)||s<o)&&(o=s)}return o},t}();o.default=i,cc._RF.pop()},{"./FrameworkEvent":"FrameworkEvent"}],ConfigData:[function(t,e,o){"use strict";cc._RF.push(e,"f1386HytD9EyIBXroe5OUvv","ConfigData");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.ConfigData=void 0;var r=t("../../script/framework/utils/SheetManager"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.init=function(){var t,o=r.SheetManager.getList("ConfigData");for(var n in console.log("ConfigData",o),o)"keys"!=n&&(t=e.get(n)),t&&(this[t.name]=t.value,t=null)},e.get=function(t){return this[t]?this[t]:r.SheetManager.get("ConfigData",t,e)},e}(t("./Sheets").ConfigDataBase);o.ConfigData=a,cc._RF.pop()},{"../../script/framework/utils/SheetManager":"SheetManager","./Sheets":"Sheets"}],DelayMove:[function(t,e,o){"use strict";cc._RF.push(e,"6f830VbCrtI7LOsqdbHhjnF","DelayMove");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a,s=t("../enum/enum"),c=t("../utils/Common");(function(t){t[t.NONE=0]="NONE",t[t.LEFT=1]="LEFT",t[t.RIGHT=2]="RIGHT",t[t.CENTER=8]="CENTER"})(a||(a={}));var u=cc._decorator,l=u.ccclass,p=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.moveNode=null,e.distince=-100,e.showBanner=!0,e.moveType=s.DELAY_MOVE_TYPE.NONE,e.horizontal=a.CENTER,e.mMoveNum=0,e.mContinueTime=0,e.mDelayTime=1.5,e.preloadIndex=-1,e}return i(e,t),e.prototype.start=function(){},e.prototype.initCfg=function(){this.mContinueTime=parseFloat(Lite.config.getKey("OffsetBannerContinueTime",0)+""),this.mDelayTime=parseFloat(Lite.config.getKey("OffsetBannerDelayTime",0)+""),this.moveType==s.DELAY_MOVE_TYPE.SKIN?this.mMoveNum=Lite.config.getKey("SkinWudian"):this.moveType==s.DELAY_MOVE_TYPE.END_GAME&&(this.mMoveNum=Lite.config.getKey("RewardOffsetBanner")),3==this.mMoveNum&&(this.mMoveNum=c.default.randomNumBoth(1,2))},e.prototype.onEnable=function(){},e.prototype.createDelayBanner=function(t){void 0===t&&(t=0),this.showBanner&&this.scheduleOnce(this.createBanner,t)},e.prototype.createBanner=function(){this.moveType==s.DELAY_MOVE_TYPE.SKIN?this.horizontal==moosnow.BANNER_HORIZONTAL.LEFT?moosnow.platform.showBanner(!0,null,moosnow.BANNER_HORIZONTAL.LEFT,moosnow.BANNER_VERTICAL.BOTTOM,this.preloadIndex):this.horizontal==moosnow.BANNER_HORIZONTAL.CENTER?moosnow.platform.showBanner(!0,null,moosnow.BANNER_HORIZONTAL.CENTER,moosnow.BANNER_VERTICAL.BOTTOM,this.preloadIndex):this.horizontal==moosnow.BANNER_HORIZONTAL.RIGHT?moosnow.platform.showBanner(!0,null,moosnow.BANNER_HORIZONTAL.RIGHT,moosnow.BANNER_VERTICAL.BOTTOM,this.preloadIndex):console.log(" DelayMove ~ createBanner \u4f4d\u7f6e\u9519\u8bef ",this.horizontal):this.horizontal==moosnow.BANNER_HORIZONTAL.LEFT?moosnow.platform.showFlashBanner(moosnow.BANNER_HORIZONTAL.LEFT,moosnow.BANNER_VERTICAL.BOTTOM,this.preloadIndex):this.horizontal==moosnow.BANNER_HORIZONTAL.CENTER?moosnow.platform.showFlashBanner(moosnow.BANNER_HORIZONTAL.CENTER,moosnow.BANNER_VERTICAL.BOTTOM,this.preloadIndex):this.horizontal==moosnow.BANNER_HORIZONTAL.RIGHT?moosnow.platform.showFlashBanner(moosnow.BANNER_HORIZONTAL.RIGHT,moosnow.BANNER_VERTICAL.BOTTOM,this.preloadIndex):console.log(" DelayMove ~ createBanner \u4f4d\u7f6e\u9519\u8bef ",this.horizontal)},e.prototype.initPosition=function(){this.pos1||(this.pos1=this.moveNode.position.clone(),this.pos2=this.pos1.clone().add(new cc.Vec2(0,this.distince))),this.moveNode.active=!1},e.prototype.createTempNode=function(){var t=cc.instantiate(this.moveNode);return t.active=!0,this.moveNode.parent.addChild(t),t.x=this.pos2.x,t.y=this.pos2.y,this.mTempButtom=t,t},e.prototype.removeTemp=function(){this.mTempButtom&&(this.mTempButtom.active=!1,this.mTempButtom.removeFromParent(),this.mTempButtom.destroy())},e.prototype.onDisable=function(){this.removeTemp(),moosnow.platform.hideBanner(),moosnow.form.hideAd(null),this.unschedule(this.createBanner)},r([p({tooltip:"\u79fb\u52a8\u7684\u8282\u70b9",type:cc.Node})],e.prototype,"moveNode",void 0),r([p({tooltip:"Y\u8f74\u79fb\u52a8\u5230\u76ee\u524d\u70b9\u7684\u8ddd\u79bb"})],e.prototype,"distince",void 0),r([p({tooltip:"\u662f\u5426\u663e\u793abanner"})],e.prototype,"showBanner",void 0),r([p({type:cc.Enum(s.DELAY_MOVE_TYPE)})],e.prototype,"moveType",void 0),r([p({type:cc.Enum(a)})],e.prototype,"horizontal",void 0),r([l],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../enum/enum":"enum","../utils/Common":"Common"}],DelayShow:[function(t,e,o){"use strict";cc._RF.push(e,"6a8b7YCZhxAPa8MuKT925SK","DelayShow");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.delayNode=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.onEnable=function(){var t=this;this.delayNode.active=!1,moosnow.http.getAllConfig(function(e){var o=e&&!isNaN(e.delayShow)?parseFloat(e.delayShow):0;o>0?(t.delayNode.active=!1,t.scheduleOnce(function(){t.delayNode.active=!0},o)):t.delayNode.active=!0})},r([c(cc.Node)],e.prototype,"delayNode",void 0),r([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{}],Delay:[function(t,e,o){"use strict";cc._RF.push(e,"efc2baB0I9Af7MyCBRLxWXZ","Delay"),Object.defineProperty(o,"__esModule",{value:!0}),o.Delay=void 0;var n=function(){function t(){}return t.clearAll=function(){},t.delay=function(t){return new Promise(function(e){0!=t?cc.Canvas.instance.scheduleOnce(function(){e(!0)},t):e()})},t.delay1=function(t){return new Promise(function(e){0!=t?setTimeout(function(){e(!0)},t):e()})},t.delayTo=function(t,e){return new Promise(function(o){cc.Canvas.instance.schedule(function(){o(e)},t)})},t}();o.Delay=n,cc._RF.pop()},{}],EasterEgg:[function(t,e,o){"use strict";cc._RF.push(e,"89fe325KxlMW43YSpkTKtDn","EasterEgg");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.EasterEgg=void 0;var r=t("./Sheets"),a=t("../../script/framework/utils/SheetManager"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.get=function(t){return this[t]?this[t]:a.SheetManager.get("EasterEgg",t,e)},e.getAll=function(){var t,o=a.SheetManager.getList("EasterEgg"),n=[];for(var i in o)"keys"!=i&&(t=e.get(i)),t&&(n.push(t),t=null);return n},e}(r.EasterEggBase);o.EasterEgg=s,cc._RF.pop()},{"../../script/framework/utils/SheetManager":"SheetManager","./Sheets":"Sheets"}],EntityData:[function(t,e,o){"use strict";cc._RF.push(e,"79c58CLqqBBF6JWDqOsHcEy","EntityData"),Object.defineProperty(o,"__esModule",{value:!0}),o.EntityData=void 0;var n=function(){function t(t,e,o){this.position=null,this.scale=null,this.rotation=null,this.data=null,t&&this.positionEmpty(),e&&this.rotationEmpty(),o&&this.scaleEmpty()}return Object.defineProperty(t,"empty",{get:function(){return new t},enumerable:!1,configurable:!0}),t.prototype.positionEmpty=function(){this.position={x:0,y:0,z:0}},t.prototype.scaleEmpty=function(){this.scale={x:1,y:1,z:1}},t.prototype.rotationEmpty=function(){this.rotation={x:0,y:0,z:0}},t}();o.EntityData=n,cc._RF.pop()},{}],EntityLogic:[function(t,e,o){"use strict";cc._RF.push(e,"7873cLAw99GBrJeY+Edgg2R","EntityLogic");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(t){function e(){var e=t.call(this)||this;return e.poolName="",e}return i(e,t),e.prototype.onEnable=function(){},e.prototype.start=function(){},Object.defineProperty(e.prototype,"LogicData",{get:function(){return this.mLogicData},enumerable:!1,configurable:!0}),e.prototype.willShow=function(t){this.mLogicData=t,t&&(isNaN(t.x)||(this.node.x=t.x),isNaN(t.y)||(this.node.y=t.y),isNaN(t.width)||(this.node.width=t.width),isNaN(t.height)||(this.node.height=t.height))},e.prototype.onShow=function(){},e.prototype.onFwUpdate=function(){},e.prototype.willHide=function(){},e.prototype.onHide=function(){},e.prototype.onCollision=function(){},e.prototype.unuse=function(){},e.prototype.reuse=function(){},e.prototype.pause=function(){},e.prototype.resume=function(){},e.prototype.onDisable=function(){},e}(cc.Component);o.default=r,cc._RF.pop()},{}],EntityModule:[function(t,e,o){"use strict";cc._RF.push(e,"96f5fl0pJ1IpLMNSvab7Du2","EntityModule");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../entity/EntityLogic"),s=t("./BaseModule"),c=cc._decorator,u=c.ccclass,l=(c.property,function(t){function e(){var e=t.call(this)||this;return e.entityLogics=[],e._serializeId=0,e.paused=!0,e.prefabPath="prefab/entity/",e.entityPools=[],e.mIsSlow=!0,e.levelKeyQuene=[],e.entityLogics=[],e._serializeId=0,e._serializeId=0,e}return i(e,t),e.prototype.start=function(){Lite.entity=this,this.resume()},e.prototype.update=function(t){if(!this.paused)for(var e=0;e<this.entityLogics.length;e++)this.entityLogics[e].onFwUpdate(t)},e.prototype.pause=function(){this.paused=!0},e.prototype.resume=function(){this.paused=!1},e.prototype.addLevelKey=function(t,e){var o=this.levelKey(t,e);0==this.levelKeyQuene.filter(function(t){return t==o}).length&&this.levelKeyQuene.push(o)},e.prototype.levelKey=function(t,e){return"level"+t+"_"+e},e.prototype.addPrefab=function(t,e,o){void 0===o&&(o=!0),console.log(" addPrefab ~ name",t),o?this[t]=e:this[t]?console.error("\u5df2\u7ecf\u5b58\u5728\u540c\u540d prefab",this[t]):this[t]=e},e.prototype.addLevelPrefab=function(t,e,o,n){void 0===n&&(n=!0),this.addLevelKey(t,e);var i=this.levelKey(t,e);this.addPrefab(i,o,n)},e.prototype.showLevelEntity=function(t,e,o,n){this.showEntity(this.levelKey(t,e),o,n)},e.prototype.getAllLevelEntityByName=function(t,e){var o=this.levelKey(t,e);return this.entityLogics.filter(function(t){return t.poolName==o})},e.prototype.getAllLevelEntity=function(t){var e=this.levelKey(t,"");return this.entityLogics.filter(function(t){return-1!=t.poolName.indexOf(e)})},e.prototype.getAllEntity=function(t){return this.entityLogics.filter(function(e){return e.poolName==t})},e.prototype.showEntity=function(t,e,o){var n=this._showEntity(t);return n.id=this._serializeId++,n.node.parent=e,n.node.active=!1,n.willShow(o),n.node.active=!0,n.node.zIndex=n.id,n.onShow(o),this.entityLogics.push(n),n},e.prototype.hideEntity=function(t,e,o){void 0===o&&(o=!1),this._hideEntity(t,e,o)},e.prototype.hideAllEntity=function(t,e){void 0===e&&(e=!1);for(var o=0;o<this.entityLogics.length;o++){var n=this.entityLogics[o];n.poolName==t&&(this.hideEntity(n,null,e),o--)}},e.prototype._showEntity=function(t){var e=this._getOrNewEntityPool(t),o=e.get();null==o&&(o=this._createEntity(t)),o||console.warn(t);var n=o.getComponent(a.default);return n.poolName=e.name,n},e.prototype._hideEntity=function(t,e,o){if(void 0===o&&(o=!1),o)t.willHide(e),t.node.active=!1,t.onHide(e),t.node.destroy();else{var n=this._getOrNewEntityPool(t.poolName);t.willHide(e),n.put(t.node),t.node.active=!1,t.onHide(e),t.node.removeFromParent()}cc.js.array.remove(this.entityLogics,t)},e.prototype._createEntity=function(t){var e=this._getPrefabByName(t);return cc.instantiate(e)},e.prototype._getPrefabByName=function(t){return this[t]},e.prototype._getOrNewEntityPool=function(t){var e=this._getEntityPool(t);return null==e&&(e=this._newEntityPool(t)),e},e.prototype._getEntityPool=function(t){for(var e=0;e<this.entityPools.length;e++){var o=this.entityPools[e];if(o.name===t)return o}return null},e.prototype._newEntityPool=function(t){var e=new cc.NodePool(t);return e.name=t,this.entityPools.push(e),e},r([u],e)}(s.default));o.default=l,cc._RF.pop()},{"../entity/EntityLogic":"EntityLogic","./BaseModule":"BaseModule"}],Entitys:[function(t,e,o){"use strict";cc._RF.push(e,"3918bLsqGdEqbUk+ioPm3hm","Entitys"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.mapItem="mapItem",t.end="end",t.beautifyScene="beautify",t.road="road",t.buffer="buffer",t.side="side",t.role="role",t.trap="trap",t.roleBullet="rolebullet",t.enemy="enemy",t.enemyBullet="enemybullet",t}();o.default=n,cc._RF.pop()},{}],FrameworkEvent:[function(t,e,o){"use strict";cc._RF.push(e,"84144IDHxFCyKrGLYLIXVsv","FrameworkEvent"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.GAME_STATE_START="GAME_STATE_START",t.GAME_STATE_OVER="GAME_STATE_OVER",t.GAME_CUT_END="GAME_CUT_END",t.GAME_REFRESH_CUT_NUM="GAME_REFRESH_CUT_NUM",t.GAME_LEVEL_END="GAME_LEVEL_END",t.GAME_STATE_RESPAWN="GAME_STATE_RESPAWN",t.GAME_STATE_PAUSE="GAME_STATE_PAUSE",t.GAME_STATE_RESUME="GAME_STATE_RESUME",t.GAME_STATE_NEXT="GAME_STATE_NEXT",t.GAME_STATE_REPLAY="GAME_STATE_REPLAY",t.GAME_STATE_CANCEL="GAME_STATE_CANCEL",t.GAME_STATE_FAST_END="GAME_STATE_FAST_END",t.REPLAY_LEVEL="REPLAY_LEVEL",t.SHOW_TRANSITION="SHOW_TRANSITION",t.HIDE_TRANSITION="HIDE_TRANSITION",t.VIBRATESWITCH_CHANGED="VIBRATESWITCH_CHANGED",t.SOUNDSWITCH_CHANGED="SOUNDSWITCH_CHANGED",t.MUSICSWITCH_CHANGED="MUSICSWITCH_CHANGED",t.ON_PLATFORM_SHOW="ON_PLATFORM_SHOW",t.ON_PLATFORM_HIDE="ON_PLATFORM_HIDE",t.SKIN_CHANGE="SKIN_CHANGE",t.SKIN_UNLOCK="SKIN_UNLOCK",t.SKIN_SELECT="SKIN_SELECT",t.TOUCH_UP="TOUCH_UP",t.TOUCH_MOVE="TOUCH_MOVE",t.TOUCH_DOWN="TOUCH_DOWN",t.ROCKER_MOVE="ROCKER_MOVE",t.ROCKER_JUMP="ROCKER_JUMP",t.ROCKER_ATTACK="ROCKER_ATTACK",t.LEVEL_CHANGED="LEVEL_CHANGED",t.DIAMOND_CHANGED="DIAMOND_CHANGED",t.ROLE_HP_CHANGED="ROLE_HP_CHANGED",t.CLEAR_ALL_MAP="CLEAR_ALL_MAP",t.RECEIVE_RAIN="RECEIVE_RAIN",t.SP_NUM_CHANGED="SP_NUM_CHANGED",t.FOLLOW_CHANGED="FOLLOW_CHANGED",t.CAMERA_CHANGED="CAMERA_CHANGED",t.PRIZE_BOX_UNLOCAK="PRIZE_BOX_UNLOCAK",t.PRIZE_KEY_CHANGE="PRIZE_KEY_CHANGE",t.PLAYER_ANIM="PLAYER_ANIM",t.PLAYER_ANIM_COLOR_CHANGE="PLAYER_ANIM_COLOR_CHANGE",t.PLAYER_HIT="PLAYER_HIT",t.PLAYER_DEATH="PLAYER_DEATH",t.PLAYER_SKILL="PLAYER_SKILL",t.PLAYER_SKILL_RANGE="PLAYER_SKILL_RANGE",t.LEVEL_RATE_CHANGE="LEVEL_RATE_CHANGE",t.LEVEL_COIN_CHANGE="LEVEL_COIN_CHANGE",t.MASTER_HIT="MASTER_HIT",t.MASTER_DEATH="MASTER_DEATH",t.MASTER_CLEAR="MASTER_CLEAR",t.CHANGE_SKILL_TYPE="CHANGE_SKILL_TYPE",t.CREATE_MASTER="CREATE_MASTER",t.RECOVERY_MASTER="RECOVERY_MASTER",t.CREATE_COINS="CREATE_COINS",t.RECOVERY_COINS="RECOVERY_COINS",t.CREATE_HITNUM="CREATE_HITNUM",t.RECOVERY_HITNUM="RECOVERY_HITNUM",t.SHOW_COLLISION_WARN="SHOW_COLLISION_WARN",t.RECOVERY_COLLISION_WARN="RECOVERY_COLLISION_WARN",t.SHOW_LIANZHAN="SHOW_LIANZHAN",t.END_SHOW_LIANZHAN="END_SHOW_LIANZHAN",t.SHOW_BUFF="SHOW_BUFF",t.CAN_HIT="CAN_HIT",t.PLAYER_CAN_MOVE="PLAYER_CAN_MOVE",t.PLAYER_STATE_DEATH="PLAYER_STATE_DEATH",t.COIN_CHANGED="COIN_CHANGED",t.STRENGTH_CHANGED="STRENGTH_CHANGED",t.EQUIP_CHANGE="EQUIP_CHANGE",t.EQUIP_GET="EQUIP_GET",t.GUIDANCE_NOVICE="GUIDANCE_NOVICE",t.GUIDANCE_ATTACK="GUIDANCE_ATTACK",t.TOUCH_CANCEL="TOUCH_CANCEL",t.SHOW_BACKGROUND="SHOW_BACKGROUND",t}();o.default=n,cc._RF.pop()},{}],GameDataCenter:[function(t,e,o){"use strict";cc._RF.push(e,"20893XGhcFIXq/Eim7yIV/L","GameDataCenter");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=t("../framework/modules/BaseModule"),a=t("../framework/utils/FrameworkEvent"),s=t("../framework/utils/Common"),c=t("../../sheets/vo/LevelCfg"),u=t("../../sheets/vo/SkinCfg"),l=function(t){function e(){var e=t.call(this)||this;return e.STRENGTH="STRENGTH",e.REFRESH_STRENGTH_TIME="REFRESH_STRENGTH_TIME",e.PLAYER_HP_MAX="PLAYER_HP_MAX",e.PLAYER_ATTACK="PLAYER_ATTACK",e.PLAYER_HP_LEVEL="PLAYER_HP_LEVEL",e.PLAYER_ATTACK_LEVEL="PLAYER_ATTACK_LEVEL",e.PLAYER_EQUIP_WEAPON="PLAYER_EQUIP_WEAPON",e.PLAYER_GUIDANCE="PLAYER_GUIDANCE",e.TASK_DATA="TASK_DATA",e.WEAPON_DATA="WEAPON_DATA",e.TURNTABLE_NUM="TURNTABLE_NUM",e.DRAW_FLAG="DRAW_FLAG",e.LOGIN_DATE="LOGIN_DATE",e.CURRENT_NEW_USER="CURRENT_NEW_USER",e.VIBRATE_SWITCH="VIBRATE_SWITCH",e.CURRENT_LEVEL="CURRENT_LEVEL",e.TOKEN="token",e.OPEN_ID="OPEN_ID",e.SP_NUM="SP_NUM",e.SP_DATE="SP_DATE",e.FOLLOW_TAG="FOLLOW_TAG",e.USER_LEVEL="USER_LEVEL",e.COIN="COIN",e.DIAMOND="DIAMOND",e.SIGN_NUM="SIGN_NUM",e.SIGN_DATE="SIGN_DATE",e.TRYING_DATE="TRYING_DATE",e.TRYING_GUN="TRYING_GUN",e.EGG_SKIN="EGG_SKIN",e.USE_EGG_SKIN="USE_EGG_SKIN",e.SIGN_VIDEO_DATE="SIGN_VIDEO_DATE",e.COIN_ADD="COIN_ADD",e.AIR_DROP_NUM="AIR_DROP_NUM",e.BENEFITS_TIME="BENEFITS_TIME",e.CURRENT_SKIN="CURRENT_SKIN",e.USER_SKIN="USER_SKIN",e.USER_PRIZE_KEY="USER_PRIZE_KEY",e.mCurrentMisTouchCount=0,e.AD_FORM_TAG="",e.mUserLevel=null,e.mCoin=0,e.mStrength=0,e.mDiamond=0,e.weaponData=[1],e.taskData={killnum:0,killget:!1,skillnum:0,skillget:!1,levelnum:0,levelget:!1,hpupnum:0,hpupget:!1,attackupnum:0,attackupget:!1,data:"0"},e.mMistouchTag=1,e.mCutNum=0,e.initNewData(),e}return i(e,t),Object.defineProperty(e.prototype,"adFormTag",{get:function(){return this.AD_FORM_TAG},set:function(t){this.AD_FORM_TAG=t},enumerable:!1,configurable:!0}),e.prototype.getCurrentMisTouchCount=function(){return this.mCurrentMisTouchCount},e.prototype.setCurrentMisTouchCount=function(t){this.mCurrentMisTouchCount=t},e.prototype.getCoinAdd=function(){return moosnow.setting.getInt(this.COIN_ADD,1)},e.prototype.setCoinAdd=function(t){moosnow.setting.setValue(this.COIN_ADD,t)},e.prototype.getIsNew=function(){return moosnow.setting.getBool(this.CURRENT_NEW_USER,!0)},e.prototype.setIsNew=function(t){moosnow.setting.setBool(this.CURRENT_NEW_USER,t)},e.prototype.getToken=function(){return moosnow.setting.getString(this.TOKEN,"")},e.prototype.setToken=function(t){moosnow.setting.setValue(this.TOKEN,t)},e.prototype.getOpenid=function(){return moosnow.setting.getString(this.OPEN_ID,"")},e.prototype.setOpenid=function(t){moosnow.setting.setValue(this.OPEN_ID,t)},e.prototype.getVibrateSetting=function(){return moosnow.setting.getBool(this.VIBRATE_SWITCH,!0)},e.prototype.setVibrateSetting=function(t){moosnow.setting.setBool(this.VIBRATE_SWITCH,t),moosnow.event.sendEventImmediately(a.default.VIBRATESWITCH_CHANGED,t)},e.prototype.getRefreshTime=function(){return moosnow.setting.getString(this.REFRESH_STRENGTH_TIME,"")},e.prototype.setRefreshTime=function(t){moosnow.setting.setValue(this.REFRESH_STRENGTH_TIME,t)},e.prototype.getPlayerHPMax=function(){return moosnow.setting.getString(this.PLAYER_HP_MAX,"60")},e.prototype.setPlayerHPMax=function(t){moosnow.setting.setValue(this.PLAYER_HP_MAX,t)},e.prototype.getPlayerAttack=function(){return moosnow.setting.getString(this.PLAYER_ATTACK,"12")},e.prototype.setPlayerAttack=function(t){moosnow.setting.setValue(this.PLAYER_ATTACK,t)},e.prototype.getPlayerHPLevel=function(){return moosnow.setting.getString(this.PLAYER_HP_LEVEL,"1")},e.prototype.setPlayerHPLevel=function(t){moosnow.setting.setValue(this.PLAYER_HP_LEVEL,t)},e.prototype.getPlayerAttackLevel=function(){return moosnow.setting.getString(this.PLAYER_ATTACK_LEVEL,"1")},e.prototype.setPlayerAttackLevel=function(t){moosnow.setting.setValue(this.PLAYER_ATTACK_LEVEL,t)},e.prototype.getPlayerEquipWeapon=function(){return moosnow.setting.getString(this.PLAYER_EQUIP_WEAPON,"1")},e.prototype.setPlayerEquipWeapon=function(t){moosnow.setting.setValue(this.PLAYER_EQUIP_WEAPON,t)},e.prototype.getGuidance=function(){return moosnow.setting.getBool(this.PLAYER_GUIDANCE,!1)},e.prototype.setGuidance=function(t){moosnow.setting.setBool(this.PLAYER_GUIDANCE,t)},e.prototype.getTurntableNum=function(){return moosnow.setting.getInt(this.TURNTABLE_NUM,0)},e.prototype.setTurntableNum=function(t){moosnow.setting.setValue(this.TURNTABLE_NUM,t)},e.prototype.getDrawFlag=function(){return moosnow.setting.getBool(this.DRAW_FLAG,!0)},e.prototype.setDrawFlag=function(t){moosnow.setting.setBool(this.DRAW_FLAG,t)},e.prototype.initNewData=function(){this.getToken()||(console.log("initNewData   ===================================  \u521d\u59cb\u5316 "),moosnow.setting.setValue(this.CURRENT_LEVEL,1),moosnow.setting.setValue(this.COIN,500),moosnow.setting.setValue(this.STRENGTH,5),moosnow.setting.setObject(this.USER_SKIN,{10001:{coinNum:1e3}}),this.setRefreshTime(0),this.addSp(3),this.setToken(s.default.generateUUID()))},e.prototype.getAirdropNum=function(){return moosnow.setting.getInt(this.AIR_DROP_NUM,10)},e.prototype.setAirdropNum=function(t){void 0===t&&(t=1),moosnow.setting.setValue(this.AIR_DROP_NUM,t)},e.prototype.getBenefitsTime=function(){return moosnow.setting.getInt(this.BENEFITS_TIME,0)},e.prototype.setBenefitsTime=function(t){moosnow.setting.setValue(this.BENEFITS_TIME,t)},e.prototype.getCurrentLevel=function(){return this.mCurrentLevel?this.mCurrentLevel:moosnow.setting.getInt(this.CURRENT_LEVEL,1)},e.prototype.setCurrentLevel=function(t){return this.mCurrentLevel=t,moosnow.setting.setValue(this.CURRENT_LEVEL,t)},e.prototype.addCurrentLevel=function(t){void 0===t&&(t=1);var e=moosnow.setting.appendInt(this.CURRENT_LEVEL,t);this.mCurrentLevel=e,moosnow.event.sendEventImmediately(a.default.LEVEL_CHANGED,e)},e.prototype.getUserLevel=function(){return this.mUserLevel||(this.mUserLevel=moosnow.setting.getObject(this.USER_LEVEL,"{}")),this.mUserLevel},e.prototype.getMaxLevel=function(){var t=0,e=Lite.data.getUserLevel();for(var o in e)parseInt(o)>t&&(t=parseInt(o));return t+1},e.prototype.initUserLevel=function(){var t=c.LevelCfg.getAll(),e=this.getUserLevel();if(s.default.isEmpty(e)){for(var o=0;o<t.length;o++){var n=t[o].prefab;e[o]={time:0,prefab:n}}moosnow.setting.setObject(this.USER_LEVEL,this.mUserLevel)}},e.prototype.setUserLevel=function(t,e){void 0===e&&(e=0);var o=this.getUserLevel();o[t]&&(o[t].time=e),moosnow.setting.setObject(this.USER_LEVEL,this.mUserLevel)},e.prototype.getNextLevel=function(){var t=this.getUserLevel(),e=this.getCurrentLevel();for(var o in t)0==t[o].time&&parseInt(o)<e&&(e=parseInt(o));return e},e.prototype.getCoin=function(){return 0==this.mCoin&&(this.mCoin=moosnow.setting.getInt(this.COIN,0)),this.mCoin},e.prototype.subCoin=function(t){this.mCoin-=t,this.saveCoin(),moosnow.event.sendEventImmediately(a.default.COIN_CHANGED,this.mCoin)},e.prototype.addCoin=function(t){this.mCoin+=t,this.saveCoin(),moosnow.event.sendEventImmediately(a.default.COIN_CHANGED,this.mCoin)},e.prototype.setCoin=function(t){this.mCoin=t,this.saveCoin(),moosnow.event.sendEventImmediately(a.default.COIN_CHANGED,this.mCoin)},e.prototype.saveCoin=function(){moosnow.setting.setValue(this.COIN,this.mCoin)},e.prototype.getStrength=function(){return 0==this.mStrength&&(this.mStrength=moosnow.setting.getInt(this.STRENGTH,0)),this.mStrength},e.prototype.subStrength=function(t){this.mStrength-=t,this.saveStrength(),moosnow.event.sendEventImmediately(a.default.STRENGTH_CHANGED,this.mStrength)},e.prototype.addStrength=function(t){this.mStrength+=t,this.saveStrength(),moosnow.event.sendEventImmediately(a.default.STRENGTH_CHANGED,this.mStrength)},e.prototype.setStrength=function(t){this.mStrength=t,this.saveStrength(),moosnow.event.sendEventImmediately(a.default.STRENGTH_CHANGED,this.mStrength)},e.prototype.saveStrength=function(){moosnow.setting.setValue(this.STRENGTH,this.mStrength)},e.prototype.getDiamond=function(){return 0==this.mDiamond&&(this.mDiamond=moosnow.setting.getInt(this.DIAMOND,0)),this.mDiamond},e.prototype.subDiamond=function(t){this.mDiamond-=t,moosnow.event.sendEventImmediately(a.default.DIAMOND_CHANGED,this.mDiamond)},e.prototype.addDiamond=function(t){this.mDiamond+=t,moosnow.event.sendEventImmediately(a.default.DIAMOND_CHANGED,this.mDiamond)},e.prototype.setDiamond=function(t){this.mDiamond=t,moosnow.event.sendEventImmediately(a.default.DIAMOND_CHANGED,this.mDiamond)},e.prototype.saveDiamond=function(){moosnow.setting.setValue(this.DIAMOND,this.mDiamond)},e.prototype.getSignNum=function(){return moosnow.setting.getInt(this.SIGN_NUM,0)},e.prototype.addSignNum=function(){moosnow.setting.appendInt(this.SIGN_NUM,1),moosnow.setting.setValue(this.SIGN_DATE,s.default.formatTime(new Date))},e.prototype.setVideoSign=function(){moosnow.setting.setValue(this.SIGN_VIDEO_DATE,s.default.formatTime(new Date))},e.prototype.getIsSign=function(){return s.default.formatTime(new Date)==moosnow.setting.getString(this.SIGN_DATE,"")},e.prototype.getIsVideoSign=function(){return s.default.formatTime(new Date)==moosnow.setting.getString(this.SIGN_VIDEO_DATE,"")},e.prototype.getLoginDate=function(){return moosnow.setting.getString(this.LOGIN_DATE,"")},e.prototype.setLoginDate=function(){moosnow.setting.setValue(this.LOGIN_DATE,s.default.formatTime(new Date))},e.prototype.getWeaponData=function(){return this.weaponData=JSON.parse(moosnow.setting._getValue(this.WEAPON_DATA,JSON.stringify(this.weaponData))),this.weaponData},e.prototype.setWeaponData=function(t){moosnow.setting.setValue(this.WEAPON_DATA,JSON.stringify(t))},e.prototype.getTaskData=function(){this.taskData=moosnow.setting.getObject(this.TASK_DATA,"{}");var t=s.default.formatTime(new Date);return null!=this.taskData&&this.taskData.data==t||(this.taskData.data=t,this.taskData.killnum=0,this.taskData.skillnum=0,this.taskData.levelnum=0,this.taskData.hpupnum=0,this.taskData.attackupnum=0,this.taskData.killget=!1,this.taskData.skillget=!1,this.taskData.levelget=!1,this.taskData.hpupget=!1,this.taskData.attackupget=!1,this.setTaskData(this.taskData)),this.taskData},e.prototype.setTaskData=function(t){moosnow.setting.setObject(this.TASK_DATA,t)},e.prototype.setTaskKillNum=function(t){var e=this.getTaskData();e.killnum+=t,this.taskData=e,this.setTaskData(this.taskData)},e.prototype.setTaskKillGet=function(){var t=this.getTaskData();t.killget=!0,this.taskData=t,this.setTaskData(this.taskData)},e.prototype.setTaskSkillNum=function(t){var e=this.getTaskData();e.skillnum+=t,this.taskData=e,this.setTaskData(this.taskData)},e.prototype.setTaskSkillGet=function(){var t=this.getTaskData();t.skillget=!0,this.taskData=t,this.setTaskData(this.taskData)},e.prototype.setTaskLevelNum=function(t){var e=this.getTaskData();e.levelnum+=t,this.taskData=e,this.setTaskData(this.taskData)},e.prototype.setTaskLevelGet=function(){var t=this.getTaskData();t.levelget=!0,this.taskData=t,this.setTaskData(this.taskData)},e.prototype.setTaskHpUpNum=function(t){var e=this.getTaskData();e.hpupnum+=t,this.taskData=e,this.setTaskData(this.taskData)},e.prototype.setTaskHpUpGet=function(){var t=this.getTaskData();t.hpupget=!0,this.taskData=t,this.setTaskData(this.taskData)},e.prototype.setTaskAttackUpNum=function(t){var e=this.getTaskData();e.attackupnum+=t,this.taskData=e,this.setTaskData(this.taskData)},e.prototype.setTaskAttackUpGet=function(){var t=this.getTaskData();t.attackupget=!0,this.taskData=t,this.setTaskData(this.taskData)},e.prototype.getCurrentSkinId=function(){return this.mCurrentSkinId||(this.mCurrentSkinId=moosnow.setting.getInt(this.CURRENT_SKIN,10001)),this.mCurrentSkinId},e.prototype.setCurrentSkinId=function(t){return this.mCurrentSkinId=t,moosnow.setting.setValue(this.CURRENT_SKIN,t),this.mCurrentSkinId},e.prototype.getUserSkin=function(){return this.mUserSkin||(this.mUserSkin=moosnow.setting.getObject(this.USER_SKIN,"{}")),this.mUserSkin},e.prototype.addUserSkinCoin=function(t){var e=this.getUserSkin(),o=u.SkinCfg.get(t);return e[t]||(e[t]={coinNum:o.coinNum}),this.mUserSkin=e,moosnow.setting.setObject(this.USER_SKIN,this.mUserSkin),this.mUserSkin},e.prototype.addUserSkinVideo=function(t){var e=this.getUserSkin();return e[t]?e[t].videoNum+=1:e[t]={videoNum:1},this.mUserSkin=e,moosnow.setting.setObject(this.USER_SKIN,this.mUserSkin),this.mUserSkin},e.prototype.getUserSkinById=function(t){return this.getUserSkin()[t]},e.prototype.addTrying=function(t){moosnow.setting.setValue(this.TRYING_GUN,t),moosnow.setting.setValue(this.TRYING_DATE,s.default.formatTime(new Date))},e.prototype.getIsTrying=function(){return s.default.formatTime(new Date)==moosnow.setting.getString(this.TRYING_DATE,"")},e.prototype.getTrying=function(){return moosnow.setting.getInt(this.TRYING_GUN,0)},e.prototype.getSelectSkin=function(){return this.mSelectSkin||(this.mSelectSkin=this.getCurrentSkinId()),this.mSelectSkin},e.prototype.setSelectSkin=function(t){this.mSelectSkin=t},e.prototype.getMistouchTag=function(){return this.mMistouchTag},e.prototype.setMistouchTag=function(t){this.mMistouchTag=t},e.prototype.getPrizeBox=function(){return this.mPrizeBox||(this.mPrizeBox={}),this.mPrizeBox},e.prototype.clearPrizeBox=function(){this.mPrizeBox={}},e.prototype.lockPrizeBox=function(t,e,o){void 0===o&&(o=0);var n=this.getPrizeBox();n[t]={prizeId:t,type:0==e?0:1,coinNum:o},this.mPrizeBox=n},e.prototype.getUserPrizeBoxById=function(t){return this.getPrizeBox()[t]},e.prototype.getPrizeKey=function(){return null==this.mPrizeKey&&(this.mPrizeKey=3),this.mPrizeKey},e.prototype.subPrizeKey=function(t){void 0===t&&(t=1),this.mPrizeKey-=t,moosnow.event.sendEventImmediately(a.default.PRIZE_KEY_CHANGE,this.mPrizeKey)},e.prototype.addPrizeKey=function(t){this.mPrizeKey+=t,moosnow.event.sendEventImmediately(a.default.PRIZE_KEY_CHANGE,this.mPrizeKey)},e.prototype.clearPrizeKey=function(){this.mPrizeKey=null,moosnow.setting.setValue(this.USER_PRIZE_KEY,"")},e.prototype.getEggSkin=function(){return this.mEggSkin||(this.mEggSkin=moosnow.setting.getObject(this.EGG_SKIN,"{}")),this.mEggSkin},e.prototype.hasEggSkin=function(t){return!!this.getEggSkin()[t]},e.prototype.unlockEggSkin=function(t){var e=this.getEggSkin();e[t]=!0,moosnow.setting.setObject(this.EGG_SKIN,e)},e.prototype.useEggSkin=function(t){moosnow.setting.setValue(this.USE_EGG_SKIN,t)},e.prototype.getUseEggSkin=function(){return moosnow.setting.getInt(this.USE_EGG_SKIN,0)},e.prototype.clearUseEggSkin=function(){moosnow.setting.setValue(this.USE_EGG_SKIN,"0")},e.prototype.clearCutNum=function(){this.mCutNum=0},e.prototype.addCutNum=function(t){this.mCutNum+=t,moosnow.event.sendEventImmediately(a.default.GAME_REFRESH_CUT_NUM,this.mCutNum)},e.prototype.getCutNum=function(){return this.mCutNum},e.prototype.addFollowSp=function(){this.getSpNum(),this.mSpNum+=5,moosnow.setting.setValue(this.SP_NUM,this.mSpNum),moosnow.event.sendEventImmediately(a.default.SP_NUM_CHANGED,this.mSpNum)},e.prototype.addVideoSp=function(){this.addSp(5)},e.prototype.getSpTime=function(){return moosnow.setting.getInt(this.SP_DATE,0)},e.prototype.addChangeTag=function(){moosnow.setting.setValue(this.FOLLOW_TAG,Date.now())},e.prototype.getChangeTag=function(){return moosnow.setting.getInt(this.FOLLOW_TAG,0)},e.prototype.addTimeSp=function(){this.addSp(1),moosnow.setting.setValue(this.SP_DATE,Date.now())},e.prototype.addSp=function(t){this.getSpNum(),this.mSpNum+=t,this.mSpNum>10&&(this.mSpNum=10),this.mSpNum<=0&&(this.mSpNum=0),moosnow.setting.setValue(this.SP_NUM,this.mSpNum),moosnow.event.sendEventImmediately(a.default.SP_NUM_CHANGED,this.mSpNum)},e.prototype.getSpNum=function(){return this.mSpNum||(this.mSpNum=moosnow.setting.getInt(this.SP_NUM,0)),this.mSpNum<0&&(this.mSpNum=0),this.mSpNum},e}(r.default);o.default=l,cc._RF.pop()},{"../../sheets/vo/LevelCfg":"LevelCfg","../../sheets/vo/SkinCfg":"SkinCfg","../framework/modules/BaseModule":"BaseModule","../framework/utils/Common":"Common","../framework/utils/FrameworkEvent":"FrameworkEvent"}],GameLogic:[function(t,e,o){"use strict";cc._RF.push(e,"3372cAZdgVPy5M0W6kKU1nw","GameLogic"),Object.defineProperty(o,"__esModule",{value:!0});o.default=function(){},cc._RF.pop()},{}],GameState:[function(t,e,o){"use strict";cc._RF.push(e,"68601zqxg1I85/LwCfGqT+t","GameState");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./BaseModule"),s=t("../../config/UIForms"),c=t("../../framework/utils/FrameworkEvent"),u=t("../../../sheets/vo/LevelCfg"),l=t("../SiteMgr"),p=t("../BundleMgr"),h=t("../config/Bundles"),f=cc._decorator,d=f.ccclass,m=(f.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gamePause=!0,e.gameStarted=!1,e.role=null,e.gameLevel=1,e.player=null,e.map=null,e.cameraControl=null,e.masterNum=100,e.m_Num=0,e.m_Num_clone=0,e.m_Array=[],e.g_Level=1,e.startFlag=!1,e.guidancePro=0,e.attack_addition=0,e.hp_addition=0,e.isShow2MinAd=!0,e.gameCoin=0,e.isBoss=!1,e.mBeginTime=0,e.loginTime=0,e}return i(e,t),e.prototype.start=function(){Lite.myGame=this,moosnow.event.addListener(c.default.GAME_STATE_START,this,this.startGame),moosnow.event.addListener(c.default.GAME_STATE_OVER,this,this.gameOver),moosnow.event.addListener(c.default.GAME_STATE_RESPAWN,this,this.respawn),moosnow.event.addListener(c.default.GAME_STATE_RESUME,this,this.resumeGame),moosnow.event.addListener(c.default.GAME_STATE_PAUSE,this,this.pauseGame),moosnow.event.addListener(c.default.GAME_STATE_NEXT,this,this.nextGame),moosnow.event.addListener(moosnow.PLATFORM_EVENT.ON_PLATFORM_HIDE,this,function(t){console.log("game state  ON_PLATFORM_HIDE ",t),Lite.audio.pauseMusic()}),moosnow.event.addListener(moosnow.PLATFORM_EVENT.ON_PLATFORM_SHOW,this,function(t){console.log("game state  ON_PLATFORM_SHOW ",t),moosnow.platform.videoPlaying||Lite.audio.resumeMusic()})},e.prototype.init=function(){},e.prototype.playBgMusic=function(){Lite.audio.playGameMusic()},e.prototype.startGame=function(t){var e=this;this.gameStarted||(this.gameStarted=!0,this.mBeginTime=Date.now(),this.isBoss=!1,moosnow.form.hideAd(function(){}),p.default.loadGameBundle(function(){l.default.show([],function(){e.startGameLogic(t)})}))},e.prototype.startGameLogic=function(t){Lite.audio.stopMusic(),this.playBgMusic(),this.resumeGame(),Lite.myGame.gameLevel=t,this.g_Level=t,console.log("\u6e38\u620f\u5173\u5361 ",t),Lite.ui.hasUIForm(s.default.HomeForm)?Lite.ui.hideUIForm(s.default.HomeForm,null,function(){Lite.ui.hasUIForm(s.default.GameForm)||Lite.ui.pushUIForm(s.default.GameForm,{},null,h.default.gameform)}):Lite.ui.hasUIForm(s.default.GameForm)||Lite.ui.pushUIForm(s.default.GameForm,{},null,h.default.gameform),moosnow.http.startGame(t)},e.prototype.onLevelReload=function(){this.resumeGame()},e.prototype.pauseGame=function(){this.gamePause=!0,Lite.entity.pause()},e.prototype.resumeGame=function(){this.gamePause=!1,Lite.entity.resume()},e.prototype.respawn=function(){var t=this;Lite.audio.playRespawnEffect(function(){t.playBgMusic()}),this.resumeGame()},e.prototype.replay=function(){},e.prototype.gameOver=function(t){var e=this;if(this.gameStarted){this.gameStarted=!1;var o=Lite.data.getMistouchTag();Lite.data.setMistouchTag(o+1),p.default.loadEndBundle(function(){l.default.show(Lite.config.site03,function(){e.gameOverLogic(t)})})}},e.prototype.gameOverLogic=function(t){this.pauseGame(),Lite.audio.stopMusic();var e=Lite.data.getCurrentLevel(),o=Date.now()-this.mBeginTime;console.log("e.level =====================  "+t.level),moosnow.http.endGame(t.level,t.isWin),t.isWin&&(Lite.data.setUserLevel(t.level,o),t.level==e&&t.level<u.LevelCfg.getAll().length&&Lite.data.addCurrentLevel()),moosnow.event.sendEventImmediately(c.default.SHOW_TRANSITION,null),Lite.ui.pushUIForm(s.default.EndForm,{isWin:t.isWin,level:t.level},function(){moosnow.event.sendEventImmediately(c.default.HIDE_TRANSITION,null),console.log("\u7ed3\u675f\u9875\u5173\u95ed\u8fc7\u6e21\u9875")},h.default.endform)},e.prototype.nextGame=function(){if(!this.gameStarted){this.gameStarted=!0,this.resumeGame(),this.playBgMusic();var t=Lite.data.getCurrentLevel();this.mBeginTime=Date.now(),Lite.ui.hasUIForm(s.default.GameForm)||Lite.ui.pushUIForm(s.default.GameForm,{lvIndex:t,beginTime:this.mBeginTime})}},e.prototype.showAd=function(){},e.prototype.hideAd=function(){},e.prototype.showGameBanner=function(){},e.prototype.hideGameBanner=function(){},e.prototype.checkTimeTwoMinutes=function(){return 1!=Lite.config.getKey("mx_qrfz",0)||Date.parse((new Date).toString())-this.loginTime>=12e4},r([d],e)}(a.default));o.default=m,cc._RF.pop()},{"../../../sheets/vo/LevelCfg":"LevelCfg","../../config/UIForms":"UIForms","../../framework/utils/FrameworkEvent":"FrameworkEvent","../BundleMgr":"BundleMgr","../SiteMgr":"SiteMgr","../config/Bundles":"Bundles","./BaseModule":"BaseModule"}],LevelCfg:[function(t,e,o){"use strict";cc._RF.push(e,"dd1cdykPRVLR6MRisEmvYlK","LevelCfg");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.LevelCfg=void 0;var r=t("./Sheets"),a=t("../../script/framework/utils/SheetManager"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.get=function(t){return this[t]?this[t]:a.SheetManager.get("LevelCfg",t,e)},e.getAll=function(){var t,o=a.SheetManager.getList("LevelCfg"),n=[];for(var i in o)"keys"!=i&&(t=e.get(i)),t&&(n.push(t),t=null);return n},e}(r.LevelCfgBase);o.LevelCfg=s,cc._RF.pop()},{"../../script/framework/utils/SheetManager":"SheetManager","./Sheets":"Sheets"}],LevelRef:[function(t,e,o){"use strict";cc._RF.push(e,"e2d5eB2dcJL/I26wmkMecJp","LevelRef");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.LevelRef=void 0;var r=t("./Sheets"),a=t("../../script/framework/utils/SheetManager"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.get=function(t){return this[t]?this[t]:a.SheetManager.get("LevelRef",t,e)},e.getAll=function(){var t,o=a.SheetManager.getList("LevelRef"),n=[];for(var i in o)"keys"!=i&&(t=e.get(i)),t&&(n.push(t),t=null);return n},e}(r.LevelRefBase);o.LevelRef=s,cc._RF.pop()},{"../../script/framework/utils/SheetManager":"SheetManager","./Sheets":"Sheets"}],LoadingBase:[function(t,e,o){"use strict";cc._RF.push(e,"5d34dTxE1JBhYgn1JhZxyWL","LoadingBase");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../sheets/vo/ConfigData"),s=t("../BundleMgr"),c=t("../SiteMgr"),u=t("../utils/Common"),l=t("../utils/SheetManager"),p=cc._decorator,h=p.ccclass,f=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.txtProgress=null,e.txtVersion=null,e.progressBar=null,e.memo=null,e.content=null,e.c_Log=null,e.c_Tips=null,e.virtual1Progress=0,e.virtual1MaxProgress=80,e.virtual1Time=0,e.virtual1MaxTime=2,e.virtual2Progress=0,e.virtual2MaxProgress=15,e.virtual2Time=0,e.virtual2MaxTime=2,e.real1Progress=0,e.real2Progress=0,e.real3Progress=0,e.real1MaxProgress=20,e.real2MaxProgress=50,e.real3MaxProgress=20,e.openScene=!1,e.adProgress=1,e.adMaxProgress=10,e.finishFlag=!1,e.txtAnimIndex=0,e}return i(e,t),e.prototype.start=function(){},e.prototype.loadRes=function(){var t=this;console.log("load cfg json "),l.SheetManager.loadDB("data/cfg.json",function(){a.ConfigData.init(),Lite.data.initUserLevel(),Lite.resource.loadAssetDir("prefab/entity",cc.Prefab,function(e){t.real1Progress=(isNaN(e)?0:e)/100},function(e,o){o.forEach(function(t){Lite.entity.addPrefab(t.name,t,!0)}),t.real1Progress=1}),Lite.config.site01.length>0&&(t.adProgress=0,c.default.loadNextSite(Lite.config.site01,0,function(e){t.adProgress=e/100},function(){t.adProgress=1},!1)),t.real3Progress=1,t.real3Progress=0,s.default.loadGameBundle(function(){s.default.loadHomeBundle(function(){s.default.loadAdBundle(function(){t.real3Progress=1},function(e){t.real3Progress=e/100},!1)},function(){},!1)},function(){},!1),Lite.resource.preloadScene("Main",function(e,o){var n=e/o;t.real2Progress=isNaN(n)?0:n},function(){t.real2Progress=1})})},e.prototype.txtAnim=function(){var t,e=this,o=this.memo.children[this.txtAnimIndex%this.memo.childrenCount];this.txtAnimIndex>0&&(t=this.memo.children[(this.txtAnimIndex-1)%this.memo.childrenCount]);var n=o.x,i=o.y;if(o.runAction(cc.sequence(cc.moveTo(.2,cc.v2(n,i+20)),cc.callFunc(function(){e.txtAnimIndex++,e.txtAnim()}))),t){var r=t.x;t.y,t.runAction(cc.sequence(cc.moveTo(.2,cc.v2(r,0)),cc.callFunc(function(){})))}},e.prototype.onLoad=function(){var t=this,e=0;this.schedule(function(){1==++e?(t.c_Log.active=!1,t.content.active=!0):2==e&&(t.c_Tips.active=!1,t.finishFlag=!0)},2,1,2),this.scheduleOnce(function(){t.txtAnim(),moosnow.platform.login(),moosnow.http.getAllConfig(function(e){Lite.config.addConfig(e),t.loadRes()}),t.virtual1Progress=0,t.virtual2Progress=0,t.txtVersion.string="version "+moosnow.Common.config.version,moosnow.http.point("\u9875\u9762\u6253\u5f00\u6b21\u6570",{name:"Loading\u9875"})},0)},e.prototype.update=function(t){this.virtual1Time+=t,this.virtual1Time>this.virtual1MaxTime&&(this.virtual1Time=this.virtual1MaxTime),this.virtual1Progress=this.virtual1Time/this.virtual1MaxTime*this.virtual1MaxProgress,(this.virtual1Time=this.virtual1MaxTime)&&(this.virtual2Time+=t,this.virtual2Time>this.virtual2MaxTime&&(this.virtual2Time=this.virtual2MaxTime),this.virtual2Progress=this.virtual2Time/this.virtual2MaxTime*this.virtual2MaxProgress),this.progressChange()},e.prototype.progressChange=function(){if(!this.openScene){var t=this.virtual1Progress+this.virtual2Progress,e=this.real1Progress*this.real1MaxProgress+this.real2Progress*this.real2MaxProgress+this.real3Progress*this.real3MaxProgress+this.adProgress*this.adMaxProgress,o=t>e?t:e;isNaN(o)?this.txtProgress.string=u.default.numFixed(0,1)+"%":this.txtProgress.string=u.default.numFixed(o,1)+"%",this.progressBar.progress=o/100,o>=100&&this.finishFlag&&this.loadScene()}},e.prototype.loadScene=function(){this.openScene||(this.openScene=!0,Lite.resource.loadScene("Main"))},r([f(cc.Label)],e.prototype,"txtProgress",void 0),r([f(cc.Label)],e.prototype,"txtVersion",void 0),r([f(cc.ProgressBar)],e.prototype,"progressBar",void 0),r([f(cc.Node)],e.prototype,"memo",void 0),r([f(cc.Node)],e.prototype,"content",void 0),r([f(cc.Node)],e.prototype,"c_Log",void 0),r([f(cc.Node)],e.prototype,"c_Tips",void 0),r([h],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../../../sheets/vo/ConfigData":"ConfigData","../BundleMgr":"BundleMgr","../SiteMgr":"SiteMgr","../utils/Common":"Common","../utils/SheetManager":"SheetManager"}],Logger:[function(t,e,o){"use strict";cc._RF.push(e,"10f57ztvEpOELo4eqeZii3N","Logger"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.log.apply(console,t)},t.trace=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.log.apply(console,t)},t}();o.default=n,cc._RF.pop()},{}],LuckDraw:[function(t,e,o){"use strict";cc._RF.push(e,"4bfc8hl3kxEPZNAWas8dJgz","LuckDraw");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.LuckDraw=void 0;var r=t("./Sheets"),a=t("../../script/framework/utils/SheetManager"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.get=function(t){return this[t]?this[t]:a.SheetManager.get("luckDraw",t,e)},e.getAll=function(){var t,o=a.SheetManager.getList("luckDraw"),n=[];for(var i in o)"keys"!=i&&(t=e.get(i)),t&&(n.push(t),t=null);return n},e}(r.LuckDrawBase);o.LuckDraw=s,cc._RF.pop()},{"../../script/framework/utils/SheetManager":"SheetManager","./Sheets":"Sheets"}],MASTER_AI:[function(t,e,o){"use strict";cc._RF.push(e,"7fadeQ6D2BAQJ0mVXtkMD/6","MASTER_AI"),Object.defineProperty(o,"__esModule",{value:!0}),o.MASTER_AI=void 0,function(t){t[t.AI_State_Idle=0]="AI_State_Idle",t[t.AI_State_Walk=1]="AI_State_Walk",t[t.AI_State_Wait=2]="AI_State_Wait",t[t.AI_State_Attack=3]="AI_State_Attack",t[t.AI_State_Death=4]="AI_State_Death",t[t.AI_State_Attack_Wait=5]="AI_State_Attack_Wait"}(o.MASTER_AI||(o.MASTER_AI={})),cc._RF.pop()},{}],MASTER_SPINE:[function(t,e,o){"use strict";cc._RF.push(e,"81686o1yxRBaqqAtjIjkGAH","MASTER_SPINE"),Object.defineProperty(o,"__esModule",{value:!0}),o.MASTER_SPINE=void 0,function(t){t.ATTACK="attack",t.DEATH="death",t.MOVE="move",t.DAIJI="idle",t.HIT="hit",t.ATTACK2="attack2"}(o.MASTER_SPINE||(o.MASTER_SPINE={})),cc._RF.pop()},{}],MASTER_STATE:[function(t,e,o){"use strict";cc._RF.push(e,"26e1e9FVO5DhZESamMJPDGY","MASTER_STATE"),Object.defineProperty(o,"__esModule",{value:!0}),o.MASTER_STATE=void 0,function(t){t[t.E_State_Idle=0]="E_State_Idle",t[t.E_State_Walk=1]="E_State_Walk",t[t.E_State_Attack=2]="E_State_Attack",t[t.E_State_Hit=3]="E_State_Hit",t[t.E_State_Death=4]="E_State_Death"}(o.MASTER_STATE||(o.MASTER_STATE={})),cc._RF.pop()},{}],MASTER_TYPE:[function(t,e,o){"use strict";cc._RF.push(e,"e5027g060ZKJ66v6N5FQOHQ","MASTER_TYPE"),Object.defineProperty(o,"__esModule",{value:!0}),o.MASTER_TYPE=void 0,function(t){t[t.Putong=1]="Putong",t[t.Black=2]="Black",t[t.Bigman=3]="Bigman",t[t.Gangguan=4]="Gangguan",t[t.Yellowboss=5]="Yellowboss",t[t.Redboss=6]="Redboss"}(o.MASTER_TYPE||(o.MASTER_TYPE={})),cc._RF.pop()},{}],MainBase:[function(t,e,o){"use strict";cc._RF.push(e,"16c71vktUdFL5Wn6IeMhW9F","MainBase");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../config/UIForms"),s=t("../BundleMgr"),c=t("../config/Bundles"),u=t("../SiteMgr"),l=t("../utils/FrameworkEvent"),p=t("../../framework/utils/Common"),h=cc._decorator,f=h.ccclass,d=h.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.background=null,e.bg1=null,e.bg2=null,e.bg3=null,e.bg4=null,e.adProgress=1,e.adMaxProgress=.1,e}return i(e,t),e.prototype.start=function(){moosnow.http.finishLoading(),moosnow.platform.reportMonitor(),moosnow.event.addListener(l.default.SHOW_BACKGROUND,this,this.setBackgroundShow)},e.prototype.onLoad=function(){var t=this;s.default.loadAdBundle(function(){var e=p.default.formatTime(new Date);Lite.data.getLoginDate()!=e&&(Lite.data.setLoginDate(),Lite.data.setDrawFlag(!0)),Lite.myGame.loginTime=Date.parse((new Date).toString()),t.openNextForm()})},e.prototype.openNextForm=function(){var t=this;u.default.show(Lite.config.site01,function(){s.default.loadHomeBundle(function(){Lite.ui.pushUIForm(a.default.HomeForm,null,function(){t.background.node.active=!1},c.default.homeform)})})},e.prototype.setBackgroundShow=function(t){this.background.node.active=t.flag,t.flag||(Lite.myGame.map.name.indexOf("1")>0?(this.bg1.active=!0,this.bg3.active=!1,this.bg4.active=!1):Lite.myGame.map.name.indexOf("2")>0?(this.bg1.active=!0,this.bg3.active=!1,this.bg4.active=!1):Lite.myGame.map.name.indexOf("3")>0?(this.bg1.active=!1,this.bg3.active=!0,this.bg4.active=!1):Lite.myGame.map.name.indexOf("4")>0&&(this.bg1.active=!1,this.bg3.active=!1,this.bg4.active=!0))},r([d(cc.Sprite)],e.prototype,"background",void 0),r([d(cc.Node)],e.prototype,"bg1",void 0),r([d(cc.Node)],e.prototype,"bg2",void 0),r([d(cc.Node)],e.prototype,"bg3",void 0),r([d(cc.Node)],e.prototype,"bg4",void 0),r([f],e)}(cc.Component);o.default=m,cc._RF.pop()},{"../../config/UIForms":"UIForms","../../framework/utils/Common":"Common","../BundleMgr":"BundleMgr","../SiteMgr":"SiteMgr","../config/Bundles":"Bundles","../utils/FrameworkEvent":"FrameworkEvent"}],MapControl:[function(t,e,o){"use strict";cc._RF.push(e,"a5b832rPCpK4K/gUHrrW7Vo","MapControl");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("..//framework/utils/FrameworkEvent"),s=t("../framework/entity/EntityLogic"),c=t("./MapEntity"),u=t("../enum/PLAYER_BUFF"),l=t("../../sheets/vo/LevelRef"),p=t("../framework/utils/MathUtils"),h=cc._decorator,f=h.ccclass,d=(h.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tiledMap=null,e.floorLayer=null,e.mapSize=null,e.checkPointFlag=!1,e.batchTotal=0,e.batch=0,e.refreshNum=0,e.map_batchs=[],e.map_master_total_num=0,e.map_master_num=0,e.LevelRef_data=null,e.refreshInterval=0,e.refreshPoint=0,e.map_Up=0,e.map_Down=0,e.map_left=0,e.map_right=0,e.map_check_ref_time=0,e.map_check_ref_flag=!1,e.map_master_hp_up=1,e.map_master_attack_up=1,e.map_buff_num=0,e.map_buff_num_max=2,e.show_buff_hp=.5,e.index=0,e.showBuffFlag=!1,e}return i(e,t),e.prototype.onLoad=function(){Lite.myGame.map=this,this.tiledMap=this.node.getComponent(cc.TiledMap),this.floorLayer=this.tiledMap.getLayer("Floor")},e.prototype.init=function(){var t=this.floorLayer.getMapTileSize();this.map_Up=t.height*Number(this.floorLayer.getProperty("end"))-t.height,this.map_Down=t.height*(Number(this.floorLayer.getProperty("first"))-1)+t.height,this.readLevelRefCfg();var e=this.tiledMap.getMapSize();this.refreshInterval=Math.floor(e.width/(this.batchTotal+1)),this.updateBatch()},e.prototype.readLevelRefCfg=function(){this.batch=0,this.map_master_num=0,this.map_master_total_num=0,this.checkPointFlag=!1,this.refreshNum=0,this.map_batchs=[],this.refreshInterval=0,this.refreshPoint=0,this.map_buff_num=0,this.index,this.LevelRef_data=l.LevelRef.getAll(),console.log("\u5f53\u524d\u5173\u5361\u662f\u7b2c  "+Lite.myGame.g_Level+" \u5173");for(var t=1,e=1,o=1,n=0;n<this.LevelRef_data.length;n++)e<this.LevelRef_data[n].level&&(e=this.LevelRef_data[n].level);Lite.myGame.g_Level>e?(t=p.default.randomNumBoth(2,e),o=(Lite.myGame.g_Level-e)/10+1):t=Lite.myGame.g_Level;var i=null;for(this.batchTotal=0,n=0;n<this.LevelRef_data.length;n++){var r=this.LevelRef_data[n];if(r.level==t){i=new c.default,this.batchTotal<r.chapter&&(this.batchTotal=r.chapter),i.e_batch_id=r.chapter,i.e_refresh_num=r.batch;for(var a=r.master_type.toString(),s=a.split("|"),u=0;u<s.length;u++)i.e_master_types.push(Number(s[u]));var h=(a=r.master_num.toString()).split("|");for(u=0;u<s.length;u++)i.e_master_nums.push(Number(h[u])),this.map_master_total_num+=Number(h[u]);i.e_coins_up=Math.floor(r.coin_up*o*100),i.e_hp_up=Math.floor(r.master_hp_up*o*100),i.e_attack_up=Math.floor(r.master_attack_up*o*100),i.e_coin_down=Math.floor(r.coin_num*o),i.e_buff_id=r.buff_id,i.e_buff_rate=r.buff_rate,this.map_batchs.push(i)}}},e.prototype.updateBatch=function(){if(Lite.myGame.m_Array=[],0==this.batch)this.batch+=1,this.refreshNum+=1,this.refreshPoint=this.refreshInterval*this.batch,this.checkPointFlag=!0;else{var t=!1;this.refreshNum+=1;for(var e=0;e<this.map_batchs.length;e++){var o=this.map_batchs[e];if(o.e_batch_id==this.batch&&o.e_refresh_num==this.refreshNum){t=!0;break}if(o.e_batch_id>this.batch){this.index=e-1;break}}t||(this.batch+=1,this.refreshNum=1,this.refreshPoint=this.refreshInterval*this.batch,this.checkPointFlag=!0,this.batch>this.batchTotal?this.index=0:this.scheduleOnce(function(){this.checkBuffShow()},1))}},e.prototype.checkBuffShow=function(){var t=Math.floor(Lite.myGame.player.p_HP_MAX*this.show_buff_hp);if(Lite.myGame.player.p_HP<t){if(this.map_buff_num+=1,this.map_buff_num<=this.map_buff_num_max){var e=p.default.randomNumBoth(u.PLAYER_BUFF.BUFF_ATTACK,u.PLAYER_BUFF.BUFF_CRITICAL_DAMAGE),o=10*p.default.randomNumBoth(1,5);this.showBuffFlag=!0,moosnow.event.sendEventImmediately(a.default.SHOW_BUFF,{buff_1:u.PLAYER_BUFF.BUFF_HEALTH,buff_2:e,buff_rate_1:100,buff_rate_2:o})}}else if(this.map_batchs[this.index].e_buff_id){var n=this.map_batchs[this.index].e_buff_id.split("|"),i=Number(n[0]),r=Number(n[1]);0==i&&(i=p.default.randomNumBoth(u.PLAYER_BUFF.BUFF_HEALTH,u.PLAYER_BUFF.BUFF_CRITICAL_DAMAGE)),0==r&&(r=p.default.randomNumBoth(u.PLAYER_BUFF.BUFF_HEALTH,u.PLAYER_BUFF.BUFF_CRITICAL_DAMAGE));var s=this.map_batchs[this.index].e_buff_rate.split("|"),c=Number(s[0].split(",")[0])/10,l=Number(s[0].split(",")[1])/10,h=Number(s[1].split(",")[0])/10,f=Number(s[1].split(",")[1])/10;c=10*p.default.randomNumBoth(c,l),h=10*p.default.randomNumBoth(h,f),this.showBuffFlag=!0,moosnow.event.sendEventImmediately(a.default.SHOW_BUFF,{buff_1:i,buff_2:r,buff_rate_1:c,buff_rate_2:h})}},e.prototype.noticeCreateMaster=function(t){this.scheduleOnce(function(){moosnow.event.sendEventImmediately(a.default.CREATE_MASTER,{})},t)},e.prototype.getTilePos=function(t){this.mapSize=this.tiledMap.node.getContentSize();var e=this.tiledMap.getTileSize(),o=Math.floor(t.x/e.width),n=Math.floor((this.mapSize.height-t.y)/e.height);return cc.v2(o,n)},e.prototype.setMapLock=function(){for(var t=this.tiledMap.getTileSize(),e=this.tiledMap.getLayer("Wall"),o=e.getLayerSize(),n=0;n<o.width;n++)for(var i=0;i<o.height;i++){var r=e.getTiledTileAt(n,i,!0);if(0!=r.gid){r.node.group="wall",r.node.addComponent(cc.RigidBody).type=cc.RigidBodyType.Static;var a=r.node.addComponent(cc.PhysicsBoxCollider);a.offset=cc.v2(t.width/2,t.height/2),a.size=t,a.apply()}}},r([f],e)}(s.default));o.default=d,cc._RF.pop()},{"../../sheets/vo/LevelRef":"LevelRef","..//framework/utils/FrameworkEvent":"FrameworkEvent","../enum/PLAYER_BUFF":"PLAYER_BUFF","../framework/entity/EntityLogic":"EntityLogic","../framework/utils/MathUtils":"MathUtils","./MapEntity":"MapEntity"}],MapEntity:[function(t,e,o){"use strict";cc._RF.push(e,"8a6bcSoqWNFLbmobzAvuw3y","MapEntity");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../framework/entity/EntityLogic"),s=cc._decorator,c=s.ccclass,u=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.e_batch_id=0,e.e_refresh_num=0,e.e_master_types=[],e.e_master_nums=[],e.e_coins_up=1,e.e_hp_up=1,e.e_attack_up=1,e.e_coin_down=0,e.e_buff_id="",e.e_buff_rate="",e}return i(e,t),e.prototype.onLoad=function(){},r([c],e)}(a.default));o.default=u,cc._RF.pop()},{"../framework/entity/EntityLogic":"EntityLogic"}],MapItem:[function(t,e,o){"use strict";cc._RF.push(e,"7a605uHkK5IeYQ4cu6SyPF0","MapItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../framework/entity/EntityLogic"),s=t("../config/UIForms"),c=t("../framework/utils/FrameworkEvent"),u=t("../framework/utils/Common"),l=t("../../sheets/vo/SkinCfg"),p=cc._decorator,h=p.ccclass,f=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.logo=null,e.player=null,e.locked=null,e.memo=null,e.skinFrame=null,e.mOpening=!1,e}return i(e,t),e.prototype.addListener=function(){this.node.on(cc.Node.EventType.TOUCH_END,this.onOpendLevel,this),moosnow.event.addListener(c.default.REPLAY_LEVEL,this,this.onReplay)},e.prototype.removeListener=function(){this.node.off(cc.Node.EventType.TOUCH_END,this.onOpendLevel,this),moosnow.form.removeClickAnim(this.node)},e.prototype.onReplay=function(t){this.LogicData.level==t.level&&this.onOpendLevel(!0)},e.prototype.onOpendLevel=function(t){var e=this;if(void 0===t&&(t=!1),!this.mOpening)if(this.LogicData.level>Lite.data.getCurrentLevel())Lite.ui.showToast("\u8981\u4f9d\u6b21\u901a\u5173\u54e6!");else{this.mOpening=!0,moosnow.platform.hideBanner();var o=Lite.data.getMistouchTag();moosnow.http.getAllConfig(function(n){moosnow.http.getMisTouchNum(function(i){if(Lite.data.setMistouchTag(o+1),moosnow.form.hideAd(function(){}),e.mOpening=!1,0==i)moosnow.event.sendEventImmediately(c.default.GAME_STATE_START,e.LogicData.level);else{var r=n&&n.mistouchInterval?parseInt(n.mistouchInterval):2;o%r==0?Lite.ui.pushUIForm(s.default.MistouchForm,{isReplay:t,level:e.LogicData.level},function(){e.mOpening=!1}):(e.mOpening=!1,moosnow.event.sendEventImmediately(c.default.GAME_STATE_START,e.LogicData.level))}})})}},e.prototype.openTryForm=function(){var t=l.SkinCfg.getAll(),e=[];t.forEach(function(t){Lite.data.getUserSkinById(t.ID)||e.push(t)}),moosnow.form.hideAd(function(){}),0!=e.length?Lite.ui.pushUIForm(s.default.TryForm,u.default.deepCopy(this.LogicData)):moosnow.event.sendEventImmediately(c.default.GAME_STATE_START,this.LogicData.level)},e.prototype.willShow=function(e){t.prototype.willShow.call(this,e),this.mOpening=!1,this.node.setPosition(e.x,e.y),this.memo.getComponent(cc.Label).string=e.memo;var o=Lite.data.getCurrentLevel();this.player.active=!1,this.locked.active=!1,e.level>o?(this.logo.active=!1,this.locked.active=!0):e.level<o?(this.locked.active=!1,this.logo.active=!0,this.showStar(e.prefab)):this.player.active=!0,this.addListener()},e.prototype.showStar=function(){},e.prototype.willHide=function(){this.removeListener()},r([f(cc.Node)],e.prototype,"logo",void 0),r([f(cc.Node)],e.prototype,"player",void 0),r([f(cc.Node)],e.prototype,"locked",void 0),r([f(cc.Node)],e.prototype,"memo",void 0),r([f(cc.SpriteFrame)],e.prototype,"skinFrame",void 0),r([h],e)}(a.default);o.default=d,cc._RF.pop()},{"../../sheets/vo/SkinCfg":"SkinCfg","../config/UIForms":"UIForms","../framework/entity/EntityLogic":"EntityLogic","../framework/utils/Common":"Common","../framework/utils/FrameworkEvent":"FrameworkEvent"}],MaskEx:[function(t,e,o){"use strict";cc._RF.push(e,"cd8eb91XgdDhqPGNBKet3du","MaskEx");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../entity/EntityLogic"),s=cc._decorator,c=s.ccclass,u=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),r([c],e)}(a.default));o.default=u,cc._RF.pop()},{"../entity/EntityLogic":"EntityLogic"}],MasterCfg:[function(t,e,o){"use strict";cc._RF.push(e,"7160a5Mf39IvKltxRjknd3X","MasterCfg");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.MasterCfg=void 0;var r=t("./Sheets"),a=t("../../script/framework/utils/SheetManager"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.get=function(t){return this[t]?this[t]:a.SheetManager.get("MasterCfg",t,e)},e}(r.MasterCfgBase);o.MasterCfg=s,cc._RF.pop()},{"../../script/framework/utils/SheetManager":"SheetManager","./Sheets":"Sheets"}],MathUtils:[function(t,e,o){"use strict";cc._RF.push(e,"dcce1MonZFGOba8lwIy196V","MathUtils"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.getAngle=function(t){return 180*t/Math.PI},t.getRadian=function(t){return t/180*Math.PI},t.getRadianByPoint=function(t,e){return Math.atan2(e.y-t.y,e.x-t.x)},t.getAngleByPoint=function(t,e){return 180*this.getRadianByPoint(t,e)/Math.PI},t.detectCollision=function(t,e){var o,n,i,r,a,s;return o=e.x<t.x?t.x:e.x>t.x+t.w?t.x+t.w:e.x,n=e.y<t.y?t.y:e.y>t.y+t.h?t.y+t.h:e.y,i=e.x,r=e.y,a=o,s=n,Math.sqrt(Math.pow(a-i,2)+Math.pow(s-r,2))<e.r},t.vecRotate=function(e,o){var n=t.getRadian(o),i=Math.sin(n),r=Math.cos(n),a=r*e.x-i*e.y,s=i*e.x+r*e.y;return new cc.Vec2(a,s)},t.getRadianTwoPoint=function(t,e){var o=e.x-t.x,n=e.y-t.y;return Math.atan2(n,o)},t.getAngleTwoPoint=function(t,e){var o,n=e.y-t.y,i=e.x-t.x;return 0==n?i<0?180:0:0==i?(n>0?o=90:n<0&&(o=270),o):(o=this.getAngle(Math.atan(Math.abs(n)/Math.abs(i))),i>0?n<0&&(o=360-o):o=n>0?180-o:180+o,o)},t.getAngleTwoVec=function(t,e){var o=Math.atan2(e.y,e.x)-Math.atan2(t.y,t.x);return this.getAngle(o)},t.getDistance=function(t,e){var o=e.x-t.x,n=e.y-t.y,i=Math.pow(o,2)+Math.pow(n,2);return Math.sqrt(i)},t.exactCount=function(t,e){void 0===e&&(e=0);var o=Math.pow(10,e);return(t*o|0)/o},t.getBezierCutAngle=function(t,e,o,n){var i=2*(t.x*(n-1)+e.x*(1-2*n)+o.x*n),r=2*(t.y*(n-1)+e.y*(1-2*n)+o.y*n);return this.getAngle(Math.atan2(r,i))},t.randomNumBoth=function(t,e){var o=e-t,n=Math.random();return t+Math.round(n*o)},t.probabilityCanHappen=function(e){return t.randomNumBoth(0,100)<=e},t.rectCollision=function(t,e){return t.x<e.x+e.width&&t.x+t.width>e.x&&t.y<e.y+e.height&&t.height+t.y>e.y},t}();o.default=n,cc._RF.pop()},{}],MoveUtil:[function(t,e,o){"use strict";cc._RF.push(e,"9043dW+tUdOVI6hocX3RwVh","MoveUtil"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./ArrayUtil"),i=function(t,e,o,n,i){this.mV=3,this.mT=0,this.mInterval=.01,this.mAccel=5,this.mV=t,this.mT=e,this.mInterval=o,this.mAccel=n,this.mCallback=i},r=function(t,e,o,n,i){void 0===o&&(o=100),void 0===n&&(n=1),this.height=.01,this.xSpeed=5,this.startPoint=t,this.endPoint=e,this.height=o,this.xSpeed=n,this.mCallback=i},a=function(){function t(){this.mTaskId=0,this.mTask=[],this.mTask2=[]}return t.prototype.addTask=function(t,e,o,n,r){this.mTask.push(new i(t,e,o,n,r))},t.prototype.addTask2=function(t,e,o,n,i){void 0===o&&(o=100),void 0===n&&(n=1);var a=t.x,s=t.y,c=e.x,u=e.y,l=Math.abs(c-a),p=a+l/2,h=s-o,f=((s-u)*(a*a-p*p)-(s-h)*(a*a-c*c))/((a-c)*(a*a-p*p)-(a-p)*(a*a-c*c)),d=(s-h-f*(a-p))/(a*a-p*p),m=s-d*a*a-f*a,y=new r(t,e,o,n,i);y.a=d,y.b=f,y.c=m,y.vx=l/n,this.mTask2.push(y)},t.prototype.onUpdate=function(t){for(var e=0;e<this.mTask.length;e++){(i=this.mTask[e]).mT+=i.mInterval;var o=i.mV*i.mT+i.mAccel*Math.pow(i.mT,2)/2;this.mTask[e]=i,0==i.mCallback(o)&&n.default.remove(this.mTask,i)}for(e=0;e<this.mTask2.length;e++){var i,r=t*(i=this.mTask2[e]).xSpeed,a=i.a*r^2+i.b*r+i.c;0==i.mCallback(cc.v2(r,a))&&n.default.remove(this.mTask2,i)}},t}();o.default=a,cc._RF.pop()},{"./ArrayUtil":"ArrayUtil"}],PLAYER_ATTACK_ANIM:[function(t,e,o){"use strict";cc._RF.push(e,"cae1eZdLVpCNLZMUT0t1h3W","PLAYER_ATTACK_ANIM"),Object.defineProperty(o,"__esModule",{value:!0}),o.PLAYER_ATTACK_ANIM=void 0,function(t){t.HENG1="heng1",t.YOU1="you1"}(o.PLAYER_ATTACK_ANIM||(o.PLAYER_ATTACK_ANIM={})),cc._RF.pop()},{}],PLAYER_BUFF:[function(t,e,o){"use strict";cc._RF.push(e,"d13a2Gxi45MEpDvqj4cCuJ+","PLAYER_BUFF"),Object.defineProperty(o,"__esModule",{value:!0}),o.PLAYER_BUFF=void 0,function(t){t[t.BUFF_NONE=0]="BUFF_NONE",t[t.BUFF_HEALTH=1]="BUFF_HEALTH",t[t.BUFF_ATTACK=2]="BUFF_ATTACK",t[t.BUFF_CRITICAL=3]="BUFF_CRITICAL",t[t.BUFF_CRITICAL_DAMAGE=4]="BUFF_CRITICAL_DAMAGE",t[t.BUFF_ATTACK_SPEED=5]="BUFF_ATTACK_SPEED"}(o.PLAYER_BUFF||(o.PLAYER_BUFF={})),cc._RF.pop()},{}],PLAYER_SPINE:[function(t,e,o){"use strict";cc._RF.push(e,"83d50mFrUhHUZukcdj3U/wY","PLAYER_SPINE"),Object.defineProperty(o,"__esModule",{value:!0}),o.PLAYER_SPINE=void 0,function(t){t.DAIJI1="idle",t.DAIJI2="idle",t.DEATH="death",t.MOVE="move",t.ZUO1="zuo1",t.ZUO2="zuo3",t.YOU1="you1",t.YOU2="you3",t.HENG1="heng1",t.HENG2="heng3",t.TIAO1="tiao1",t.TIAO2="tiao2",t.HIT="hit",t.SKILL="skill"}(o.PLAYER_SPINE||(o.PLAYER_SPINE={})),cc._RF.pop()},{}],PLAYER_STATE:[function(t,e,o){"use strict";cc._RF.push(e,"fa749WbJ29Bfaalb9PfHr5M","PLAYER_STATE"),Object.defineProperty(o,"__esModule",{value:!0}),o.PLAYER_STATE=void 0,function(t){t[t.E_State_Idle=0]="E_State_Idle",t[t.E_State_Walk=1]="E_State_Walk",t[t.E_State_Attack=2]="E_State_Attack",t[t.E_State_Hit=3]="E_State_Hit",t[t.E_State_Death=4]="E_State_Death",t[t.E_State_Idle2=5]="E_State_Idle2",t[t.E_State_Skill=6]="E_State_Skill",t[t.E_State_Win=7]="E_State_Win"}(o.PLAYER_STATE||(o.PLAYER_STATE={})),cc._RF.pop()},{}],PhysicsSetting:[function(t,e){"use strict";cc._RF.push(e,"2f730GsdGROgpx/sEkKeJIs","PhysicsSetting"),cc.game.on(cc.game.EVENT_ENGINE_INITED,function(){var t=cc.director.getPhysicsManager();t.enabled=!0,t.debugDrawFlags=cc.PhysicsManager.DrawBits.e_jointBit|cc.PhysicsManager.DrawBits.e_shapeBit}),cc._RF.pop()},{}],PlayerUpgrade:[function(t,e,o){"use strict";cc._RF.push(e,"1cb83+uALhGa5x5Vqj08Uss","PlayerUpgrade");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.PlayerUpgrade=void 0;var r=t("./Sheets"),a=t("../../script/framework/utils/SheetManager"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.get=function(t){return this[t]?this[t]:a.SheetManager.get("playerUpgrade",t,e)},e.getAll=function(){var t,o=a.SheetManager.getList("playerUpgrade"),n=[];for(var i in o)"keys"!=i&&(t=e.get(i)),t&&(n.push(t),t=null);return n},e}(r.PlayerUpgradeBase);o.PlayerUpgrade=s,cc._RF.pop()},{"../../script/framework/utils/SheetManager":"SheetManager","./Sheets":"Sheets"}],PrizeBox:[function(t,e,o){"use strict";cc._RF.push(e,"2a2b9LO8xZFppnJTyYibSPi","PrizeBox");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.PrizeBox=void 0;var r=t("./Sheets"),a=t("../../script/framework/utils/SheetManager"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.get=function(t){return this[t]?this[t]:a.SheetManager.get("prizeBox",t,e)},e.getAll=function(){var t,o=a.SheetManager.getList("prizeBox"),n=[];for(var i in o)"keys"!=i&&(t=e.get(i)),t&&(n.push(t),t=null);return n},e}(r.PrizeBoxBase);o.PrizeBox=s,cc._RF.pop()},{"../../script/framework/utils/SheetManager":"SheetManager","./Sheets":"Sheets"}],ResourceModule:[function(t,e,o){"use strict";cc._RF.push(e,"625c74Q2O9HApOzeuzwGx1+","ResourceModule");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=t("../utils/Common"),a=t("../utils/FrameworkEvent"),s=t("./AudioModule"),c=function(t){function e(){return t.call(this)||this}return i(e,t),e.prototype.loadAsset=function(t,e,o){if(cc.resources&&cc.resources.load)-1!=t.indexOf("http")?cc.assetManager.loadRemote(t,function(t,e){o&&o(t,e)}):cc.resources.load(t,e,function(t,e){o&&o(t,e)});else{var n=cc.loader.getRes(t,e);if(n)return void(o&&o(null,n));cc.loader.loadRes(t,e,function(t,e){o&&o(t,e)})}},e.prototype.loadAssetDir=function(t,e,o,n){cc.resources&&cc.resources.loadDir?cc.resources.loadDir(t,e,function(t,e){var n=t/e*100;n=Math.ceil(n),o&&o(n)},function(t,e){n&&n(t,e)}):cc.loader.loadResDir(t,e,function(t,e){var n=t/e*100;n=Math.ceil(n),o&&o(n)},function(t,e){n&&n(t,e)})},e.prototype.preloadScene=function(t,e,o){cc.director.preloadScene(t,e,o)},e.prototype.loadScene=function(t){cc.director.loadScene(t)},e.prototype.loadBundle=function(t,e){cc.assetManager.loadBundle(t,function(t,o){e(t,o)})},e.prototype.loadBundleRes=function(t,e,o,n){this.loadBundle(t,function(t,i){i.load(e,o,function(t,e){n(t,e)})})},e.prototype.loadSubEntity=function(t,e,o,n,i){void 0===n&&(n="entity"),void 0===i&&(i=!0),i&&moosnow.event.sendEventImmediately(a.default.SHOW_TRANSITION,null),this.loadBundle(t,function(t,s){s.loadDir(n,cc.Prefab,function(t,o){var n=t/o*100;r.default.isFunction(e)&&e(n)},function(t,e){if(i&&moosnow.event.sendEventImmediately(a.default.HIDE_TRANSITION,null),t)return console.warn("loadSubEntity err ",t),void o();e.forEach(function(t){Lite.entity.addPrefab(t.name,t,!0)}),r.default.isFunction(o)&&o()})})},e.prototype.loadSubForm=function(t,e,o,n,i){void 0===n&&(n="form"),void 0===i&&(i=!0),i&&moosnow.event.sendEventImmediately(a.default.SHOW_TRANSITION,null),this.loadBundle(t,function(t,s){s.loadDir(n,cc.Prefab,function(t,o){var n=t/o*100;r.default.isFunction(e)&&e(n)},function(t,e){if(i&&moosnow.event.sendEventImmediately(a.default.HIDE_TRANSITION,null),t)return console.warn("loadSubForm err ",t),void o();e.forEach(function(t){Lite.ui.addPrefab(t.name,t,!0)}),r.default.isFunction(o)&&o()})})},e.prototype.loadBundleSound=function(t,e,o,n,i){void 0===n&&(n="sound"),void 0===i&&(i=!0),i&&moosnow.event.sendEventImmediately(a.default.SHOW_TRANSITION,null),this.loadBundle(t,function(t,c){c.loadDir(n,cc.AudioClip,function(t,o){var n=t/o*100;r.default.isFunction(e)&&e(n)},function(t,e){if(i&&moosnow.event.sendEventImmediately(a.default.HIDE_TRANSITION,null),t)return console.warn("loadSound err ",t),void o();e.forEach(function(t){s.default.addAudio(t)}),r.default.isFunction(o)&&o()})})},e}(t("./BaseModule").default);o.default=c,cc._RF.pop()},{"../utils/Common":"Common","../utils/FrameworkEvent":"FrameworkEvent","./AudioModule":"AudioModule","./BaseModule":"BaseModule"}],Shake:[function(t,e,o){"use strict";cc._RF.push(e,"bfa76vUkslJlLTH/GLAjheQ","Shake");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.Shake=void 0;var a=cc._decorator,s=a.ccclass,c=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._initial_x=0,e._initial_y=0,e._strength_x=0,e._strength_y=0,e}var o;return i(e,t),o=e,e.create=function(t,e,n){var i=new o;return i.initWithDuration(t,e,n),i},e.prototype.initWithDuration=function(t,e,o){return cc.ActionInterval.prototype.initWithDuration.apply(this,arguments),this._strength_x=e,this._strength_y=o,!0},e.prototype.fgRangeRand=function(t,e){return Math.random()*(e-t)+t},e.prototype.update=function(){var t=this.fgRangeRand(-this._strength_x,this._strength_x),e=this.fgRangeRand(-this._strength_y,this._strength_y);this.getTarget().setPosition(t+this._initial_x,e+this._initial_y)},e.prototype.startWithTarget=function(t){cc.ActionInterval.prototype.startWithTarget.apply(this,arguments),this._initial_x=t.x,this._initial_y=t.y},e.prototype.stop=function(){this.getTarget().setPosition(new cc.Vec2(this._initial_x,this._initial_y)),cc.ActionInterval.prototype.stop.apply(this)},o=r([s],e)}(cc.ActionInterval));o.Shake=c,cc._RF.pop()},{}],SheetManager:[function(t,e,o){"use strict";cc._RF.push(e,"75c8dJgBUhLAq8lAxh3UiqE","SheetManager"),Object.defineProperty(o,"__esModule",{value:!0}),o.SheetManager=void 0;var n=function(){function t(){}return t.loadDB=function(t,e){var o=this;-1==t.indexOf("http")?cc.loader.loadRes(t,function(t,n){t&&console.warn("loadDB err ",t),console.log("load db ",n),o.data=n.json,e()}):cc.loader.load(t,function(t,n){t&&console.warn("loadDB err ",t),console.log("load db ",n),o.data=n,e()})},t.get=function(t,e,o){var n=this.data[t][e];if(n){for(var i,r=this.getKeys(this.data[t].keys),a=new o,s=0;s<r.length;s++)i=this.data.dic[n[s]],a[r[s]]="null"!==i?i:null;return o[e]=a,a}},t.getKeys=function(t){for(var e=[],o=0;o<t.length;o++){var n=t[o];e.push(this.data.dic[n])}return e},t.getTableLength=function(t){var e=this.data[t];if(e.length)return e.length;var o=0;for(var n in e)o++;return e.length=o-1,o-1},t.getList=function(t){return this.data[t]},t.getComplexLength=function(t,e){return this.data[t][e].length},t.getComplex=function(t,e,o){for(var n=this.getList(t)[e],i=this.getKeys(this.data[t].keys),r=[],a=0;a<n.length;a++){for(var s,c=new o,u=0;u<i.length;u++)s=this.data.dic[n[a][u]],c[i[u]]="null"!==s?s:null;r.push(c)}return r},t.getAllSheets=function(t,e){var o=this.getList(t),n=[];for(var i in o)"keys"!=i&&n.push(this.get(t,i,e));return n},t}();o.SheetManager=n,cc._RF.pop()},{}],Sheets:[function(t,e,o){"use strict";cc._RF.push(e,"15d36gXNE9MgbwoQwqki+J4","Sheets"),Object.defineProperty(o,"__esModule",{value:!0}),o.ConfigDataBase=o.SignVoBase=o.TitleCfgBase=o.SkinCfgBase=o.SignBase=o.TaskBase=o.WeaponCfgBase=o.MasterCfgBase=o.LuckDrawBase=o.EasterEggBase=o.PrizeBoxBase=o.LevelCfgBase=o.LevelRefBase=o.PlayerUpgradeBase=void 0;o.PlayerUpgradeBase=function(){};o.LevelRefBase=function(){};o.LevelCfgBase=function(){};o.PrizeBoxBase=function(){};o.EasterEggBase=function(){};o.LuckDrawBase=function(){};o.MasterCfgBase=function(){};o.WeaponCfgBase=function(){};o.TaskBase=function(){};o.SignBase=function(){};o.SkinCfgBase=function(){};o.TitleCfgBase=function(){};o.SignVoBase=function(){};o.ConfigDataBase=function(){},cc._RF.pop()},{}],SignVo:[function(t,e,o){"use strict";cc._RF.push(e,"93cbeahkN5KrI5K5wpxr3Rx","SignVo");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.SignVo=void 0;var r=t("./Sheets"),a=t("../../script/framework/utils/SheetManager"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.get=function(t){return this[t]?this[t]:a.SheetManager.get("SignVo",t,e)},e}(r.SignVoBase);o.SignVo=s,cc._RF.pop()},{"../../script/framework/utils/SheetManager":"SheetManager","./Sheets":"Sheets"}],Sign:[function(t,e,o){"use strict";cc._RF.push(e,"bf9a2eOQVdAtaPBkJuybhoo","Sign");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Sign=void 0;var r=t("./Sheets"),a=t("../../script/framework/utils/SheetManager"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.get=function(t){return this[t]?this[t]:a.SheetManager.get("Sign",t,e)},e}(r.SignBase);o.Sign=s,cc._RF.pop()},{"../../script/framework/utils/SheetManager":"SheetManager","./Sheets":"Sheets"}],SiteMgr:[function(t,e,o){"use strict";cc._RF.push(e,"2c064vrIgtE8YflEzhpGJsO","SiteMgr");var n,i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var i in e=arguments[o])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../config/UIForms"),a=t("./AD_POSITION"),s=t("./BundleMgr"),c=t("./config/Bundles"),u=t("./utils/Common"),l=function(){function t(){}return t.show=function(t,e){if(this.siteShowIdx=0,this.siteCompleted=e,u.default.isEmpty(t))e();else if(t instanceof Array){if(0==t.length)return void e();this.cacheSite=t,this.showNextSite()}else e()},t.loadNextSite=function(t,e,o,n,i){if(void 0===i&&(i=!0),!(e>=t.length)){var r=this.mSiteConfig[t[e]];r?(console.log("\u63d0\u524d\u52a0\u8f7d",r),this.mapping[r.form]?s.default.loadBundleOnce(this.mapping[r.form].bundle,function(t){u.default.isFunction(o)&&o(t)},function(){u.default.isFunction(n)&&n()},void 0,i):u.default.isFunction(n)&&n()):u.default.isFunction(n)&&n()}},t.showNextSite=function(){if(this.cacheSite[this.siteShowIdx]){var t=this.mSiteConfig[this.cacheSite[this.siteShowIdx]];t?(this.loadNextSite(this.cacheSite,this.siteShowIdx+1,function(){},function(){},!1),this.mapping[t.form]?(console.log("\u663e\u793a",t.form,t),u.default.isFunction(this.mapping[t.form].fun)?this.mapping[t.form].fun.apply(this,[t]):u.default.isFunction(this.siteCompleted)&&this.siteCompleted()):u.default.isFunction(this.siteCompleted)&&this.siteCompleted()):u.default.isFunction(this.siteCompleted)&&this.siteCompleted()}else u.default.isFunction(this.siteCompleted)&&this.siteCompleted()},t.showBoxForm=function(t){var e=this;s.default.loadBoxBundle(function(){Lite.ui.pushUIForm(r.default.BoxForm,i(i({},t.params),{callback:function(){e.siteShowIdx++,e.showNextSite()}}),function(){},c.default.boxform)})},t.showAppBox=function(t){var e=this;1==Lite.config.getKey("showAppBox",0)?s.default.loadAppBundle(function(){Lite.ui.pushUIForm(r.default.AppBoxForm,i(i({},t.params),{callback:function(){e.siteShowIdx++,e.showNextSite()}}),function(){},c.default.appbox)}):(this.siteShowIdx++,this.showNextSite())},t.showMistouch=function(t){var e=this,o=Lite.config.getKey("mistouchNum",0),n=Lite.config.getKey("CrazyWudian",0),a=Lite.config.getKey("CrazyStartLevel",0),u=Lite.config.getKey("mistouchInterval",2),l=Lite.data.getMistouchTag();(n>0||o>0)&&Lite.data.getCurrentLevel()>=a&&l%u==0?s.default.loadMistouchBundle(function(){Lite.ui.pushUIForm(r.default.MistouchForm,i(i({},t.params),{callback:function(){e.siteShowIdx++,e.showNextSite()}}),function(){},c.default.mistouch)}):(this.siteShowIdx++,this.showNextSite())},t.showAd=function(t){var e=this;moosnow.platform.hideBanner(),s.default.loadAdBundle(function(){Lite.ui.hasUIForm(r.default.AdForm)?moosnow.form.showAd(t.params,function(){moosnow.form.showAd(a.AD_POSITION.NONE,function(){}),e.siteShowIdx++,e.showNextSite()}):Lite.ui.pushUIForm(r.default.AdForm,{showAd:moosnow.AD_POSITION.NONE},function(){moosnow.form.showAd(t.params,function(){moosnow.form.showAd(a.AD_POSITION.NONE,function(){}),e.siteShowIdx++,e.showNextSite()},[],[])},c.default.ad)})},t.showTry=function(t){var e=this;s.default.loadTryBundle(function(){var o=r.default.TryForm;t.form==r.default.TryFormQQ&&(o=r.default.TryFormQQ),Lite.ui.pushUIForm(o,{callback:function(){e.siteShowIdx++,e.showNextSite()}},function(){},c.default.tryform)})},t.showNativeAd=function(){var t=this;s.default.loadNativeBundle(function(){moosnow.platform.checkVersion("",function(e){moosnow.http.getAllConfig(function(o){1==o.mx_click_switch&&e&&Lite.myGame.checkTimeTwoMinutes()?Lite.ui.pushUIForm(r.default.NativeForm,{callback:function(){t.siteShowIdx++,t.showNextSite()}},function(){},c.default.nativeform):(console.log("bbbbbbbbbbbbbbbbbbbbbbbb"),t.siteShowIdx++,t.showNextSite())})})})},t.showFinish=function(){var t=this;s.default.loadFinishBundle(function(){Lite.ui.pushUIForm(r.default.FinishForm,{callback:function(){t.siteShowIdx++,t.showNextSite()}},function(){},c.default.finishform)})},t.showPortal=function(){var t=this;s.default.loadAdBundle(function(){Lite.ui.pushUIForm(r.default.PortalForm,{callback:function(){t.siteShowIdx++,t.showNextSite()}},function(){},c.default.ad)})},t.mSiteConfig={1:{form:r.default.AdForm,params:a.AD_POSITION.EXPORT|a.AD_POSITION.MASK|a.AD_POSITION.BACK},2:{form:r.default.AdForm,params:a.AD_POSITION.CENTER|a.AD_POSITION.MASK|a.AD_POSITION.BACK},3:{form:r.default.TryForm,params:[]},4:{form:r.default.AdForm,params:a.AD_POSITION.RECOMMEND|a.AD_POSITION.MASK|a.AD_POSITION.BACK},5:{form:r.default.AdForm,params:a.AD_POSITION.HOT|a.AD_POSITION.MASK|a.AD_POSITION.BACK},6:{form:r.default.MistouchForm,params:""},21:{form:r.default.MistouchForm,params:""},22:{form:r.default.MistouchForm,params:{mistouchType:4}},23:{form:r.default.TryFormQQ,params:""},24:{form:r.default.AppBoxForm,params:""},25:{form:r.default.BoxForm,params:""},31:{form:r.default.FinishForm,params:""},32:{form:r.default.PortalForm},33:{form:r.default.NativeForm,params:""},41:{form:r.default.NativeForm,params:""}},t.siteShowIdx=0,t.cacheSite=[],t.siteLoadIdx=0,t.mapping=((n={})[r.default.MistouchForm]={bundle:c.default.mistouch,fun:t.showMistouch},n[r.default.TryForm]={bundle:c.default.tryform,fun:t.showTry},n[r.default.TryFormQQ]={bundle:c.default.tryform,fun:t.showTry},n[r.default.AdForm]={bundle:c.default.ad,fun:t.showAd},n[r.default.NativeForm]={bundle:c.default.nativeform,fun:t.showNativeAd},n[r.default.FinishForm]={bundle:c.default.finishform,fun:t.showFinish},n[r.default.PortalForm]={bundle:c.default.ad,fun:t.showPortal},n[r.default.AppBoxForm]={bundle:c.default.appbox,fun:t.showAppBox},n[r.default.BoxForm]={bundle:c.default.boxform,fun:t.showBoxForm},n),t}();o.default=l,cc._RF.pop()},{"../config/UIForms":"UIForms","./AD_POSITION":"AD_POSITION","./BundleMgr":"BundleMgr","./config/Bundles":"Bundles","./utils/Common":"Common"}],SkinCfg:[function(t,e,o){"use strict";cc._RF.push(e,"3478fbykHVGHK42V14nxqYF","SkinCfg");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.SkinCfg=void 0;var r=t("./Sheets"),a=t("../../script/framework/utils/SheetManager"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.get=function(t){return this[t]?this[t]:a.SheetManager.get("SkinCfg",t,e)},e.getAll=function(){var t,o=a.SheetManager.getList("SkinCfg"),n=[];for(var i in o)"keys"!=i&&(t=e.get(i)),t&&(n.push(t),t=null);return n},e}(r.SkinCfgBase);o.SkinCfg=s,cc._RF.pop()},{"../../script/framework/utils/SheetManager":"SheetManager","./Sheets":"Sheets"}],SkinItem:[function(t,e,o){"use strict";cc._RF.push(e,"4cc3eqfWm1DF4M7rkK3aNGR","SkinItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../framework/utils/FrameworkEvent"),s=t("../../sheets/vo/SkinCfg"),c=t("../framework/utils/Common"),u=t("../framework/entity/EntityLogic"),l=cc._decorator,p=l.ccclass,h=l.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.logo=null,e.locked=null,e.checked=null,e.coinNum=null,e}return i(e,t),e.prototype.start=function(){this.addListener()},e.prototype.addListener=function(){var t=this;this.node.on(cc.Node.EventType.TOUCH_END,function(){Lite.data.setSelectSkin(t.LogicData.ID),Lite.data.getUserSkinById(t.LogicData.ID)&&Lite.data.setCurrentSkinId(t.LogicData.ID),moosnow.event.sendEventImmediately(a.default.SKIN_SELECT,t.LogicData.ID)},this),moosnow.event.addListener(a.default.SKIN_SELECT,this,function(e){t.LogicData.ID!=e?t.checked.active=!1:t.checked.active=!0}),moosnow.event.addListener(a.default.SKIN_CHANGE,this,function(e){t.showLocked(e)})},e.prototype.willShow=function(e){var o=this;t.prototype.willShow.call(this,e);var n=s.SkinCfg.get(this.LogicData.ID),i=Lite.data.getCurrentSkinId();this.checked.active=!1,this.locked.node.active=!0,this.showLocked(i),this.coinNum.string=""+c.default.formatMoney(n.coinNum),Lite.resource.loadAsset("skin/"+this.LogicData.ID+"/7.png",cc.SpriteFrame,function(t,e){t||(o.logo.spriteFrame=e)})},e.prototype.showLocked=function(t){var e=s.SkinCfg.get(this.LogicData.ID),o=Lite.data.getUserSkin();if(t==e.ID)this.checked.active=!0,this.locked.node.active=!1;else for(var n in o)n==this.LogicData.ID&&(o[n].videoNum>=e.videoNum||0!=o[n].coinNum)&&(this.locked.node.active=!1)},r([h(cc.Sprite)],e.prototype,"logo",void 0),r([h(cc.Sprite)],e.prototype,"locked",void 0),r([h(cc.Node)],e.prototype,"checked",void 0),r([h(cc.Label)],e.prototype,"coinNum",void 0),r([p],e)}(u.default);o.default=f,cc._RF.pop()},{"../../sheets/vo/SkinCfg":"SkinCfg","../framework/entity/EntityLogic":"EntityLogic","../framework/utils/Common":"Common","../framework/utils/FrameworkEvent":"FrameworkEvent"}],StopPropagation:[function(t,e,o){"use strict";cc._RF.push(e,"0bea5Y6jPxNHY/T+J8TCyv9","StopPropagation");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onMaskMouseDown,this)},e.prototype.onMaskMouseDown=function(t){t.stopPropagation()},r([s],e)}(cc.Component));o.default=c,cc._RF.pop()},{}],Task:[function(t,e,o){"use strict";cc._RF.push(e,"d89666DLW9EfLeHr3OwjTYV","Task");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Task=void 0;var r=t("./Sheets"),a=t("../../script/framework/utils/SheetManager"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.get=function(t){return this[t]?this[t]:a.SheetManager.get("Task",t,e)},e}(r.TaskBase);o.Task=s,cc._RF.pop()},{"../../script/framework/utils/SheetManager":"SheetManager","./Sheets":"Sheets"}],TitleCfg:[function(t,e,o){"use strict";cc._RF.push(e,"709cbNOhCdPVLIzslNw6bFL","TitleCfg");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.TitleCfg=void 0;var r=t("./Sheets"),a=t("../../script/framework/utils/SheetManager"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.get=function(t){return this[t]?this[t]:a.SheetManager.get("titleCfg",t,e)},e.getAll=function(){var t,o=a.SheetManager.getList("titleCfg"),n=[];for(var i in o)"keys"!=i&&(t=e.get(i)),t&&(n.push(t),t=null);return n},e}(r.TitleCfgBase);o.TitleCfg=s,cc._RF.pop()},{"../../script/framework/utils/SheetManager":"SheetManager","./Sheets":"Sheets"}],ToastForm:[function(t,e,o){"use strict";cc._RF.push(e,"4ae66kORoZKrL8ETytD9nMr","ToastForm");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../framework/ui/UIForm"),s=cc._decorator,c=s.ccclass,u=s.property,l=function(t){function e(){var e=t.call(this)||this;return e.msgText=null,e}return i(e,t),e.prototype.start=function(){t.prototype.start.call(this)},e.prototype.show=function(t){this.node.zIndex=9999,this.msgText.getComponent(cc.Label).string=t,this.msgText.color=cc.Color.WHITE,this.node.active=!0,this.node.runAction(cc.sequence(cc.scaleTo(.1,1.2),cc.scaleTo(.1,1))),this.scheduleOnce(this.hide,1)},e.prototype.showColor=function(t,e){this.node.zIndex=9999,this.msgText.getComponent(cc.Label).string=t,this.msgText.color=e,this.node.active=!0,this.node.runAction(cc.sequence(cc.scaleTo(.1,1.2),cc.scaleTo(.1,1))),this.scheduleOnce(this.hide,1)},e.prototype.hide=function(){this.node.active=!1},r([u(cc.Node)],e.prototype,"msgText",void 0),r([c],e)}(a.default);o.default=l,cc._RF.pop()},{"../../framework/ui/UIForm":"UIForm"}],TouchManager:[function(t,e,o){"use strict";cc._RF.push(e,"ab5eeq9eshHcY+EXJeklBPK","TouchManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../framework/utils/FrameworkEvent"),s=t("../config/UIForms"),c=t("../enum/PLAYER_STATE"),u=cc._decorator,l=u.ccclass,p=(u.property,function(t){function e(){var e=t.call(this)||this;return e.mListen=["HomeForm"],e.downPos=null,e.upPos=null,e.attackFlag=!1,e.downFlag=!1,e.upFlag=!1,e.downTime=0,e.count=0,e}return i(e,t),e.prototype.start=function(){this.addListener()},e.prototype.addListener=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.mouseDown,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.mouseMove,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.mouseUp,this),this.node.on(cc.Node.EventType.TOUCH_END,this.mouseUp,this)},e.prototype.mouseDown=function(t){Lite.myGame.startFlag&&Lite.myGame.player.p_Attack_Speed_Flag&&(t.getLocationInView(),this.downFlag=!0,moosnow.event.sendEventImmediately(a.default.TOUCH_DOWN,t))},e.prototype.mouseMove=function(t){!Lite.myGame.startFlag||(this.count++,this.count<6)||(this.downFlag=!1,this.downTime=0,t.getLocationInView(),moosnow.event.sendEventImmediately(a.default.TOUCH_MOVE,t))},e.prototype.mouseUp=function(t){if(this.count=0,this.downFlag&&(this.downTime=0,this.downFlag=!1,Lite.ui.getFormModel(s.default.GameForm)&&Lite.ui.getFormModel(s.default.GameForm).node.active)){if(this.attackFlag=!0,Lite.myGame.player.playerState==c.PLAYER_STATE.E_State_Death)return;if(Lite.myGame.player.playerState==c.PLAYER_STATE.E_State_Hit)return;if(Lite.myGame.player.playerState==c.PLAYER_STATE.E_State_Skill)return;Lite.myGame.player.autoSearchMaster()}t.reset||moosnow.event.sendEventImmediately(a.default.TOUCH_UP,t)},e.prototype.removeListener=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.mouseDown,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.mouseMove,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.mouseUp,this)},e.prototype.localConvertWorldPointAR=function(t){return t?t.convertToWorldSpaceAR(cc.v2(0,0)):null},e.prototype.update=function(t){this.downFlag&&(this.downTime+=t,this.downTime>=.5&&(this.downTime=0,this.mouseUp({reset:!0})))},e.prototype.onDisable=function(){this.removeListener()},r([l],e)}(cc.Component));o.default=p,cc._RF.pop()},{"../config/UIForms":"UIForms","../enum/PLAYER_STATE":"PLAYER_STATE","../framework/utils/FrameworkEvent":"FrameworkEvent"}],TransitionBase:[function(t,e,o){"use strict";cc._RF.push(e,"72c49hshoBHxq+fu6fL83dN","TransitionBase");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../utils/FrameworkEvent"),s=t("./UIForm"),c=cc._decorator,u=c.ccclass,l=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bar=null,e.rate=5,e.currentRate=0,e.showIndex=0,e.showNum=0,e}return i(e,t),e.prototype.onEnable=function(){var t=this;this.currentRate=0,this.showIndex=0,moosnow.event.addListener(a.default.SHOW_TRANSITION,this,function(){console.log("\u663e\u793a\u52a0\u8f7d\u8fc7\u6e21\u9875"),t.node.active=!0,t.node.zIndex=cc.macro.MAX_ZINDEX,t.showNum++}),moosnow.event.addListener(a.default.HIDE_TRANSITION,this,function(){t.showNum--,t.showNum<=0&&(t.showNum=0,t.node.active=!1)})},e.prototype.onDisable=function(){moosnow.event.removeListener(a.default.SHOW_TRANSITION,this),moosnow.event.removeListener(a.default.HIDE_TRANSITION,this)},e.prototype.update=function(){this.currentRate+=1,this.currentRate==this.rate&&(this.showIndex+=1,this.currentRate=0,this.showIndex>this.bar.childrenCount-1&&(this.showIndex=0)),this.bar.children.forEach(function(t){t.active=!1}),this.bar.children[this.showIndex].active=!0},r([l(cc.Node)],e.prototype,"bar",void 0),r([u],e)}(s.default);o.default=p,cc._RF.pop()},{"../utils/FrameworkEvent":"FrameworkEvent","./UIForm":"UIForm"}],UIForms:[function(t,e,o){"use strict";cc._RF.push(e,"d61daDJKXZM+7VmEImeGFsh","UIForms"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.AdForm="adForm",t.LoadingForm="loadingForm",t.HomeForm="homeForm",t.SkinForm="skinForm",t.GameForm="gameForm",t.CoinForm="coinForm",t.videoForm="videoForm",t.NativeForm="nativeForm",t.ShareForm="shareForm",t.MistouchForm="mistouchForm",t.FollowForm="followForm",t.TotalForm="totalForm",t.EndForm="endForm",t.ToastForm="toastForm",t.PauseForm="pauseForm",t.RespawnForm="RespawnForm",t.SetForm="setForm",t.BoxForm="boxForm",t.TryForm="tryForm",t.TryFormQQ="tryFormQQ",t.FinishForm="finishForm",t.PortalForm="portalForm",t.AppBoxForm="appboxForm",t.TurntableForm="turntableForm",t.SignForm="signForm",t.TaskForm="taskForm",t.EquipForm="equipForm",t.BuffForm="buffForm",t.StrengthForm="strengthForm",t.NativeBannerForm="nativeBannerForm",t}();o.default=n,cc._RF.pop()},{}],UIForm:[function(t,e,o){"use strict";cc._RF.push(e,"0f40ewXlJlF2pZzMVgqh8Ot","UIForm");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(t){function e(){var e=t.call(this)||this;return e.isPopEffect=!1,e.isMask=!1,e.fullView=!0,e.formName="",e.maskName="maskLayer",e.texture=null,e.formName="",e}return i(e,t),e.prototype.start=function(){this.isMask&&this.addMask()},e.prototype.addMask=function(){this.node.getChildByName(this.maskName)?this.node.active=!0:Lite.entity.showEntity("maskLayer",this.node,null).node.zIndex=-1},e.prototype.removeMask=function(){this.node.getChildByName(this.maskName)&&(this.node.active=!1)},e.prototype.onMaskMouseDown=function(t){t.stopPropagation()},e.prototype.hide=function(){},Object.defineProperty(e.prototype,"FormData",{get:function(){return this.mFormData},enumerable:!1,configurable:!0}),e.prototype.willShow=function(t){this.mFormData=t},e.prototype.onShow=function(){},e.prototype.willHide=function(){},e.prototype.onHide=function(){},e.prototype.onEnable=function(){},e.prototype.onDisable=function(){},e.prototype.hideAnim=function(t){t()},e}(cc.Component);o.default=r,cc._RF.pop()},{}],UIModule:[function(t,e,o){"use strict";cc._RF.push(e,"7cdd0bL36NEArchOk+SSNnb","UIModule");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.UIModule=void 0;var a=cc._decorator,s=a.ccclass,c=(a.property,function(){this.name="",this.node=null,this.UIForm=null,this.zIndex=0,this.name="",this.node=null,this.UIForm=null,this.zIndex=0}),u=t("./BaseModule"),l=t("../ui/UIForm"),p=t("../ui/ToastForm"),h=t("../utils/Common"),f=function(t){function e(){var e=t.call(this)||this;return e.layerIndex=0,e.UIRoot="",e.UIFormStack=[],e.cachedUIForms=[],e.mToastForm=null,e.layerIndex=0,e.UIRoot="prefab/ui/",e.UIFormStack=[],e.cachedUIForms=[],e}return i(e,t),e.prototype.start=function(){Lite.ui=this},e.prototype.showToast=function(t){var e=this;new cc.Color(255,255,255),null==this.mToastForm?this._createUINode("toastForm",1e3,function(o,n){cc.Canvas.instance.node.addChild(o),e.mToastForm=o.getComponent(p.default),o.zIndex=n,e.mToastForm.show(t)}):this.mToastForm.show(t)},e.prototype.showToastColor=function(t,e){var o=this;null==this.mToastForm?this._createUINode("toastForm",1e3,function(n,i){cc.Canvas.instance.node.addChild(n),o.mToastForm=n.getComponent(p.default),n.zIndex=i,o.mToastForm.showColor(t,e)}):this.mToastForm.showColor(t,e)},e.prototype.addPrefab=function(t,e,o){void 0===o&&(o=!0),o?(this[t]&&console.warn("\u66ff\u6362\u540c\u540d\u9884\u5236\u4f53form old\uff1a",this[t],"new \uff1a",e),this[t]=e):this[t]?console.error("\u5df2\u7ecf\u5b58\u5728\u540c\u540d prefab",this[t]):this[t]=e},e.prototype.pushUIForm=function(t,e,o,n){var i=this;if(void 0===e&&(e={}),!this.hasUIForm(t)){var r=this._getUINodeFromCacheByName(t);null==r?this._createUIFormModel(t,function(t){i._showUIForm(t,e),o&&o(t,e)},n):(r.zIndex=this.layerIndex++,this.UIFormStack.push(r),this._showUIForm(r,e),o&&o(r,e))}},e.prototype.pop=function(t,e){if(void 0===t&&(t=!1),0!=this.UIFormStack.length){var o=this.UIFormStack.pop();t?this._destroyUIForm(o,null):this._hideUIForm(o,null,e)}},e.prototype.getFormModel=function(t){for(var e=0;e<this.UIFormStack.length;e++){var o=this.UIFormStack[e];if(o.name==t)return o}},e.prototype.getUIForm=function(t){var e=this.getFormModel(t);return e?e.UIForm:null},e.prototype.hasUIForm=function(t){return!!this.getFormModel(t)},e.prototype.hideUIForm=function(t,e,o){for(var n=0;n<this.UIFormStack.length;n++){var i=this.UIFormStack[n];i.name==t&&this._hideUIForm(i,e,o)}},e.prototype.hideAllUIForm=function(){for(var t=this.UIFormStack.length-1;t>=0;t--){var e=this.UIFormStack[t];this._hideUIForm(e,null)}},e.prototype.destroyUIForm=function(t,e){for(var o=0;o<this.UIFormStack.length;o++){var n=this.UIFormStack[o];n.name==t&&this._destroyUIForm(n,e)}},e.prototype._formatUIFormName=function(t){return t.replace(/\//g,"_")},e.prototype._createUINode=function(t,e,o,n){if(void 0===n&&(n=""),this[t]instanceof cc.Prefab){var i=cc.instantiate(this[t]);o&&o(i,e)}else if(h.default.isEmpty(n)){var r=this.UIRoot+t;Lite.resource.loadAsset(r,cc.Prefab,function(t,n){var i=cc.instantiate(n);o&&o(i,e)})}else Lite.resource.loadBundleRes(n,t,cc.Prefab,function(t,n){var i=cc.instantiate(n);o&&o(i,e)})},e.prototype._createUIFormModel=function(t,e,o){var n=this;void 0===o&&(o="");var i=this,r=new c;r.name=t;var a=this.layerIndex++;r.zIndex=a,this.UIFormStack.push(r),this._createUINode(t,a,function(o,a){for(var s=0;s<i.UIFormStack.length;s++){var c=i.UIFormStack[s];if(c.zIndex==a&&c.name==o.name){if(null==o)return void n._removeStack(s);var u=o.getComponent(l.default);return u.formName=t,c.UIForm=u,c.node=o,void(e&&e(r))}}},o)},e.prototype._getUINodeFromCacheByName=function(t){for(var e=0;e<this.cachedUIForms.length;e++){var o=this.cachedUIForms[e];if(null!=o.node&&o.name==t)return this.cachedUIForms.splice(e,1),o}return null},e.prototype._showUIForm=function(t,e){if(cc.Canvas.instance.node.addChild(t.node),t.UIForm.willShow(e),t.node.active=!0,e&&!isNaN(e.zIndex)?t.node.zIndex=e.zIndex:t.node.zIndex=t.zIndex,t.UIForm.onShow(e),t.UIForm.isPopEffect){var o=t.node;h.default.popOpenAnim(o)}},e.prototype._hideUIForm=function(t,e,o){if(t.UIForm.willHide(e),t.UIForm.onHide(e),this._removeStack(t),this.cachedUIForms.push(t),t.UIForm.isPopEffect){var n=t.node;h.default.popCloseAnim(n).then(function(){t.node.active=!1,t.node.removeFromParent(!1),o&&o()})}else t.UIForm.hideAnim(function(){t.node.active=!1,t.node.removeFromParent(!1),o&&o()})},e.prototype._destroyUIForm=function(t,e){t.UIForm.willHide(e),t.node.removeFromParent(),t.UIForm.onHide(e),t.node.active=!1,this._removeStack(t),t.node.destroy()},e.prototype._removeStack=function(t){var e=this;isNaN(t)?this.UIFormStack.forEach(function(o,n){o==t&&e.UIFormStack.splice(n,1)}):this.UIFormStack.splice(t,1)},r([s],e)}(u.default);o.UIModule=f,cc._RF.pop()},{"../ui/ToastForm":"ToastForm","../ui/UIForm":"UIForm","../utils/Common":"Common","./BaseModule":"BaseModule"}],Utils3D:[function(t,e,o){"use strict";cc._RF.push(e,"9069ev5EyNPCJEfP+ealmqy","Utils3D"),Object.defineProperty(o,"__esModule",{value:!0}),o.Utils3D=void 0;var n=function(){function t(){}return t.distance3D=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)+Math.pow(t.z-e.z,2))},Object.defineProperty(t,"defalutVec3",{get:function(){var t=this.mDefalutVec3||(this.mDefalutVec3=new Laya.Vector3);return t.toDefault(),t},enumerable:!1,configurable:!0}),t.setToVec3=function(t,e,o,n){return t.x=e,t.y=o,t.z=n,t},t.position=function(t,e,o,n){var i=t.transform.position;i.x=e,i.y=o,i.z=n,t.transform.position=i},t.localPosition=function(t,e,o,n){var i=t.transform.localPosition;i.x=e,i.y=o,i.z=n,t.transform.localPosition=t.transform.localPosition},t.localPositionByVec3=function(t,e){var o=t.transform.localPosition;o.x=e.x,o.y=e.y,o.z=e.z,t.transform.localPosition=t.transform.localPosition},t.rotation=function(t,e,o,n){var i=this.setToVec3(this.defalutVec3,e,o,n),r=180/Math.PI;Laya.Quaternion.createFromYawPitchRoll(i.y/r,i.x/r,i.z/r,t.transform.localRotation),t.transform.localRotation=t.transform.localRotation},t.rotationByVec3=function(t,e){var o=180/Math.PI;Laya.Quaternion.createFromYawPitchRoll(e.y/o,e.x/o,e.z/o,t.transform.localRotation),t.transform.localRotation=t.transform.localRotation},t.positionX=function(t,e){t.transform.position.x=e,t.transform.position=t.transform.position},t.positionY=function(t,e){t.transform.position.y=e,t.transform.position=t.transform.position},t.positionZ=function(t,e){var o=t.transform.position;return o.z=e,t.transform.position=t.transform.position,o.z},t.localPositionX=function(t,e){t.transform.localPosition.x=e,t.transform.localPosition=t.transform.localPosition},t.localPositionY=function(t,e){t.transform.localPosition.y=e,t.transform.localPosition=t.transform.localPosition},t.localPositionZ=function(t,e){var o=t.transform.localPosition;return o.z=e,t.transform.localPosition=t.transform.localPosition,o.z},t.rotationX=function(t,e){var o=this.setToVec3(this.defalutVec3,e,0,0),n=180/Math.PI;Laya.Quaternion.createFromYawPitchRoll(o.y/n,o.x/n,o.z/n,t.transform.localRotation),t.transform.localRotation=t.transform.localRotation},t.rotationY=function(t,e){var o=t.transform||t._transform,n=this.setToVec3(this.defalutVec3,0,e,0),i=180/Math.PI;Laya.Quaternion.createFromYawPitchRoll(n.y/i,n.x/i,n.z/i,o.localRotation),o.localRotation=o.localRotation},t.rotationYBy=function(t,e){var o=t.transform||t._transform,n=o.position.y,i=this.setToVec3(this.defalutVec3,0,e+n,0),r=180/Math.PI;Laya.Quaternion.createFromYawPitchRoll(i.y/r,i.x/r,i.z/r,o.localRotation),o.localRotation=o.localRotation},t.rotationZ=function(t,e){var o=this.setToVec3(this.defalutVec3,0,0,e),n=180/Math.PI;Laya.Quaternion.createFromYawPitchRoll(o.y/n,o.x/n,o.z/n,t.transform.localRotation),t.transform.localRotation=t.transform.localRotation},t.tweenScale=function(t,e,o,n,i,r,a,s,c){var u=this;return void 0===c&&(c=null),new Promise(function(c){var l=Laya.Pool.getItemByClass("Vector3",Laya.Vector3);u.setToVec3(l,o,n,i),Laya.Tween.to(l,{x:r,y:a,z:s},e,Laya.Ease.bounceOut,Laya.Handler.create(u,function(){c()}),0,!1,!0).update=Laya.Handler.create(u,function(){t.transform?u.scale(t,l.x,l.y,l.z):c()},null,!1)})},t.scale=function(t,e,o,n){var i=t.transform.scale;i.x=e,i.y=o,i.z=n,t.transform.scale=i},t.scaleByVec3=function(t,e){t.transform.scale=e},t.scaleX=function(t,e){t.transform.scale.x=e,t.transform.scale=t.transform.scale},t.scaleY=function(t,e){t.transform.scale.y=e,t.transform.scale=t.transform.scale},t.scaleZ=function(t,e){t.transform.scale.z=e,t.transform.scale=t.transform.scale},t.tweenRotate=function(){},t.rotateEuler=function(t,e,o,n,i,r,a,s){var c=this;return new Promise(function(u){var l=new Laya.Vector3;c.setToVec3(l,o,n,i),Laya.Tween.to(l,{x:r,y:a,z:s},e,null,Laya.Handler.create(c,function(){u()})).update=new Laya.Handler(c,function(){t.transform&&(t.transform.rotationEuler=l)},null,!1)})},t.tweenRotateByLayTween=function(t,e,o,n,i,r,a,s){var c=this,u=Laya.Pool.getItemByClass("Vector3",Laya.Vector3);this.setToVec3(u,o,n,i),Laya.Tween.to(u,{x:r,y:a,z:s},e).update=new Laya.Handler(this,function(){t.transform&&c.rotationByVec3(t,u)},null,!1)},t.tweenLocalRotate=function(){},t.tweenLocalPosition=function(t,e,o,n,i,r,a,s,c){var u=this;void 0===c&&(c=null);var l=Laya.Pool.getItemByClass("Vector3",Laya.Vector3);this.setToVec3(l,o,n,i),Laya.Tween.to(l,{x:r,y:a,z:s},e,c).update=Laya.Handler.create(this,function(){t.transform&&u.localPosition(t,l.x,l.y,l.z)},null,!1)},t.tweenLocalPositionPromise=function(t,e,o,n,i,r,a,s,c){var u=this;return void 0===c&&(c=null),new Promise(function(l){var p=Laya.Pool.getItemByClass("Vector3",Laya.Vector3);u.setToVec3(p,o,n,i),Laya.Tween.to(p,{x:r,y:a,z:s},e,c,Laya.Handler.create(u,function(){l()}),0,!1,!0).update=Laya.Handler.create(u,function(){t.transform?u.localPosition(t,p.x,p.y,p.z):l()},null,!1)})},t.tweenPosition=function(t,e,o,n,i,r,a,s,c,u){var l=this;return void 0===c&&(c=null),void 0===u&&(u=null),new Promise(function(p){var h=Laya.Pool.getItemByClass("Vector3",Laya.Vector3);l.setToVec3(h,o,n,i),Laya.Tween.to(h,{x:r,y:a,z:s},e,c,Laya.Handler.create(l,function(){p()}),0,!1,!0).update=Laya.Handler.create(l,function(){t.transform?(l.position(t,h.x,h.y,h.z),u&&u.runWith(h)):p()},null,!1)})},t.tweenRotationY=function(t,e,o,n,i,r){var a=this;return void 0===i&&(i=null),void 0===r&&(r=null),new Promise(function(r){var s=Laya.Pool.getItemByClass("Vector3",Laya.Vector3);a.setToVec3(s,0,o,0),Laya.Tween.to(s,{x:0,y:n,z:0},e,i,Laya.Handler.create(a,function(){r()})).update=Laya.Handler.create(a,function(){t.transform&&a.rotationY(t,s.y)},null,!1)})},t.tweenRotationX=function(t,e,o,n,i,r){var a=this;return void 0===i&&(i=null),void 0===r&&(r=null),new Promise(function(r){var s=Laya.Pool.getItemByClass("Vector3",Laya.Vector3);a.setToVec3(s,o,0,0),Laya.Tween.to(s,{x:n,y:0,z:0},e,i,Laya.Handler.create(a,function(){r()})).update=Laya.Handler.create(a,function(){t.transform&&a.rotationX(t,s.y)},null,!1)})},t.tweenRotation=function(t,e,o,n,i,r,a,s,c,u){var l=this;void 0===c&&(c=null),void 0===u&&(u=null);var p=Laya.Pool.getItemByClass("Vector3",Laya.Vector3);this.setToVec3(p,o,n,i),Laya.Tween.to(p,{x:r,y:a,z:s},e,c).update=Laya.Handler.create(this,function(){t.transform&&l.rotation(t,p.x,p.y,p.z)},null,!1)},t}();o.Utils3D=n,cc._RF.pop()},{}],WEAPON:[function(t,e,o){"use strict";cc._RF.push(e,"dd27dZAMRREEZo3LF3gdaD6","WEAPON"),Object.defineProperty(o,"__esModule",{value:!0}),o.WEAPON=void 0,function(t){t[t.W_Iron=1]="W_Iron",t[t.W_ICE=2]="W_ICE",t[t.W_Poison=3]="W_Poison",t[t.W_Blood=4]="W_Blood",t[t.W_Dark=5]="W_Dark",t[t.W_Light=6]="W_Light"}(o.WEAPON||(o.WEAPON={})),cc._RF.pop()},{}],WeaponCfg:[function(t,e,o){"use strict";cc._RF.push(e,"60ce42mIC1NuogQhRdslhEK","WeaponCfg");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.WeaponCfg=void 0;var r=t("./Sheets"),a=t("../../script/framework/utils/SheetManager"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.get=function(t){return this[t]?this[t]:a.SheetManager.get("WeaponCfg",t,e)},e}(r.WeaponCfgBase);o.WeaponCfg=s,cc._RF.pop()},{"../../script/framework/utils/SheetManager":"SheetManager","./Sheets":"Sheets"}],boxBase:[function(t,e,o){"use strict";cc._RF.push(e,"666c3dWU5tHnoC+3w78b7zW","boxBase");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../sheets/vo/PrizeBox"),s=t("../../config/UIForms"),c=t("../BundleMgr"),u=t("../utils/FrameworkEvent"),l=t("./UIForm"),p=cc._decorator,h=p.ccclass,f=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.checked=null,e.unchecked=null,e.noKey=null,e.hasKey=null,e.boxContainer=null,e.noKeyContainer=null,e.keysContainer=null,e.checkContainer=null,e.btnReceive=null,e.btnClose=null,e.isMask=!0,e.boxList=[],e.maxBoxNum=9,e}return i(e,t),e.prototype.willShow=function(e){t.prototype.willShow.call(this,e);var o=a.PrizeBox.getAll();o.sort(function(){return Math.random()>.5?1:-1}),this.boxList=o,Lite.data.clearPrizeKey(),Lite.data.clearPrizeBox(),Lite.data.addPrizeKey(3),this.checked.node.active=!0,this.btnReceive.active=!0,this.btnClose.active=!1,this.checkContainer.active=!0,this.initBox(),this.addListener()},e.prototype.onShow=function(){},e.prototype.willHide=function(e){t.prototype.willShow.call(this,e),this.removeListener()},e.prototype.addListener=function(){this.unchecked.node.on(cc.Node.EventType.TOUCH_END,this.checkboxChange,this),this.btnReceive.on(cc.Node.EventType.TOUCH_END,this.onVideo,this),this.btnClose.on(cc.Node.EventType.TOUCH_END,this.onCloseBox,this),moosnow.event.addListener(u.default.PRIZE_BOX_UNLOCAK,this,this.onPrizeBoxUnLock),moosnow.event.addListener(u.default.PRIZE_KEY_CHANGE,this,this.onPrizeKeyChanged)},e.prototype.removeListener=function(){this.unchecked.node.off(cc.Node.EventType.TOUCH_END,this.checkboxChange,this),this.btnReceive.off(cc.Node.EventType.TOUCH_END,this.onVideo,this),this.btnClose.off(cc.Node.EventType.TOUCH_END,this.onCloseBox,this),moosnow.event.removeListener(u.default.PRIZE_BOX_UNLOCAK,this),moosnow.event.removeListener(u.default.PRIZE_KEY_CHANGE,this)},e.prototype.checkboxChange=function(){this.getOpenNum()==this.maxBoxNum?(this.checked.node.active=!1,this.checkContainer.active=!1):this.checked.node.active=!this.checked.node.active,this.checked.node.active?(this.btnReceive.active=!0,this.btnClose.active=!1):(this.btnReceive.active=!1,this.btnClose.active=!0)},e.prototype.onPrizeBoxUnLock=function(){},e.prototype.onPrizeKeyChanged=function(){this.noKeyContainer.active=0==Lite.data.getPrizeKey(),this.keysContainer.active=!this.noKeyContainer.active,this.updateKeyNum()},e.prototype.initBox=function(){var t=this;c.default.loadBoxBundle(function(){Lite.entity.hideAllEntity("boxItem"),t.boxContainer.node.removeAllChildren(),t.boxList.forEach(function(e){Lite.entity.showEntity("boxItem",t.boxContainer.node,e)})}),this.updateKeyNum()},e.prototype.onCloseBox=function(){this.FormData&&this.FormData.callback&&this.FormData.callback(),Lite.ui.hideUIForm(s.default.BoxForm,null)},e.prototype.onVideo=function(){moosnow.platform.showVideo(function(t){t==moosnow.VIDEO_STATUS.END?Lite.data.addPrizeKey(3):t==moosnow.VIDEO_STATUS.ERR?moosnow.form.showToast(moosnow.VIDEO_MSG.ERR):moosnow.form.showToast(moosnow.VIDEO_MSG.NOTEND)})},e.prototype.getOpenNum=function(){var t=Lite.data.getPrizeBox(),e=0;for(var o in t)e++;return e},e.prototype.updateKeyNum=function(){var t=this,e=Lite.data.getPrizeKey();this.getOpenNum()==this.maxBoxNum?(this.noKeyContainer.active=!0,this.keysContainer.active=!1,this.checkboxChange()):e>0?(this.noKeyContainer.active=!1,this.keysContainer.active=!0,this.keysContainer.children[0].children.forEach(function(o,n){o.getComponent(cc.Sprite).spriteFrame=n>e-1?t.noKey:t.hasKey})):(this.noKeyContainer.active=!0,this.keysContainer.active=!1)},r([f(cc.Sprite)],e.prototype,"checked",void 0),r([f(cc.Sprite)],e.prototype,"unchecked",void 0),r([f(cc.SpriteFrame)],e.prototype,"noKey",void 0),r([f(cc.SpriteFrame)],e.prototype,"hasKey",void 0),r([f(cc.Layout)],e.prototype,"boxContainer",void 0),r([f(cc.Node)],e.prototype,"noKeyContainer",void 0),r([f(cc.Node)],e.prototype,"keysContainer",void 0),r([f(cc.Node)],e.prototype,"checkContainer",void 0),r([f(cc.Node)],e.prototype,"btnReceive",void 0),r([f(cc.Node)],e.prototype,"btnClose",void 0),r([h],e)}(l.default);o.default=d,cc._RF.pop()},{"../../../sheets/vo/PrizeBox":"PrizeBox","../../config/UIForms":"UIForms","../BundleMgr":"BundleMgr","../utils/FrameworkEvent":"FrameworkEvent","./UIForm":"UIForm"}],buffBase:[function(t,e,o){"use strict";cc._RF.push(e,"7ed8a1s9AREorpDUFkPIChZ","buffBase");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../config/UIForms"),s=t("./UIForm"),c=t("../../enum/PLAYER_BUFF"),u=t("../../framework/utils/FrameworkEvent"),l=cc._decorator,p=l.ccclass,h=l.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnClose=null,e.btnBuff1=null,e.btnBuff2=null,e.buff_data=null,e}return i(e,t),e.prototype.onShow=function(e){t.prototype.onShow.call(this,e),this.buff_data=e,this.addListener(),this.init(e),moosnow.event.sendEventImmediately(u.default.SHOW_BACKGROUND,{flag:!0})},e.prototype.onHide=function(e){t.prototype.onHide.call(this,e),this.removeListener()},e.prototype.init=function(t){var e=this.btnBuff1.getChildByName("title").getComponent(cc.Label),o=this.btnBuff2.getChildByName("title").getComponent(cc.Label);t.data.buff_1==c.PLAYER_BUFF.BUFF_HEALTH?(e.string="\u6062\u590d "+t.data.buff_rate_1+"% \u751f\u547d",this.btnBuff1.getChildByName("hp").active=!0,this.btnBuff1.getChildByName("attack").active=!1,this.btnBuff1.getChildByName("critical").active=!1,this.btnBuff1.getChildByName("critical_damage").active=!1):t.data.buff_1==c.PLAYER_BUFF.BUFF_ATTACK?(e.string="\u589e\u52a0 "+t.data.buff_rate_1+"% \u653b\u51fb\u529b",this.btnBuff1.getChildByName("hp").active=!1,this.btnBuff1.getChildByName("attack").active=!0,this.btnBuff1.getChildByName("critical").active=!1,this.btnBuff1.getChildByName("critical_damage").active=!1):t.data.buff_1==c.PLAYER_BUFF.BUFF_CRITICAL?(e.string="\u589e\u52a0 "+t.data.buff_rate_1+"% \u66b4\u51fb\u7387",this.btnBuff1.getChildByName("hp").active=!1,this.btnBuff1.getChildByName("attack").active=!1,this.btnBuff1.getChildByName("critical").active=!0,this.btnBuff1.getChildByName("critical_damage").active=!1):t.data.buff_1==c.PLAYER_BUFF.BUFF_CRITICAL_DAMAGE?(e.string="\u589e\u52a0 "+t.data.buff_rate_1+"% \u66b4\u51fb\u4f24\u5bb3",this.btnBuff1.getChildByName("hp").active=!1,this.btnBuff1.getChildByName("attack").active=!1,this.btnBuff1.getChildByName("critical").active=!1,this.btnBuff1.getChildByName("critical_damage").active=!0):t.data.buff_1==c.PLAYER_BUFF.BUFF_ATTACK_SPEED&&(e.string="\u589e\u52a0 "+t.data.buff_rate_1+"% \u653b\u51fb\u901f\u5ea6",this.btnBuff1.getChildByName("hp").active=!1,this.btnBuff1.getChildByName("attack").active=!0,this.btnBuff1.getChildByName("critical").active=!1,this.btnBuff1.getChildByName("critical_damage").active=!1),t.data.buff_2==c.PLAYER_BUFF.BUFF_HEALTH?(o.string="\u6062\u590d "+t.data.buff_rate_2+"% \u751f\u547d",this.btnBuff2.getChildByName("hp").active=!0,this.btnBuff2.getChildByName("attack").active=!1,this.btnBuff2.getChildByName("critical").active=!1,this.btnBuff2.getChildByName("critical_damage").active=!1):t.data.buff_2==c.PLAYER_BUFF.BUFF_ATTACK?(o.string="\u589e\u52a0 "+t.data.buff_rate_2+"% \u653b\u51fb\u529b",this.btnBuff2.getChildByName("hp").active=!1,this.btnBuff2.getChildByName("attack").active=!0,this.btnBuff2.getChildByName("critical").active=!1,this.btnBuff2.getChildByName("critical_damage").active=!1):t.data.buff_2==c.PLAYER_BUFF.BUFF_CRITICAL?(o.string="\u589e\u52a0 "+t.data.buff_rate_2+"% \u66b4\u51fb\u7387",this.btnBuff2.getChildByName("hp").active=!1,this.btnBuff2.getChildByName("attack").active=!1,this.btnBuff2.getChildByName("critical").active=!0,this.btnBuff2.getChildByName("critical_damage").active=!1):t.data.buff_2==c.PLAYER_BUFF.BUFF_CRITICAL_DAMAGE?(o.string="\u589e\u52a0 "+t.data.buff_rate_2+"% \u66b4\u51fb\u4f24\u5bb3",this.btnBuff2.getChildByName("hp").active=!1,this.btnBuff2.getChildByName("attack").active=!1,this.btnBuff2.getChildByName("critical").active=!1,this.btnBuff2.getChildByName("critical_damage").active=!0):t.data.buff_2==c.PLAYER_BUFF.BUFF_ATTACK_SPEED&&(o.string="\u589e\u52a0 "+t.data.buff_rate_2+"% \u653b\u51fb\u901f\u5ea6",this.btnBuff2.getChildByName("hp").active=!1,this.btnBuff2.getChildByName("attack").active=!0,this.btnBuff2.getChildByName("critical").active=!1,this.btnBuff2.getChildByName("critical_damage").active=!1)},e.prototype.addListener=function(){this.btnBuff1.on(cc.Node.EventType.TOUCH_END,this.onGetBuff,this),this.btnBuff2.on(cc.Node.EventType.TOUCH_END,this.onGetBuff,this),this.btnClose.on(cc.Node.EventType.TOUCH_START,this.onBackHome,this)},e.prototype.removeListener=function(){this.btnBuff1.off(cc.Node.EventType.TOUCH_END),this.btnBuff2.off(cc.Node.EventType.TOUCH_END),this.btnClose.off(cc.Node.EventType.TOUCH_START)},e.prototype.onGetBuff=function(t){var e=this;moosnow.platform.showVideo(function(o){switch(o){case moosnow.VIDEO_STATUS.NOTEND:Lite.ui.showToast(moosnow.VIDEO_MSG.NOTEND);break;case moosnow.VIDEO_STATUS.ERR:break;case moosnow.VIDEO_STATUS.END:if("btnBuff1"==t.target.name)if(e.buff_data.data.buff_1==c.PLAYER_BUFF.BUFF_HEALTH)(a=Lite.myGame.player.p_HP_MAX*e.buff_data.data.buff_rate_1/100+Lite.myGame.player.p_HP)>Lite.myGame.player.p_HP_MAX?Lite.myGame.player.p_HP=Lite.myGame.player.p_HP_MAX:Lite.myGame.player.p_HP=a,Lite.myGame.player.setHPProgress(),Lite.myGame.player.aniFrame.play("buff_hp");else if(e.buff_data.data.buff_1==c.PLAYER_BUFF.BUFF_ATTACK){var n=Lite.myGame.player.p_Damage*e.buff_data.data.buff_rate_1/100;Lite.myGame.player.p_Damage=n+Lite.myGame.player.p_Damage,Lite.myGame.player.aniFrame.play("buff_attack")}else if(e.buff_data.data.buff_1==c.PLAYER_BUFF.BUFF_CRITICAL){var i=Lite.myGame.player.critical_Rate+e.buff_data.data.buff_rate_1;Lite.myGame.player.critical_Rate=i>100?100:i,Lite.myGame.player.aniFrame.play("buff_attack")}else if(e.buff_data.data.buff_1==c.PLAYER_BUFF.BUFF_CRITICAL_DAMAGE){var r=Lite.myGame.player.critical_Damage+e.buff_data.data.buff_rate_1;Lite.myGame.player.critical_Damage=r,Lite.myGame.player.aniFrame.play("buff_attack")}else e.buff_data.data.buff_1,c.PLAYER_BUFF.BUFF_ATTACK_SPEED;else if("btnBuff2"==t.target.name){var a;e.buff_data.data.buff_2==c.PLAYER_BUFF.BUFF_HEALTH?((a=Lite.myGame.player.p_HP_MAX*e.buff_data.data.buff_rate_2/100+Lite.myGame.player.p_HP)>Lite.myGame.player.p_HP_MAX?Lite.myGame.player.p_HP=Lite.myGame.player.p_HP_MAX:Lite.myGame.player.p_HP=a,Lite.myGame.player.setHPProgress(),Lite.myGame.player.aniFrame.play("buff_hp")):e.buff_data.data.buff_2==c.PLAYER_BUFF.BUFF_ATTACK?(n=Lite.myGame.player.p_Damage*e.buff_data.data.buff_rate_2/100,Lite.myGame.player.p_Damage=n+Lite.myGame.player.p_Damage,Lite.myGame.player.aniFrame.play("buff_attack")):e.buff_data.data.buff_2==c.PLAYER_BUFF.BUFF_CRITICAL?(i=Lite.myGame.player.critical_Rate+e.buff_data.data.buff_rate_2,Lite.myGame.player.critical_Rate=i>100?100:i,Lite.myGame.player.aniFrame.play("buff_attack")):e.buff_data.data.buff_2==c.PLAYER_BUFF.BUFF_CRITICAL_DAMAGE?(r=Lite.myGame.player.critical_Damage+e.buff_data.data.buff_rate_2,Lite.myGame.player.critical_Damage=r,Lite.myGame.player.aniFrame.play("buff_attack")):(e.buff_data.data.buff_2,c.PLAYER_BUFF.BUFF_ATTACK_SPEED)}e.onBackHome()}})},e.prototype.onBackHome=function(){Lite.myGame.map.showBuffFlag=!1,Lite.ui.hideUIForm(a.default.BuffForm,null),moosnow.event.sendEventImmediately(u.default.SHOW_BACKGROUND,{flag:!1})},r([h(cc.Node)],e.prototype,"btnClose",void 0),r([h(cc.Node)],e.prototype,"btnBuff1",void 0),r([h(cc.Node)],e.prototype,"btnBuff2",void 0),r([p],e)}(s.default);o.default=f,cc._RF.pop()},{"../../config/UIForms":"UIForms","../../enum/PLAYER_BUFF":"PLAYER_BUFF","../../framework/utils/FrameworkEvent":"FrameworkEvent","./UIForm":"UIForm"}],endBase:[function(t,e,o){"use strict";cc._RF.push(e,"5af93BBOU5FFJKeogtt5W1+","endBase");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../sheets/vo/LevelCfg"),s=t("../../config/UIForms"),c=t("../../framework/SiteMgr"),u=t("../../framework/ui/UIForm"),l=t("../../framework/utils/FrameworkEvent"),p=t("../BundleMgr"),h=t("../config/Bundles"),f=t("../utils/Common"),d=cc._decorator,m=d.ccclass,y=d.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.winContainer=null,e.failContainer=null,e.btnWinNext=null,e.btnWinHome=null,e.txtWinCoin=null,e.txtFailCoin=null,e.nativeForm=null,e.btnFailNext=null,e.btnFailHome=null,e.baseBox=null,e.logo=null,e.btnTopClose=null,e.btnClose=null,e.btnOpen=null,e.txtMemo=null,e.isJumpAd=!1,e.noAdClosed=!0,e.videoMultiple=2,e.isMask=!0,e.hasBack=!1,e}return i(e,t),e.prototype.start=function(){moosnow.http.point("\u9875\u9762\u6253\u5f00\u6b21\u6570",{name:"\u7ed3\u7b97\u9875"})},e.prototype.willShow=function(e){t.prototype.willShow.call(this,e),this.winContainer.active=e.isWin,this.failContainer.active=!this.winContainer.active,this.addListener(),this.checkWeapon(),e.isWin?Lite.audio.playWin():Lite.audio.playFail(),this.hasBack=!1,moosnow.nodeHelper.changeText(this.txtWinCoin,f.default.formatMoney(Lite.myGame.gameCoin)),moosnow.nodeHelper.changeText(this.txtFailCoin,f.default.formatMoney(Lite.myGame.gameCoin))},e.prototype.onShow=function(e){t.prototype.onShow.call(this,e)},e.prototype.onWinNext=function(){var t=this;moosnow.platform.showVideo(function(e){e==moosnow.VIDEO_STATUS.END?(Lite.ui.showToast("\u606d\u559c\u83b7\u5f97\u53cc\u500d\u91d1\u5e01\u5956\u52b1"),Lite.data.addVideoSp(),Lite.data.addCoin(Lite.myGame.gameCoin*t.videoMultiple),t.onGameNext()):e==moosnow.VIDEO_STATUS.ERR?moosnow.form.showToast(moosnow.VIDEO_MSG.ERR):moosnow.form.showToast(moosnow.VIDEO_MSG.NOTEND)})},e.prototype.onFailNext=function(){var t=this;moosnow.platform.showVideo(function(e){e==moosnow.VIDEO_STATUS.END?(Lite.ui.showToast("\u606d\u559c\u83b7\u5f97\u53cc\u500d\u91d1\u5e01\u5956\u52b1"),Lite.data.addCoin(Lite.myGame.gameCoin*t.videoMultiple),t.on2NextLevel(),t.onGameNext()):e==moosnow.VIDEO_STATUS.ERR?moosnow.form.showToast(moosnow.VIDEO_MSG.ERR):moosnow.form.showToast(moosnow.VIDEO_MSG.NOTEND)})},e.prototype.onFailHome=function(){Lite.data.addCoin(Lite.myGame.gameCoin),this.backHome()},e.prototype.addListener=function(){this.btnWinNext.on(cc.Node.EventType.TOUCH_END,this.onWinNext,this),this.btnWinHome.on(cc.Node.EventType.TOUCH_END,this.on2Home,this),this.btnFailNext.on(cc.Node.EventType.TOUCH_END,this.onFailNext,this),this.btnFailHome.on(cc.Node.EventType.TOUCH_END,this.onFailHome,this),this.logo.node.on(cc.Node.EventType.TOUCH_END,this.onOpenAd,this),this.btnOpen.on(cc.Node.EventType.TOUCH_END,this.onOpenAd,this),this.btnTopClose.on(cc.Node.EventType.TOUCH_END,this.onCloseAd,this),this.btnClose.on(cc.Node.EventType.TOUCH_END,this.onCloseAd1,this)},e.prototype.remoteListener=function(){this.btnWinNext.off(cc.Node.EventType.TOUCH_END,this.onWinNext,this),this.btnWinHome.off(cc.Node.EventType.TOUCH_END,this.on2Home,this),this.btnFailNext.off(cc.Node.EventType.TOUCH_END,this.onFailNext,this),this.btnFailHome.off(cc.Node.EventType.TOUCH_END,this.onFailHome,this),this.logo.node.off(cc.Node.EventType.TOUCH_END,this.onOpenAd,this),this.btnOpen.off(cc.Node.EventType.TOUCH_END,this.onOpenAd,this),this.btnTopClose.off(cc.Node.EventType.TOUCH_END,this.onCloseAd,this),this.btnClose.off(cc.Node.EventType.TOUCH_END,this.onCloseAd1,this)},e.prototype.onOpenAd=function(){var t=this;console.log("\u70b9\u51fb\u4e86\u3002\u3002\u3002\u6253\u5f00  2222  nativeform-----------",this.noAdClosed),this.noAdClosed?this.onCloseAd1():moosnow.platform.clickNative(function(){moosnow.event.sendEventImmediately(l.default.HIDE_TRANSITION,null),t.onCloseAd1()})},e.prototype.onCloseAd=function(){console.log("\u70b9\u51fb\u4e86\u3002\u3002\u3002\u5173\u95ed 2222   nativeform-----------",this.isJumpAd,this.noAdClosed),this.isJumpAd&&0==this.noAdClosed?this.onOpenAd():this.onCloseAd1()},e.prototype.onCloseAd1=function(){this.nativeForm.active=!1},e.prototype.on2NextLevel=function(){Lite.data.setUserLevel(this.FormData.level,0),this.FormData.level,a.LevelCfg.getAll().length},e.prototype.onGameNext=function(){this.backHome()},e.prototype.on2Home=function(){Lite.data.addCoin(Lite.myGame.gameCoin),this.backHome()},e.prototype.backHome=function(){this.hasBack||(this.hasBack=!0,p.default.loadHomeBundle(function(){c.default.show(Lite.config.site04,function(){Lite.ui.hideUIForm(s.default.GameForm,null),Lite.ui.hideUIForm(s.default.EndForm,null),Lite.ui.pushUIForm(s.default.HomeForm,null,function(){},h.default.homeform)})}))},e.prototype.checkWeapon=function(){for(var t=Lite.data.getPlayerEquipWeapon(),e=Lite.data.getWeaponData(),o=!1,n=0;n<e.length;n++)if(e[n]==Number(t)){o=!0;break}o||Lite.data.setPlayerEquipWeapon(1)},e.prototype.checkNative=function(){var t=this;this.nativeForm.active=!1,this.noAdClosed=!0,this.logo.spriteFrame=null,this.txtMemo.string="",this.btnTopClose.active=!1,this.isJumpAd=!1,this.addListener();var e=Lite.config;if(!e||e.isLimitArea,e&&1==e.mx_native_click_switch?(this.btnOpen.active=!0,this.btnClose.active=!1):(this.btnOpen.active=!1,this.btnClose.active=!0),e)if(0==e.mx_ysgggbaj)this.btnTopClose.active=!0;else if(-1==e.mx_ysgggbaj)this.btnTopClose.active=!1;else if(1==e.mx_ysgggbaj)this.btnTopClose.active=!0,this.isJumpAd=!0;else if(e.mx_ysgggbaj>=2&&e.mx_ysgggbaj<=10){var o=e.mx_ysgggbaj;this.isJumpAd=!0,this.scheduleOnce(function(){t.btnTopClose.active=!0},o)}else e.mx_ysgggbaj>10&&(this.btnTopClose.active=!0,f.default.randomNumBoth(0,100)>e.mx_ysgggbaj?this.isJumpAd=!1:this.isJumpAd=!0)},e.prototype.showNativeForm=function(){var t=this;moosnow.platform.checkVersion("",function(e){moosnow.http.getAllConfig(function(o){1==o.mx_click_switch&&e&&Lite.myGame.checkTimeTwoMinutes()&&moosnow.platform.showNativeAd(function(e){if(e?console.log("\u539f\u751f\u5e7f\u544a222222------------",e.desc,e.imgUrlList[0],e.logoUrl,e.icon,e.title,e.imgUrlList):console.log("\u539f\u751f\u5e7f\u544a222222 \u8fd4\u56de\u7a7a------------"),e&&(e.imgUrlList&&e.imgUrlList.length>0||e.icon)){t.txtMemo.string=e.desc;var o=e.imgUrlList[0]||e.icon;cc.loader.load(o,function(o,n){if(!o){console.log("native img  url ",e.creativeType,n.url);var i=new cc.SpriteFrame(n);t.logo.spriteFrame=i}}),t.nativeForm.active=!0,t.noAdClosed=!1}else t.isJumpAd=!1,t.noAdClosed=!0,console.log("\u8fd4\u56de\u3002\u3002\u3002null 2222  -----nativeForm callback",t.isJumpAd,t.noAdClosed),console.log("\u8fd4\u56de\u3002\u3002\u3002null 2222  \u5173\u95ed\u3002\u3002\u3002nativeForm",t.isJumpAd,t.noAdClosed),t.nativeForm.active=!1})})})},e.prototype.onVideo=function(){var t=this;moosnow.platform.showVideo(function(e){switch(e){case moosnow.VIDEO_STATUS.NOTEND:Lite.ui.showToast(moosnow.VIDEO_MSG.NOTEND);break;case moosnow.VIDEO_STATUS.ERR:break;case moosnow.VIDEO_STATUS.END:Lite.ui.showToast("\u606d\u559c\u83b7\u5f97\u53cc\u500d\u91d1\u5e01\u5956\u52b1"),Lite.data.addCoin(Lite.myGame.gameCoin*t.videoMultiple),t.backHome()}})},e.prototype.willHide=function(){this.remoteListener()},r([y(cc.Node)],e.prototype,"winContainer",void 0),r([y(cc.Node)],e.prototype,"failContainer",void 0),r([y(cc.Node)],e.prototype,"btnWinNext",void 0),r([y(cc.Node)],e.prototype,"btnWinHome",void 0),r([y(cc.Node)],e.prototype,"txtWinCoin",void 0),r([y(cc.Node)],e.prototype,"txtFailCoin",void 0),r([y(cc.Node)],e.prototype,"nativeForm",void 0),r([y(cc.Node)],e.prototype,"btnFailNext",void 0),r([y(cc.Node)],e.prototype,"btnFailHome",void 0),r([y(cc.Sprite)],e.prototype,"baseBox",void 0),r([y(cc.Sprite)],e.prototype,"logo",void 0),r([y(cc.Node)],e.prototype,"btnTopClose",void 0),r([y(cc.Node)],e.prototype,"btnClose",void 0),r([y(cc.Node)],e.prototype,"btnOpen",void 0),r([y(cc.Label)],e.prototype,"txtMemo",void 0),r([m],e)}(u.default);o.default=_,cc._RF.pop()},{"../../../sheets/vo/LevelCfg":"LevelCfg","../../config/UIForms":"UIForms","../../framework/SiteMgr":"SiteMgr","../../framework/ui/UIForm":"UIForm","../../framework/utils/FrameworkEvent":"FrameworkEvent","../BundleMgr":"BundleMgr","../config/Bundles":"Bundles","../utils/Common":"Common"}],enum:[function(t,e,o){"use strict";cc._RF.push(e,"93618XO6K9NkbkE0odERCZf","enum"),Object.defineProperty(o,"__esModule",{value:!0}),o.DELAY_MOVE_TYPE=void 0,function(t){t[t.NONE=0]="NONE",t[t.SKIN=1]="SKIN",t[t.END_GAME=2]="END_GAME"}(o.DELAY_MOVE_TYPE||(o.DELAY_MOVE_TYPE={})),cc._RF.pop()},{}],equipBase:[function(t,e,o){"use strict";cc._RF.push(e,"daf50Rmn+lFYoZpWONVYRzu","equipBase");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../utils/FrameworkEvent"),s=t("./UIForm"),c=t("../../config/UIForms"),u=t("../../../sheets/vo/WeaponCfg"),l=cc._decorator,p=l.ccclass,h=l.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnClose=null,e.btnBuy=null,e.btnUpgrade=null,e.btnEquip=null,e.imgCoin=null,e.w_attack=null,e.w_skill=null,e.w_desc=null,e.w_name=null,e.w_level=null,e.w_ico=null,e.id=1,e.buyFlag=!0,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.init=function(){this.setItemValue()},e.prototype.willShow=function(e){t.prototype.willShow.call(this,e),this.id=Number(e.id),this.addListener(),this.init()},e.prototype.setItemValue=function(){for(var t=u.WeaponCfg.get(this.id),e=this.w_ico.children,o=0;o<e.length;o++)this.id==Number(e[o].name)?e[o].active=!0:e[o].active=!1;this.w_name.getComponent(cc.Label).string=t.name,this.w_level.getComponent(cc.Label).string="\u7b49\u7ea7: 1",this.w_attack.getComponent(cc.RichText).string=""+t.skill_buff_des,this.w_skill.getComponent(cc.RichText).string="",this.w_desc.getComponent(cc.Label).string=t.skill_des;var n=Lite.data.getWeaponData(),i=Number(Lite.data.getPlayerEquipWeapon());for(this.imgCoin.active=!0,this.btnBuy.active=!0,this.btnEquip.active=!1,this.btnUpgrade.active=!1,o=0;o<n.length;o++)if(n[o]==this.id){this.imgCoin.active=!1,this.btnBuy.active=!1,i==this.id?this.btnEquip.active=!1:this.btnEquip.active=!0;break}this.imgCoin.active&&(this.imgCoin.getChildByName("txtCoin").getComponent(cc.Label).string=t.coin);var r=new cc.Vec2(-150,-300),a=new cc.Vec2(150,-300),s=new cc.Vec2(0,-300);this.btnEquip.setPosition(s),this.btnBuy.setPosition(s),this.imgCoin.setPosition(-50,-235),this.btnEquip.active&&this.btnUpgrade.active&&(this.btnEquip.setPosition(r),this.btnUpgrade.setPosition(a)),!this.btnEquip.active&&this.btnUpgrade.active&&this.btnUpgrade.setPosition(s)},e.prototype.onBuy=function(){if(this.buyFlag){this.buyFlag=!1;var t=Number(u.WeaponCfg.get(this.id).coin);if(Number(Lite.data.getCoin())<t)Lite.ui.showToast("\u5c11\u4fa0\uff0c\u56ca\u4e2d\u7f9e\u6da9\u554a");else{Lite.data.subCoin(t);var e=Lite.data.getWeaponData();e.push(Number(this.id)),Lite.data.setWeaponData(e),this.imgCoin.active=!1,this.btnBuy.active=!1,this.btnEquip.active=!0,Lite.ui.showToast("\u606d\u559c\u83b7\u5f97\u65b0\u6b66\u5668 "+u.WeaponCfg.get(this.id).name),moosnow.event.sendEventImmediately(a.default.EQUIP_GET,{id:this.id})}this.buyFlag=!0}},e.prototype.onEquip=function(){this.btnEquip.active=!1,moosnow.event.sendEventImmediately(a.default.EQUIP_CHANGE,{id:this.id}),Lite.data.setPlayerEquipWeapon(this.id),this.onBack()},e.prototype.onBack=function(){Lite.ui.hideUIForm(c.default.EquipForm,null),moosnow.platform.checkVersion("",function(){moosnow.http.getAllConfig(function(){})})},e.prototype.addListener=function(){this.btnClose.on(cc.Node.EventType.TOUCH_END,this.onBack,this),this.btnBuy.on(cc.Node.EventType.TOUCH_END,this.onBuy,this),this.btnEquip.on(cc.Node.EventType.TOUCH_END,this.onEquip,this)},e.prototype.removeListener=function(){this.btnClose.off(cc.Node.EventType.TOUCH_END),this.btnBuy.off(cc.Node.EventType.TOUCH_END),this.btnEquip.off(cc.Node.EventType.TOUCH_END)},e.prototype.onShow=function(e){t.prototype.onShow.call(this,e)},e.prototype.onHide=function(e){t.prototype.onHide.call(this,e)},e.prototype.update=function(){},r([h(cc.Node)],e.prototype,"btnClose",void 0),r([h(cc.Node)],e.prototype,"btnBuy",void 0),r([h(cc.Node)],e.prototype,"btnUpgrade",void 0),r([h(cc.Node)],e.prototype,"btnEquip",void 0),r([h(cc.Node)],e.prototype,"imgCoin",void 0),r([h(cc.Node)],e.prototype,"w_attack",void 0),r([h(cc.Node)],e.prototype,"w_skill",void 0),r([h(cc.Node)],e.prototype,"w_desc",void 0),r([h(cc.Node)],e.prototype,"w_name",void 0),r([h(cc.Node)],e.prototype,"w_level",void 0),r([h(cc.Node)],e.prototype,"w_ico",void 0),r([p],e)}(s.default);o.default=f,cc._RF.pop()},{"../../../sheets/vo/WeaponCfg":"WeaponCfg","../../config/UIForms":"UIForms","../utils/FrameworkEvent":"FrameworkEvent","./UIForm":"UIForm"}],finishBase:[function(t,e,o){"use strict";cc._RF.push(e,"64e1d/BoStEELaw9XLfahNy","finishBase");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../framework/ui/UIForm"),s=cc._decorator,c=s.ccclass,u=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){},e.prototype.willShow=function(e){t.prototype.willShow.call(this,e)},e.prototype.willHide=function(){},r([c],e)}(a.default));o.default=u,cc._RF.pop()},{"../../framework/ui/UIForm":"UIForm"}],gameBase:[function(t,e,o){"use strict";cc._RF.push(e,"d266bZl6a1L9ZiopfqloYco","gameBase");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../framework/ui/UIForm"),s=t("../../framework/utils/FrameworkEvent"),c=t("../../../sheets/vo/LevelCfg"),u=t("../../config/UIForms"),l=t("../../framework/BundleMgr"),p=t("../config/Bundles"),h=t("../../../script/enum/MASTER_TYPE"),f=t("../../framework/utils/Common"),d=t("../../enum/PLAYER_STATE"),m=t("../utils/MathUtils"),y=cc._decorator,_=y.ccclass,g=y.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.txtLevel=null,e.txtMasterNum=null,e.txtCoinNum=null,e.imgLianZhan=null,e.tips=null,e.aniTipsForward=null,e.mapNode=null,e.btnSkill=null,e.player=null,e.tipsContent=null,e.imgStart=null,e.Guidance=null,e.warningPrefab=null,e.coinPrefab=null,e.hitnumPrefab=null,e.putongPrefab=null,e.blackPrefab=null,e.gangGuanPrefab=null,e.bigManPrefab=null,e.yellowBossPrefab=null,e.redBossPrefab=null,e.putongPool=null,e.blackPool=null,e.gangGuanPool=null,e.bigManPool=null,e.yellowBossPool=null,e.redBossPool=null,e.warningPool=null,e.coinPool=null,e.hitnumPool=null,e.skill_Progress=null,e.skill_txt_Rate=null,e.skill_Add_Rate=0,e.tips_region=null,e.tips_win=null,e.tips_lose=null,e.skill_cd=2,e.skill_can_use=!0,e.level_coin_num=0,e.txtlianzhan=null,e.lianzhan_num=0,e.mCurrentLevel=0,e.mGameLevel=0,e}return i(e,t),e.prototype.start=function(){moosnow.http.point("\u9875\u9762\u6253\u5f00\u6b21\u6570",{name:"\u6e38\u620f\u4e2d"})},e.prototype.addListener=function(){moosnow.event.addListener(s.default.PLAYER_STATE_DEATH,this,this.onGameOver),moosnow.event.addListener(s.default.ROLE_HP_CHANGED,this,this.onChangeHP),moosnow.event.addListener(s.default.CREATE_MASTER,this,this.onCreateMaster),moosnow.event.addListener(s.default.CREATE_COINS,this,this.onCreateCoins),moosnow.event.addListener(s.default.PLAYER_SKILL_RANGE,this,this.setSkillRange),moosnow.event.addListener(s.default.LEVEL_RATE_CHANGE,this,this.setLevelRate),moosnow.event.addListener(s.default.LEVEL_COIN_CHANGE,this,this.setCoinNum),moosnow.event.addListener(s.default.PLAYER_CAN_MOVE,this,this.showForwardTips),moosnow.event.addListener(s.default.SHOW_COLLISION_WARN,this,this.showCollisiondWarn),moosnow.event.addListener(s.default.RECOVERY_COLLISION_WARN,this,this.recoveryCollisiondWarn),moosnow.event.addListener(s.default.GUIDANCE_NOVICE,this,this.LoadGuidance),moosnow.event.addListener(s.default.RECOVERY_MASTER,this,this.recoveryMaster),moosnow.event.addListener(s.default.RECOVERY_COINS,this,this.recoveryCoins),moosnow.event.addListener(s.default.CREATE_HITNUM,this,this.onCreateHitNum),moosnow.event.addListener(s.default.RECOVERY_HITNUM,this,this.recoveryHitNum),moosnow.event.addListener(s.default.SHOW_LIANZHAN,this,this.showLianZhan),moosnow.event.addListener(s.default.END_SHOW_LIANZHAN,this,this.endShowLianZhan),moosnow.event.addListener(s.default.SHOW_BUFF,this,this.showBuff),this.btnSkill.on(cc.Node.EventType.TOUCH_END,this.onSkill,this)},e.prototype.removeListener=function(){moosnow.event.removeListener(s.default.PLAYER_STATE_DEATH,this),moosnow.event.removeListener(s.default.ROLE_HP_CHANGED,this),moosnow.event.removeListener(s.default.CREATE_MASTER,this),moosnow.event.removeListener(s.default.CREATE_COINS,this),moosnow.event.removeListener(s.default.CREATE_HITNUM,this),moosnow.event.removeListener(s.default.PLAYER_SKILL_RANGE,this),moosnow.event.removeListener(s.default.LEVEL_RATE_CHANGE,this),moosnow.event.removeListener(s.default.LEVEL_COIN_CHANGE,this),moosnow.event.removeListener(s.default.PLAYER_CAN_MOVE,this),moosnow.event.removeListener(s.default.SHOW_COLLISION_WARN,this),moosnow.event.removeListener(s.default.RECOVERY_COLLISION_WARN,this),moosnow.event.removeListener(s.default.GUIDANCE_NOVICE,this),moosnow.event.removeListener(s.default.RECOVERY_MASTER,this),moosnow.event.removeListener(s.default.RECOVERY_COINS,this),moosnow.event.removeListener(s.default.RECOVERY_HITNUM,this),moosnow.event.removeListener(s.default.SHOW_LIANZHAN,this),moosnow.event.removeListener(s.default.END_SHOW_LIANZHAN,this),moosnow.event.removeListener(s.default.SHOW_BUFF,this),this.btnSkill.off(cc.Node.EventType.TOUCH_END,this.onSkill,this)},e.prototype.onSkill=function(){Lite.myGame.startFlag&&this.skill_can_use&&(1==this.skill_Progress.fillRange&&Lite.myGame.player.playerState!=d.PLAYER_STATE.E_State_Death&&Lite.myGame.player.playerState!=d.PLAYER_STATE.E_State_Skill&&(this.skill_can_use=!1,moosnow.event.sendEventImmediately(s.default.PLAYER_SKILL,{}),Lite.data.setTaskSkillNum(1),this.scheduleOnce(function(){this.skill_can_use=!0},this.skill_cd)),9==Lite.myGame.guidancePro&&(Lite.myGame.guidancePro=10,moosnow.event.sendEventImmediately(s.default.GUIDANCE_NOVICE,{})))},e.prototype.createPutongPool=function(){this.putongPool=new cc.NodePool;for(var t=0;t<10;++t){var e=cc.instantiate(this.putongPrefab);this.putongPool.put(e)}},e.prototype.createBlackPool=function(){this.blackPool=new cc.NodePool;for(var t=0;t<10;++t){var e=cc.instantiate(this.blackPrefab);this.blackPool.put(e)}},e.prototype.createGangguanPool=function(){this.gangGuanPool=new cc.NodePool;for(var t=0;t<10;++t){var e=cc.instantiate(this.gangGuanPrefab);this.gangGuanPool.put(e)}},e.prototype.createBigManPool=function(){this.bigManPool=new cc.NodePool;for(var t=0;t<5;++t){var e=cc.instantiate(this.bigManPrefab);this.bigManPool.put(e)}},e.prototype.createYellowBossPool=function(){this.yellowBossPool=new cc.NodePool;for(var t=0;t<5;++t){var e=cc.instantiate(this.yellowBossPrefab);this.yellowBossPool.put(e)}},e.prototype.createRedBossPool=function(){this.redBossPool=new cc.NodePool;for(var t=0;t<5;++t){var e=cc.instantiate(this.redBossPrefab);this.redBossPool.put(e)}},e.prototype.createWarningPool=function(){this.warningPool=new cc.NodePool;for(var t=0;t<1;++t){var e=cc.instantiate(this.warningPrefab);this.warningPool.put(e)}},e.prototype.createCoinPool=function(){this.coinPool=new cc.NodePool;for(var t=0;t<20;++t){var e=cc.instantiate(this.coinPrefab);this.coinPool.put(e)}},e.prototype.createHitNumPool=function(){this.hitnumPool=new cc.NodePool;for(var t=0;t<50;++t){var e=cc.instantiate(this.hitnumPrefab);this.hitnumPool.put(e)}},e.prototype.createHitNum=function(t,e,o,n){var i=null;(i=this.hitnumPool.size()>0?this.hitnumPool.get():cc.instantiate(this.hitnumPrefab)).parent=this.node.parent,i.getComponent("HitNumControl").init(e,t,o,n)},e.prototype.createCoins=function(t,e,o){var n=null;(n=this.coinPool.size()>0?this.coinPool.get():cc.instantiate(this.coinPrefab)).parent=t,n.getComponent("CoinControl").init(e,o)},e.prototype.createMaster=function(t,e,o,n,i,r){for(var a=null,s=Math.ceil(r/o),c=0;c<o;c++)e==h.MASTER_TYPE.Putong?((a=this.putongPool.size()>0?this.putongPool.get():cc.instantiate(this.putongPrefab)).parent=t,a.getChildByName("putong").getComponent("MasterControl").init(h.MASTER_TYPE.Putong,c,n,i,s),Lite.myGame.m_Array.push(a)):e==h.MASTER_TYPE.Black?((a=this.blackPool.size()>0?this.blackPool.get():cc.instantiate(this.blackPrefab)).parent=t,a.getChildByName("black").getComponent("MasterControl").init(h.MASTER_TYPE.Black,c,n,i,s),Lite.myGame.m_Array.push(a)):e==h.MASTER_TYPE.Gangguan?((a=this.gangGuanPool.size()>0?this.gangGuanPool.get():cc.instantiate(this.gangGuanPrefab)).parent=t,a.getChildByName("gangguan").getComponent("MasterControl").init(h.MASTER_TYPE.Gangguan,c,n,i,s),Lite.myGame.m_Array.push(a)):e==h.MASTER_TYPE.Bigman?((a=this.bigManPool.size()>0?this.bigManPool.get():cc.instantiate(this.bigManPrefab)).parent=t,a.getChildByName("bigman").getComponent("MasterControl").init(h.MASTER_TYPE.Bigman,c,n,i,s),Lite.myGame.m_Array.push(a)):e==h.MASTER_TYPE.Yellowboss?((a=this.yellowBossPool.size()>0?this.yellowBossPool.get():cc.instantiate(this.yellowBossPrefab)).parent=t,a.getChildByName("yellowboss").getComponent("MasterControl").init(h.MASTER_TYPE.Yellowboss,c,n,i,s),Lite.myGame.m_Array.push(a)):e==h.MASTER_TYPE.Redboss&&((a=this.redBossPool.size()>0?this.redBossPool.get():cc.instantiate(this.redBossPrefab)).parent=t,a.getChildByName("redboss").getComponent("MasterControl").init(h.MASTER_TYPE.Redboss,c,n,i,s),Lite.myGame.m_Array.push(a)),Lite.myGame.m_Num+=1},e.prototype.onCreateMaster=function(){for(var t=0;t<Lite.myGame.map.map_batchs.length;t++){var e=Lite.myGame.map.map_batchs[t];if(e.e_batch_id==Lite.myGame.map.batch&&e.e_refresh_num==Lite.myGame.map.refreshNum){for(var o=Math.floor(e.e_coin_down/e.e_master_types.length),n=0;n<e.e_master_types.length;n++)this.createMaster(this.node,e.e_master_types[n],e.e_master_nums[n],e.e_hp_up,e.e_attack_up,o);break}}Lite.myGame.m_Num_clone=Lite.myGame.m_Num,console.log("\u521b\u5efa\u654c\u4eba\u5b8c\u6210"),3==Lite.myGame.guidancePro?(Lite.myGame.guidancePro=4,moosnow.event.sendEventImmediately(s.default.GUIDANCE_NOVICE,{})):7==Lite.myGame.guidancePro&&(Lite.myGame.guidancePro=8,moosnow.event.sendEventImmediately(s.default.GUIDANCE_NOVICE,{})),this.hideForwardTips()},e.prototype.onCreateCoins=function(t){var e;e=t.coinnum<=1e3?1:t.coinnum<=5e3?2:t.coinnum<=1e4?3:t.coinnum<=5e4?4:t.coinnum<=1e5?5:6;for(var o=Math.ceil(t.coinnum/e),n=0;n<e;n++)this.createCoins(this.node,o,t.pos)},e.prototype.onCreateHitNum=function(t){this.createHitNum(t.object,t.damage,t.c_flag,t.masterNum)},e.prototype.showCollisiondWarn=function(t){var e=null;(e=this.warningPool.size()>0?this.warningPool.get():cc.instantiate(this.warningPrefab)).parent=this.tipsContent,e.name=String(t.masterNum),Lite.myGame.player.node.x>t.x?(e.scaleX=Math.abs(e.scaleX),e.setPosition(t.x+250,t.y)):(e.scaleX=0-Math.abs(e.scaleX),e.setPosition(t.x-250,t.y));for(var o=0;o<e.children.length;o++)e.children[o].active=!0;var n=0;this.schedule(function(){e.children[n].active=!1,n++},.4,4,0)},e.prototype.recoveryMaster=function(t){t.masterType==h.MASTER_TYPE.Putong?this.putongPool.put(t.enemy):t.masterType==h.MASTER_TYPE.Black?this.blackPool.put(t.enemy):t.masterType==h.MASTER_TYPE.Gangguan?this.gangGuanPool.put(t.enemy):t.masterType==h.MASTER_TYPE.Bigman?this.bigManPool.put(t.enemy):t.masterType==h.MASTER_TYPE.Redboss?this.redBossPool.put(t.enemy):t.masterType==h.MASTER_TYPE.Yellowboss&&this.yellowBossPool.put(t.enemy)},e.prototype.recoveryCoins=function(t){this.coinPool.put(t.enemy)},e.prototype.recoveryHitNum=function(t){t.masterNum>0&&this.hitnumPool.put(t.enemy)},e.prototype.recoveryCollisiondWarn=function(t){var e=this.tipsContent.getChildByName(String(t.masterNum));e&&this.warningPool.put(e)},e.prototype.showLianZhan=function(){this.imgLianZhan.active||(this.imgLianZhan.active=!0),this.lianzhan_num+=1,this.txtlianzhan.string=this.lianzhan_num.toString();var t=cc.scaleTo(.2,1.5,1.5),e=cc.scaleTo(.2,1,1),o=cc.sequence([t,e]);this.txtlianzhan.node.runAction(o)},e.prototype.endShowLianZhan=function(){this.imgLianZhan.active=!1,this.lianzhan_num=0},e.prototype.onChangeHP=function(){},e.prototype.displayLevel=function(){this.txtLevel.string="\u7b2c"+Lite.myGame.g_Level+"\u5173"},e.prototype.onPause=function(){},e.prototype.onReplay=function(){},e.prototype.onGameOver=function(){this.failGame()},e.prototype.willShow=function(e){t.prototype.willShow.call(this,e),this.createPutongPool(),this.createBlackPool(),this.createGangguanPool(),this.createBigManPool(),this.createWarningPool(),this.createYellowBossPool(),this.createRedBossPool(),this.createCoinPool(),this.createHitNumPool(),this.addListener(),this.showMap()},e.prototype.onShow=function(){this.loadLevel(),this.displayLevel(),Lite.myGame.map.init(),Lite.myGame.player.init(),this.level_coin_num=0,this.txtCoinNum.string="0",this.setLevelRate(),this.loadSkillPanel(),this.loadTips(),this.LoadGuidance(),this.scheduleOnce(function(){l.default.loadEndBundle(function(){},function(){})},0)},e.prototype.loadLevel=function(){},e.prototype.LoadGuidance=function(){if(Lite.data.getGuidance()||0!=Lite.myGame.guidancePro)Lite.data.getGuidance()||2!=Lite.myGame.guidancePro?Lite.data.getGuidance()||4!=Lite.myGame.guidancePro?Lite.data.getGuidance()||6!=Lite.myGame.guidancePro?Lite.data.getGuidance()||8!=Lite.myGame.guidancePro?Lite.data.getGuidance()||10!=Lite.myGame.guidancePro||(Lite.myGame.guidancePro=11,this.btnSkill.getChildByName("xs_tips_3").getChildByName("xs_touch").getComponent(cc.Animation).stop("touch"),this.btnSkill.getChildByName("xs_tips_3").active=!1,Lite.data.setGuidance(!0)):(Lite.myGame.guidancePro=9,this.btnSkill.active=!0,this.btnSkill.getChildByName("xs_tips_3").active=!0,this.btnSkill.getChildByName("xs_tips_3").getChildByName("xs_touch").getComponent(cc.Animation).play("touch")):(Lite.myGame.guidancePro=7,this.Guidance.getChildByName("maskleft").active=!1):(Lite.myGame.guidancePro=5,this.Guidance.getChildByName("maskleft").active=!0,this.Guidance.getChildByName("maskright").active=!1):(Lite.myGame.guidancePro=3,this.Guidance.getChildByName("maskright").active=!1,(t=this.Guidance.getChildByName("maskright").getChildByName("hand")).stopAllActions());else{Lite.myGame.guidancePro=1,this.Guidance.active=!0,this.Guidance.getChildByName("maskleft").active=!1,this.Guidance.getChildByName("maskright").active=!0;var t=this.Guidance.getChildByName("maskright").getChildByName("hand"),e=cc.moveTo(.5,new cc.Vec2(-180,-240)),o=cc.moveTo(.1,new cc.Vec2(-310,-457)),n=cc.sequence([e,o]);t.runAction(n.repeatForever())}},e.prototype.loadTips=function(){this.tips_region=this.tips.getChildByName("tips_region"),this.tips_win=this.tips.getChildByName("tips_win"),this.tips_lose=this.tips.getChildByName("tips_lose"),this.txtlianzhan=this.imgLianZhan.getChildByName("txtLZ").getComponent(cc.Label),Lite.data.getGuidance()?(this.imgStart.active=!0,Lite.myGame.startFlag=!1,this.scheduleOnce(function(){this.imgStart.active=!1,Lite.myGame.startFlag=!0},2)):(this.imgStart.active=!1,Lite.myGame.startFlag=!0)},e.prototype.loadSkillPanel=function(){this.skill_Progress=this.btnSkill.getChildByName("progress").getComponent(cc.Sprite),this.skill_txt_Rate=this.btnSkill.getChildByName("txtRate").getComponent(cc.Label),this.skill_Add_Rate=.05,Lite.data.getGuidance()?this.skill_Progress.fillRange=0:(this.skill_Progress.fillRange=1,this.btnSkill.active=!1),this.skill_txt_Rate.string=Math.floor(100*this.skill_Progress.fillRange)+"%"},e.prototype.setSkillRange=function(t){t.clearRange?this.skill_Progress.fillRange=0:this.skill_Progress.fillRange<1?this.skill_Progress.fillRange=Math.round(100*(this.skill_Progress.fillRange+this.skill_Add_Rate))/100:this.skill_Progress.fillRange=1,this.skill_txt_Rate.string=Math.floor(100*this.skill_Progress.fillRange)+"%"},e.prototype.setLevelRate=function(){this.txtMasterNum.string="\u5173\u5361\u8fdb\u5ea6: "+Lite.myGame.map.map_master_num+"/"+Lite.myGame.map.map_master_total_num,Lite.myGame.map.map_master_num==Lite.myGame.map.map_master_total_num&&(this.tips_win.active=!0,this.scheduleOnce(function(){console.log("\u6e38\u620f\u7ed3\u675f!!!"),this.tips_win.active=!1,this.endGame()},3))},e.prototype.setCoinNum=function(t){this.level_coin_num+=Number(t.coinnum),this.txtCoinNum.string=""+f.default.formatMoney(this.level_coin_num)},e.prototype.showForwardTips=function(){this.tips_win.active||(this.aniTipsForward.active=!0,this.aniTipsForward.getComponent(cc.Animation).play("tips_forward"),this.tips_region.active=!0,this.scheduleOnce(function(){this.tips_region.active=!1},2))},e.prototype.hideForwardTips=function(){this.aniTipsForward.getComponent(cc.Animation).stop("tips_forward"),this.aniTipsForward.active=!1},e.prototype.showBuff=function(t){Lite.ui.hasUIForm(u.default.BuffForm)||Lite.ui.pushUIForm(u.default.BuffForm,{data:t},null,p.default.gameform)},e.prototype.showMap=function(){var t;t=Lite.myGame.g_Level>c.LevelCfg.getAll().length?m.default.randomNumBoth(1,c.LevelCfg.getAll().length):Lite.myGame.g_Level;for(var e=c.LevelCfg.get(t).prefab,o=this.mapNode.children,n=0;n<o.length;n++)o[n].name==e?o[n].active=!0:o[n].active=!1;moosnow.event.sendEventImmediately(s.default.SHOW_BACKGROUND,{flag:!1})},e.prototype.willHide=function(){this.removeListener()},e.prototype.failGame=function(){Lite.myGame.gameCoin=this.level_coin_num,moosnow.event.sendEventImmediately(s.default.GAME_STATE_OVER,{isWin:!1,level:Lite.myGame.g_Level})},e.prototype.endGame=function(){Lite.data.setTaskLevelNum(1),Lite.myGame.gameCoin=this.level_coin_num,moosnow.event.sendEventImmediately(s.default.GAME_STATE_OVER,{isWin:!0,level:Lite.myGame.g_Level})},r([g(cc.Label)],e.prototype,"txtLevel",void 0),r([g(cc.Label)],e.prototype,"txtMasterNum",void 0),r([g(cc.Label)],e.prototype,"txtCoinNum",void 0),r([g(cc.Node)],e.prototype,"imgLianZhan",void 0),r([g(cc.Node)],e.prototype,"tips",void 0),r([g(cc.Node)],e.prototype,"aniTipsForward",void 0),r([g(cc.Node)],e.prototype,"mapNode",void 0),r([g(cc.Node)],e.prototype,"btnSkill",void 0),r([g(cc.Node)],e.prototype,"player",void 0),r([g(cc.Node)],e.prototype,"tipsContent",void 0),r([g(cc.Node)],e.prototype,"imgStart",void 0),r([g(cc.Node)],e.prototype,"Guidance",void 0),r([g(cc.Prefab)],e.prototype,"warningPrefab",void 0),r([g(cc.Prefab)],e.prototype,"coinPrefab",void 0),r([g(cc.Prefab)],e.prototype,"hitnumPrefab",void 0),r([g(cc.Prefab)],e.prototype,"putongPrefab",void 0),r([g(cc.Prefab)],e.prototype,"blackPrefab",void 0),r([g(cc.Prefab)],e.prototype,"gangGuanPrefab",void 0),r([g(cc.Prefab)],e.prototype,"bigManPrefab",void 0),r([g(cc.Prefab)],e.prototype,"yellowBossPrefab",void 0),r([g(cc.Prefab)],e.prototype,"redBossPrefab",void 0),r([_],e)}(a.default);o.default=v,cc._RF.pop()},{"../../../script/enum/MASTER_TYPE":"MASTER_TYPE","../../../sheets/vo/LevelCfg":"LevelCfg","../../config/UIForms":"UIForms","../../enum/PLAYER_STATE":"PLAYER_STATE","../../framework/BundleMgr":"BundleMgr","../../framework/ui/UIForm":"UIForm","../../framework/utils/Common":"Common","../../framework/utils/FrameworkEvent":"FrameworkEvent","../config/Bundles":"Bundles","../utils/MathUtils":"MathUtils"}],gameEntry:[function(t,e,o){"use strict";cc._RF.push(e,"84e36k0/UhEprj3VbtKYlWY","gameEntry");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./AppConfig"),s=t("./ResourceModule"),c=t("../GameDataCenter"),u=t("../utils/MoveUtil"),l=cc._decorator,p=l.ccclass,h=(l.property,function(t){function e(){var e=t.call(this)||this;return e.mConfig=new a.default,e.mResource=new s.default,e.mMoveUtil=new u.default,e}return i(e,t),e.prototype.start=function(){this.mData=new c.default,window.Lite=this,cc.game.addPersistRootNode(this.node)},Object.defineProperty(e.prototype,"myGame",{get:function(){return this.mMyGame},set:function(t){this.mMyGame=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this.mData},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"config",{get:function(){return this.mConfig},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"audio",{get:function(){return this.mAudio},set:function(t){this.mAudio=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ui",{get:function(){return this.mUi},set:function(t){this.mUi=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resource",{get:function(){return this.mResource},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"moveUtil",{get:function(){return this.mMoveUtil},enumerable:!1,configurable:!0}),e.prototype.update=function(t){this.moveUtil.onUpdate(t)},r([p],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../GameDataCenter":"GameDataCenter","../utils/MoveUtil":"MoveUtil","./AppConfig":"AppConfig","./ResourceModule":"ResourceModule"}],homeBase:[function(t,e,o){"use strict";cc._RF.push(e,"2047aYRcnhB/qNUJByawJ75","homeBase");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../framework/utils/FrameworkEvent"),s=t("../../framework/ui/UIForm"),c=t("../../config/UIForms"),u=t("../../framework/utils/Common"),l=t("../config/Bundles"),p=t("../../../sheets/vo/PlayerUpgrade"),h=t("../../../sheets/vo/TitleCfg"),f=cc._decorator,d=f.ccclass,m=f.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnStar=null,e.chapterTxt=null,e.coinNum=null,e.strengthNum=null,e.countdownTxt=null,e.btnHPAdd=null,e.btnAttackAdd=null,e.txtHP=null,e.txtHPAddPrice=null,e.txtAttack=null,e.txtAttackAddPrice=null,e.btnAddCoin=null,e.btnAddStrength=null,e.btnLottery=null,e.btnSign=null,e.btnTask=null,e.playerShow=null,e.btnUp=null,e.btnNext=null,e.txtTitle=null,e.txtAtAdd=null,e.txtHpAdd=null,e.btnAddToDesk=null,e.countdown=null,e.denominator=5,e.hp_upgrade=60,e.hp_upgrade_price=60,e.hp_upgrade_price_now=0,e.attack_upgrade=12,e.attack_upgrade_price=60,e.attack_upgrade_price_now=0,e.ske_com_player=null,e.ani=null,e.isCanClick=!0,e}return i(e,t),e.prototype.onEnable=function(){},e.prototype.onShow=function(){this.addListener(),this.showAudioButton(),this.loadNextLevel(),Lite.audio.playMainMusic(),this.ani=this.playerShow.getChildByName("act"),this.ske_com_player=this.ani.getComponent(sp.Skeleton),this.init(),moosnow.platform.checkVersion("",function(){moosnow.http.getAllConfig(function(){})}),moosnow.event.sendEventImmediately(a.default.SHOW_BACKGROUND,{flag:!0})},e.prototype.init=function(){this.showCoin(),this.checkStrength(),this.showStrength(),this.setTitle(),this.showPlayerUpgrade(),this.showEquipWeapon()},e.prototype.loadNextLevel=function(){},e.prototype.showAudioButton=function(){},e.prototype.starGame=function(){Lite.data.getStrength()>0?(Lite.myGame.m_Num=0,Lite.myGame.m_Array=[],moosnow.event.sendEventImmediately(a.default.GAME_STATE_START,Lite.data.getCurrentLevel()),""==Lite.data.getRefreshTime()&&Lite.data.setRefreshTime((new Date).getTime()),Lite.data.subStrength(1)):Lite.ui.showToast("\u4f53\u529b\u4e0d\u8db3")},e.prototype.setTitle=function(){for(var t=this.txtTitle.getComponent(cc.Label),e=h.TitleCfg.getAll(),o=Number(Lite.data.getPlayerAttackLevel()),n=Number(Lite.data.getPlayerHPLevel()),i="\u767d\u8272",r=0,a=0,s=0;s<e.length;s++){var c=e[s];r<=c.level&&r<=o&&(r=c.level),o<=c.level&&r==c.level&&(t.string=c.name,i=c.color,Lite.myGame.attack_addition=c.addition),a<=c.level&&a<=n&&(a=c.level),n<=c.level&&a==c.level&&(t.string=c.name,i=c.color,Lite.myGame.hp_addition=c.addition)}switch(i){case"\u767d\u8272":this.txtTitle.color=cc.Color.WHITE;break;case"\u7eff\u8272":this.txtTitle.color=cc.Color.GREEN;break;case"\u84dd\u8272":this.txtTitle.color=new cc.color(51,163,220,255);break;case"\u7d2b\u8272":this.txtTitle.color=new cc.color(133,82,161,255);break;case"\u6a59\u8272":this.txtTitle.color=new cc.color(244,121,32,255);break;case"\u7ea2\u8272":this.txtTitle.color=cc.Color.RED;break;default:this.txtTitle.color=cc.Color.WHITE}},e.prototype.showPlayerUpgrade=function(){var t=Number(p.PlayerUpgrade.get(Lite.data.getPlayerHPLevel()).hp);t+=Math.round(t*Lite.myGame.hp_addition/100),this.txtHP.string=""+u.default.formatMoney(t);var e=Number(p.PlayerUpgrade.get(Lite.data.getPlayerAttackLevel()).attack);e+=Math.round(e*Lite.myGame.attack_addition/100),this.txtAttack.string=""+u.default.formatMoney(e),0==Number(p.PlayerUpgrade.get(Lite.data.getPlayerHPLevel()).h_UpgradeCost)?(this.txtHPAddPrice.string="MAX",this.hp_upgrade_price_now=0):(this.hp_upgrade_price_now=Number(p.PlayerUpgrade.get(Lite.data.getPlayerHPLevel()).h_UpgradeCost),this.txtHPAddPrice.string=""+u.default.formatMoney(this.hp_upgrade_price_now)),0==Number(p.PlayerUpgrade.get(Lite.data.getPlayerAttackLevel()).a_UpgradeCost)?(this.txtAttackAddPrice.string="MAX",this.attack_upgrade_price_now=0):(this.attack_upgrade_price_now=Number(p.PlayerUpgrade.get(Lite.data.getPlayerAttackLevel()).a_UpgradeCost),this.txtAttackAddPrice.string=""+u.default.formatMoney(this.attack_upgrade_price_now))},e.prototype.upgradeHP=function(){if(0!=this.hp_upgrade_price_now)if(Number(Lite.data.getCoin())<this.hp_upgrade_price_now)Lite.ui.showToast("\u91d1\u5e01\u4e0d\u8db3");else{var t=Number(p.PlayerUpgrade.get(Lite.data.getPlayerHPLevel()).hp),e=Number(Lite.data.getPlayerHPLevel())+1,o=Number(p.PlayerUpgrade.get(e).hp);this.hp_upgrade=o-t,Lite.data.subCoin(this.hp_upgrade_price_now),Lite.data.setPlayerHPLevel(e),Lite.data.setPlayerHPMax(o),Lite.data.setTaskHpUpNum(1),this.setTitle(),this.showPlayerUpgrade(),Lite.ui.showToastColor("\u751f\u547d\u503c +"+this.hp_upgrade,cc.Color.GREEN)}},e.prototype.upgradeAttack=function(){if(0!=this.attack_upgrade_price_now)if(Number(Lite.data.getCoin())<this.attack_upgrade_price_now)Lite.ui.showToast("\u91d1\u5e01\u4e0d\u8db3");else{var t=Number(p.PlayerUpgrade.get(Lite.data.getPlayerAttackLevel()).attack),e=Number(Lite.data.getPlayerAttackLevel())+1,o=Number(p.PlayerUpgrade.get(e).attack);this.attack_upgrade=o-t,Lite.data.subCoin(this.attack_upgrade_price_now),Lite.data.setPlayerAttackLevel(e),Lite.data.setPlayerAttack(o),Lite.data.setTaskAttackUpNum(1),this.setTitle(),this.showPlayerUpgrade(),Lite.ui.showToastColor("\u653b\u51fb\u529b +"+this.attack_upgrade,cc.Color.GREEN)}},e.prototype.showCoin=function(){this.coinNum.string=""+u.default.formatMoney(Lite.data.getCoin())},e.prototype.showStrength=function(){this.strengthNum.string=""+u.default.formatMoney(Lite.data.getStrength())},e.prototype.showEquipWeapon=function(){moosnow.event.sendEventImmediately(a.default.EQUIP_CHANGE,{id:Lite.data.getPlayerEquipWeapon()})},e.prototype.checkStrength=function(){this.countdownTxt.node.active=!1;var t=Lite.data.getRefreshTime(),e=0;if(""!=t){var o=(new Date).getTime(),n=Math.floor((o-Number(t))/1e3);e=Math.floor(n/60/5),this.countdown=300-n%300}Lite.data.getStrength()>=this.denominator?Lite.data.setRefreshTime(""):Lite.data.getStrength()+e>=this.denominator?(Lite.data.setStrength(this.denominator),Lite.data.setRefreshTime("")):(e>0&&(Lite.data.addStrength(e),Lite.data.setRefreshTime((new Date).getTime()-1e3*(300-this.countdown))),this.countdownTxt.node.active=!0,this.schedule(this.ShowCountdown,1))},e.prototype.ShowCountdown=function(){if(this.countdown-=1,0==this.countdown&&(Lite.data.getStrength()+1>=this.denominator?(Lite.data.setStrength(this.denominator),this.countdownTxt.string="",this.countdownTxt.node.active=!1,Lite.data.setRefreshTime(""),this.unschedule(this.ShowCountdown)):(Lite.data.addStrength(1),Lite.data.setRefreshTime((new Date).getTime()),this.countdown=300)),this.countdown>0){var t=Math.floor(this.countdown/60),e=Math.floor(this.countdown%60);this.countdownTxt.string=e<10?t+":0"+e:t+":"+e}},e.prototype.equipChange=function(t){var e="texture/weapon/"+t.id+".png",o=this;cc.loader.loadRes(e,cc.Texture2D,function(t,e){t?cc.error(t.message||t):(cc.log("Result should be a sprite frame: "+(e instanceof cc.Texture2D)),o.changeSlot(o.ske_com_player,"g_weapon",e))})},e.prototype.changeSlot=function(t,e,o){var n=t.findSlot(e).getAttachment(),i=new sp.SkeletonTexture({width:o.width,height:o.height});i.setRealTexture(o);var r=n.region;r.width=o.width,r.height=o.height,r.originalWidth=o.width,r.originalHeight=o.height,r.rotate=!1,r.u=0,r.v=0,r.u2=1,r.v2=1,r.texture=i,r.renderObject=r,n.width=o.width,n.height=o.height,cc.log(n),n instanceof sp.spine.MeshAttachment?n.updateUVs():(n.setRegion(r),n.updateOffset()),t.invalidAnimationCache()},e.prototype.attachmentChange=function(t){this.changePartialCloth(this.ske_com_player,"dao","wuqi",String(t.id))},e.prototype.changePartialCloth=function(t,e,o,n){var i=t.findSlot(e),r=t.skeletonData.getRuntimeData(),a=r.findSkin(o),s=r.findSlotIndex(e),c=a.getAttachment(s,n);i&&c?(i.setAttachment(c),t.invalidAnimationCache()):cc.error(i&&c,"slots: "+e+", attach: "+n+" not exists!")},e.prototype.addCoin=function(){},e.prototype.addStrength=function(){Lite.ui.hasUIForm(c.default.StrengthForm)||Lite.ui.pushUIForm(c.default.StrengthForm,{type:1},null,l.default.homeform)},e.prototype.showTurntableForm=function(){Lite.ui.hasUIForm(c.default.TurntableForm)||Lite.ui.pushUIForm(c.default.TurntableForm,{},null,l.default.homeform)},e.prototype.showSignForm=function(){Lite.ui.hasUIForm(c.default.SignForm)||Lite.ui.pushUIForm(c.default.SignForm,{},null,l.default.homeform)},e.prototype.showTaskForm=function(){Lite.ui.hasUIForm(c.default.TaskForm)||Lite.ui.pushUIForm(c.default.TaskForm,{},null,l.default.homeform)},e.prototype.onBtnAddToDesk=function(){var t=this;this.isCanClick&&(this.isCanClick=!1,this.scheduleOnce(function(){t.isCanClick=!0},1),moosnow.platform.installShortcut(function(){Lite.ui.showToast("\u606d\u559c\u83b7\u5f971000\u91d1\u5e01\uff01"),Lite.data.addCoin(1e3),t.btnAddToDesk.active=!1},null,function(){}))},e.prototype.addListener=function(){this.btnStar.on(cc.Node.EventType.TOUCH_END,this.starGame,this),this.btnHPAdd.on(cc.Node.EventType.TOUCH_END,this.upgradeHP,this),this.btnAttackAdd.on(cc.Node.EventType.TOUCH_END,this.upgradeAttack,this),this.btnAddCoin.on(cc.Node.EventType.TOUCH_END,this.addCoin,this),this.btnAddStrength.on(cc.Node.EventType.TOUCH_END,this.addStrength,this),this.btnLottery.on(cc.Node.EventType.TOUCH_END,this.showTurntableForm,this),this.btnSign.on(cc.Node.EventType.TOUCH_END,this.showSignForm,this),this.btnTask.on(cc.Node.EventType.TOUCH_END,this.showTaskForm,this),this.btnUp.on(cc.Node.EventType.TOUCH_END,this.onUp,this),this.btnNext.on(cc.Node.EventType.TOUCH_END,this.onNext,this),this.btnAddToDesk.on(cc.Node.EventType.TOUCH_END,this.onBtnAddToDesk,this),moosnow.event.addListener(a.default.SKIN_CHANGE,this,this.showCoin),moosnow.event.addListener(a.default.COIN_CHANGED,this,this.showCoin),moosnow.event.addListener(a.default.STRENGTH_CHANGED,this,this.showStrength),moosnow.event.addListener(a.default.EQUIP_CHANGE,this,this.attachmentChange)},e.prototype.removeListener=function(){this.btnStar.off(cc.Node.EventType.TOUCH_END,this.starGame,this),this.btnHPAdd.off(cc.Node.EventType.TOUCH_END,this.upgradeHP,this),this.btnAttackAdd.off(cc.Node.EventType.TOUCH_END,this.upgradeAttack,this),this.btnAddCoin.off(cc.Node.EventType.TOUCH_END,this.addCoin,this),this.btnAddStrength.off(cc.Node.EventType.TOUCH_END,this.addStrength,this),this.btnLottery.off(cc.Node.EventType.TOUCH_END,this.showTurntableForm,this),this.btnSign.off(cc.Node.EventType.TOUCH_END,this.showSignForm,this),this.btnTask.off(cc.Node.EventType.TOUCH_END,this.showTaskForm,this),this.btnUp.off(cc.Node.EventType.TOUCH_END,this.onUp,this),this.btnNext.off(cc.Node.EventType.TOUCH_END,this.onNext,this),this.btnAddToDesk.off(cc.Node.EventType.TOUCH_END,this.onBtnAddToDesk,this),moosnow.event.removeListener(a.default.SKIN_CHANGE,this),moosnow.event.removeListener(a.default.COIN_CHANGED,this),moosnow.event.removeListener(a.default.STRENGTH_CHANGED,this),moosnow.event.removeListener(a.default.EQUIP_CHANGE,this)},e.prototype.onUp=function(){var t=Lite.data.getCurrentLevel();t>1?(Lite.data.setCurrentLevel(t-1),Lite.myGame.g_Level=t-1,Lite.myGame.gameLevel=Lite.myGame.g_Level,this.loadNextLevel()):Lite.ui.showToast("\u5df2\u7ecf\u662f\u7b2c\u4e00\u5173")},e.prototype.onNext=function(){Lite.data.addCurrentLevel(),this.loadNextLevel(),Lite.myGame.g_Level+=1,Lite.myGame.gameLevel=Lite.myGame.g_Level},e.prototype.onMore=function(){},e.prototype.onSoundChange=function(){},e.prototype.willShow=function(e){t.prototype.willShow.call(this,e),this.btnAddToDesk.active=!1},e.prototype.willHide=function(e){t.prototype.willHide.call(this,e),this.removeListener()},r([m(cc.Node)],e.prototype,"btnStar",void 0),r([m(cc.Label)],e.prototype,"chapterTxt",void 0),r([m(cc.Label)],e.prototype,"coinNum",void 0),r([m(cc.Label)],e.prototype,"strengthNum",void 0),r([m(cc.Label)],e.prototype,"countdownTxt",void 0),r([m(cc.Node)],e.prototype,"btnHPAdd",void 0),r([m(cc.Node)],e.prototype,"btnAttackAdd",void 0),r([m(cc.Label)],e.prototype,"txtHP",void 0),r([m(cc.Label)],e.prototype,"txtHPAddPrice",void 0),r([m(cc.Label)],e.prototype,"txtAttack",void 0),r([m(cc.Label)],e.prototype,"txtAttackAddPrice",void 0),r([m(cc.Node)],e.prototype,"btnAddCoin",void 0),r([m(cc.Node)],e.prototype,"btnAddStrength",void 0),r([m(cc.Node)],e.prototype,"btnLottery",void 0),r([m(cc.Node)],e.prototype,"btnSign",void 0),r([m(cc.Node)],e.prototype,"btnTask",void 0),r([m(cc.Node)],e.prototype,"playerShow",void 0),r([m(cc.Node)],e.prototype,"btnUp",void 0),r([m(cc.Node)],e.prototype,"btnNext",void 0),r([m(cc.Node)],e.prototype,"txtTitle",void 0),r([m(cc.Label)],e.prototype,"txtAtAdd",void 0),r([m(cc.Label)],e.prototype,"txtHpAdd",void 0),r([m(cc.Node)],e.prototype,"btnAddToDesk",void 0),r([d],e)}(s.default);o.default=y,cc._RF.pop()},{"../../../sheets/vo/PlayerUpgrade":"PlayerUpgrade","../../../sheets/vo/TitleCfg":"TitleCfg","../../config/UIForms":"UIForms","../../framework/ui/UIForm":"UIForm","../../framework/utils/Common":"Common","../../framework/utils/FrameworkEvent":"FrameworkEvent","../config/Bundles":"Bundles"}],mistouchBase:[function(t,e,o){"use strict";cc._RF.push(e,"e6102X0ZB9IoY1D225xW3Wt","mistouchBase");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../script/framework/ui/UIForm"),s=t("../../config/UIForms"),c=t("../../framework/utils/Common"),u=t("../../framework/utils/FrameworkEvent"),l=cc._decorator,p=l.ccclass,h=l.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.clickProgress=null,e.jumpBg1=null,e.jumpBg2=null,e.btnJump=null,e.logo=null,e.rewardNum=200,e.btnContainer=null,e.winContainer=null,e.btnWinAgain=null,e.btnWinClose=null,e.btnWinClose2=null,e.txtReward=null,e.clickSound=null,e.winSound=null,e.hand=null,e.isMask=!0,e.mMaxNum=10,e.mCurrentNum=10,e.mNavigateIndex=0,e.mBannerShow=!1,e.mShowTime=0,e.preloadIdx=-1,e.mBannerClickType=2,e.isWin=!1,e}return i(e,t),e.prototype.willShow=function(e){t.prototype.willShow.call(this,e),this.winContainer.active=!1,this.btnJump.active=!0,this.mBeginPos=this.logo.position.clone(),this.mEndPos=this.mBeginPos.add(new cc.Vec3(0,50)),this.mCurrentNum=this.mMaxNum,this.mNavigateIndex=c.default.randomNumBoth(0,4),this.addListener(),this.schedule(this.subProgress,.1),this.mBannerShow=!1,this.mBannerClickType=Lite.config.getKey("mistouchNum",0),this.txtReward.string="\u83b7\u5f97\u91d1\u5e01"+c.default.formatMoney(this.rewardNum),this.preloadIdx=moosnow.platform.preloadBanner(this.preloadIdx)},e.prototype.willHide=function(){this.unschedule(this.subProgress),this.unschedule(this.resetProgress),this.removeListener()},e.prototype.onShow=function(){this.reset()},e.prototype.subProgress=function(){this.mCurrentNum<this.mMaxNum&&(this.mCurrentNum+=.1)},e.prototype.addListener=function(){var t=this;this.isShowAppBox()?(this.logo.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.logo.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.logo.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this)):(this.btnJump.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.btnJump.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.btnJump.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this)),this.node.on(cc.Node.EventType.TOUCH_START,this.stopPropagation,this),this.btnWinClose2.on(cc.Node.EventType.TOUCH_START,this.onReceiveReward,this),this.btnWinClose.on(cc.Node.EventType.TOUCH_START,this.onReceiveReward,this),this.btnWinAgain.on(cc.Node.EventType.TOUCH_START,this.onReceiveAgain,this),moosnow.getAppPlatform()==moosnow.APP_PLATFORM.QQ&&moosnow.event.addListener(u.default.ON_PLATFORM_SHOW,this,function(){t.mBannerShow&&t.openBannerCallback(!0)})},e.prototype.removeListener=function(){this.logo.off(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.logo.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.logo.off(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this),this.btnJump.off(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.btnJump.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.btnJump.off(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this),this.node.off(cc.Node.EventType.TOUCH_END,this.stopPropagation,this),this.btnWinClose2.off(cc.Node.EventType.TOUCH_START),this.btnWinClose.off(cc.Node.EventType.TOUCH_START),this.btnWinAgain.off(cc.Node.EventType.TOUCH_START),moosnow.event.removeListener(moosnow.PLATFORM_EVENT.ON_PLATFORM_HIDE,this),moosnow.event.removeListener(u.default.ON_PLATFORM_SHOW,this),moosnow.event.removeListener(moosnow.PLATFORM_EVENT.NAVIGATE_TO_MINI,this)},e.prototype.onAnimAttackCompleted=function(){this.mAnim&&this.mAnim.play("stand")},e.prototype.onReceiveAgain=function(){this.winContainer.active=!1,Lite.data.addCoin(this.rewardNum),this.reset()},e.prototype.onReceiveReward=function(){Lite.ui.hideUIForm(s.default.MistouchForm,null),Lite.data.addCoin(this.rewardNum),this.FormData&&c.default.isFunction(this.FormData.callback)&&this.FormData.callback()},e.prototype.reset=function(){this.mAnim=this.getComponent(cc.Animation),this.mAttackTime=this.mAnim.getAnimationState("attack").duration,this.isWin=!1,this.winContainer.active=!1,this.mCurrentNum=this.mMaxNum,moosnow.event.removeListener(moosnow.PLATFORM_EVENT.NAVIGATE_TO_MINI,this),this.btnContainer.active=!this.isShowAppBox(),this.hand.active=!1,this.isShowAppBox()?(this.hand.active=!0,this.hand.getComponent(cc.Animation).play(),this.btnContainer.active=!1,this.btnWinClose.active=!1,this.btnWinAgain.active=!0,moosnow.platform.showBanner(!1,null,moosnow.BANNER_HORIZONTAL.CENTER,moosnow.BANNER_VERTICAL.BOTTOM)):(this.btnContainer.active=!0,this.btnWinClose.active=!1,this.btnWinAgain.active=!1)},e.prototype.openReward=function(){this.unschedule(this.onHideBanner),this.unschedule(this.resetProgress),this.unschedule(this.subProgress),this.isWin=!0,this.mAnim.play("win"),Lite.audio.playSound(this.winSound)},e.prototype.onAnimWinCompleted=function(){this.winContainer.active=!0},e.prototype.isShowAppBox=function(){return this.FormData&&4==this.FormData.mistouchType},e.prototype.openBannerCallback=function(t){t&&(this.unschedule(this.onHideBanner),this.unschedule(this.resetProgress),this.isShowAppBox()?moosnow.platform.hideAppBox():moosnow.platform.hideBanner(),moosnow.form.hideAd(null),this.mBannerShow=!1,this.openReward())},e.prototype.stopPropagation=function(t){t.stopPropagation()},e.prototype.onTouchEnd=function(){this.btnJump.getComponent(cc.Sprite).spriteFrame=this.jumpBg2},e.prototype.checkAttack=function(){this.isWin||this.prevTouchTime&&(Date.now()-this.prevTouchTime)/1e3>this.mAttackTime&&this.mAnim.play("stand")},e.prototype.onTouchStart=function(){var t=this;this.btnJump.getComponent(cc.Sprite).spriteFrame=this.jumpBg1,this.isWin||(this.prevTouchTime=Date.now(),this.mAnim.play("attack"),Lite.audio.playSound(this.clickSound,!1),this.hand.active=!1,this.mCurrentNum-=1.5,moosnow.event.removeListener(moosnow.PLATFORM_EVENT.NAVIGATE_TO_MINI,this),this.mCurrentNum>=this.mNavigateIndex&&(this.mBannerShow||(this.mShowTime=Date.now(),this.mBannerShow=!0,moosnow.event.addListener(moosnow.PLATFORM_EVENT.NAVIGATE_TO_MINI,this,function(){t.openBannerCallback(!0),moosnow.event.removeListener(moosnow.PLATFORM_EVENT.NAVIGATE_TO_MINI,t)}),this.mNavigateIndex=c.default.randomNumBoth(3,this.mMaxNum-2),this.isShowAppBox()?moosnow.platform.showAppBox(function(){t.openBannerCallback(!0)}):moosnow.platform.showBanner(!0,function(e){console.log("banner click callback ",e),t.openBannerCallback(e)},moosnow.BANNER_HORIZONTAL.RIGHT,moosnow.BANNER_VERTICAL.BOTTOM,this.preloadIdx),1==this.mBannerClickType?(this.unschedule(this.resetProgress),this.scheduleOnce(this.resetProgress,2)):2==this.mBannerClickType&&(this.unschedule(this.onHideBanner),this.scheduleOnce(this.onHideBanner,2)))),this.mCurrentNum<=0&&(moosnow.form.hideAd(null),moosnow.platform.hideBanner(),this.mBannerShow=!1,this.openReward()))},e.prototype.resetProgress=function(){this.mCurrentNum=this.mMaxNum,moosnow.platform.hideBanner(),moosnow.form.hideAd(null),this.mBannerShow=!1},e.prototype.onHideBanner=function(){this.isShowAppBox()?moosnow.platform.hideAppBox():moosnow.platform.hideBanner(),moosnow.form.hideAd(null)},e.prototype.update=function(){this.checkAttack(),this.clickProgress.progress=this.mCurrentNum/this.mMaxNum},r([h(cc.ProgressBar)],e.prototype,"clickProgress",void 0),r([h(cc.SpriteFrame)],e.prototype,"jumpBg1",void 0),r([h(cc.SpriteFrame)],e.prototype,"jumpBg2",void 0),r([h(cc.Node)],e.prototype,"btnJump",void 0),r([h(cc.Node)],e.prototype,"logo",void 0),r([h],e.prototype,"rewardNum",void 0),r([h(cc.Node)],e.prototype,"btnContainer",void 0),r([h(cc.Node)],e.prototype,"winContainer",void 0),r([h(cc.Node)],e.prototype,"btnWinAgain",void 0),r([h(cc.Node)],e.prototype,"btnWinClose",void 0),r([h(cc.Node)],e.prototype,"btnWinClose2",void 0),r([h(cc.Label)],e.prototype,"txtReward",void 0),r([h(cc.AudioClip)],e.prototype,"clickSound",void 0),r([h(cc.AudioClip)],e.prototype,"winSound",void 0),r([h(cc.Node)],e.prototype,"hand",void 0),r([p],e)}(a.default);o.default=f,cc._RF.pop()},{"../../../script/framework/ui/UIForm":"UIForm","../../config/UIForms":"UIForms","../../framework/utils/Common":"Common","../../framework/utils/FrameworkEvent":"FrameworkEvent"}],pauseBase:[function(t,e,o){"use strict";cc._RF.push(e,"1c140kUR55B3Lo8n6Lk1HtR","pauseBase");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../config/UIForms"),s=t("./UIForm"),c=cc._decorator,u=c.ccclass,l=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnContinue=null,e.btnReplay=null,e.btnBackHome=null,e}return i(e,t),e.prototype.onShow=function(e){t.prototype.onShow.call(this,e),this.addListener()},e.prototype.onHide=function(e){t.prototype.onHide.call(this,e),this.removeListener()},e.prototype.openNative=function(t){1==Lite.config.getKey("mx_click_switch")?Lite.ui.pushUIForm(a.default.NativeForm,{callback:function(){t()}}):t()},e.prototype.addListener=function(){this.btnContinue.on(cc.Node.EventType.TOUCH_START,this.onContinue,this),this.btnReplay.on(cc.Node.EventType.TOUCH_START,this.onReplay,this),this.btnBackHome.on(cc.Node.EventType.TOUCH_START,this.onBackHome,this)},e.prototype.removeListener=function(){this.btnContinue.off(cc.Node.EventType.TOUCH_START),this.btnReplay.off(cc.Node.EventType.TOUCH_START),this.btnBackHome.off(cc.Node.EventType.TOUCH_START)},e.prototype.onContinue=function(){},e.prototype.onReplay=function(){},e.prototype.onBackHome=function(){},r([l(cc.Node)],e.prototype,"btnContinue",void 0),r([l(cc.Node)],e.prototype,"btnReplay",void 0),r([l(cc.Node)],e.prototype,"btnBackHome",void 0),r([u],e)}(s.default);o.default=p,cc._RF.pop()},{"../../config/UIForms":"UIForms","./UIForm":"UIForm"}],shopBase:[function(t,e,o){"use strict";cc._RF.push(e,"d5c50RVGQlB0bl2Vk1FUmhj","shopBase");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../framework/ui/UIForm"),s=cc._decorator,c=s.ccclass,u=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.willShow=function(){},e.prototype.willHide=function(){},r([c],e)}(a.default));o.default=u,cc._RF.pop()},{"../../framework/ui/UIForm":"UIForm"}],signBase:[function(t,e,o){"use strict";cc._RF.push(e,"bb828+5Vt1IVa1jp/QUjqb2","signBase");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../script/framework/utils/FrameworkEvent"),s=t("../../framework/ui/UIForm"),c=t("../../config/UIForms"),u=t("../../../sheets/vo/Sign"),l=t("../config/Bundles"),p=cc._decorator,h=p.ccclass,f=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnClose=null,e.btnVideo=null,e.btnHome=null,e.item1=null,e.item2=null,e.item3=null,e.item4=null,e.item5=null,e.item6=null,e.item7=null,e.signArray=[],e.isCanClickClose=!0,e}return i(e,t),e.prototype.onLoad=function(){this.addListener(),this.init()},e.prototype.init=function(){this.setItemValue(),this.checkSign()},e.prototype.setItemValue=function(){this.item1.getChildByName("txtNum").getComponent(cc.Label).string=u.Sign.get(1).itemNum,this.item2.getChildByName("txtNum").getComponent(cc.Label).string=u.Sign.get(2).itemNum,this.item3.getChildByName("txtNum").getComponent(cc.Label).string=u.Sign.get(3).itemNum,this.item4.getChildByName("txtNum").getComponent(cc.Label).string=u.Sign.get(4).itemNum,this.item5.getChildByName("txtNum").getComponent(cc.Label).string=u.Sign.get(5).itemNum,this.item6.getChildByName("txtNum").getComponent(cc.Label).string=u.Sign.get(6).itemNum},e.prototype.checkSign=function(){this.signArray=[this.item1,this.item2,this.item3,this.item4,this.item5,this.item6,this.item7];for(var t=0;t<Lite.data.getSignNum();t++)this.signArray[t].getChildByName("check").active=!0},e.prototype.onBack=function(){Lite.ui.hideUIForm(c.default.SignForm,null),Lite.myGame.hideAd(!0)},e.prototype.onSign=function(t){if(Lite.data.getIsSign())Lite.ui.showToast("\u60a8\u4eca\u5929\u5df2\u9886\u53d6\u8fc7\u7b7e\u5230\u5956\u52b1,\u8bf7\u660e\u5929\u518d\u6765~");else{var e=String(t.target.name),o=Number(e.substring(e.length-1,e.length));if(o==Lite.data.getSignNum()+1){Lite.data.addSignNum(),this.signArray[o-1].getChildByName("check").active=!0;var n=Number(u.Sign.get(7).itemID);if(o<7){var i=Number(this.signArray[o-1].getChildByName("txtNum").getComponent(cc.Label).string);Lite.ui.hasUIForm(c.default.StrengthForm)||Lite.ui.pushUIForm(c.default.StrengthForm,{type:2,coin:i},null,l.default.homeform)}else if(7==o){for(var r=!1,s=Lite.data.getWeaponData(),p=0;p<s.length;p++)if(s[p]==n){r=!0;break}r?Lite.ui.showToastColor("\u60a8\u5df2\u7ecf\u62e5\u6709\u6b66\u5668 \u8d64\u9704",cc.Color.RED):(s.push(n),Lite.data.setWeaponData(s),moosnow.event.sendEventImmediately(a.default.EQUIP_CHANGE,{id:n}),Lite.ui.showToastColor("\u606d\u559c\u89e3\u9501\u65b0\u6b66\u5668 \u8d64\u9704",cc.Color.RED))}}}},e.prototype.openNative=function(t,e){this.isCanClickClose&&(this.isCanClickClose=!1,Lite.myGame.checkTimeTwoMinutes()?moosnow.platform.checkVersion("",function(o){moosnow.http.getAllConfig(function(n){"1"==n.mx_click_switch&&o?Lite.ui.pushUIForm(c.default.NativeForm,{callback:function(){e.call(t)}},function(){},l.default.nativeform):e.call(t)})}):this.onBack())},e.prototype.showNative=function(){this.openNative(this,this.onBack.bind(this))},e.prototype.addListener=function(){this.btnClose.on(cc.Node.EventType.TOUCH_END,this.onBack,this),this.item1.on(cc.Node.EventType.TOUCH_END,this.onSign,this),this.item2.on(cc.Node.EventType.TOUCH_END,this.onSign,this),this.item3.on(cc.Node.EventType.TOUCH_END,this.onSign,this),this.item4.on(cc.Node.EventType.TOUCH_END,this.onSign,this),this.item5.on(cc.Node.EventType.TOUCH_END,this.onSign,this),this.item6.on(cc.Node.EventType.TOUCH_END,this.onSign,this),this.item7.on(cc.Node.EventType.TOUCH_END,this.onSign,this)},e.prototype.removeListener=function(){this.btnClose.off(cc.Node.EventType.TOUCH_END),this.item1.off(cc.Node.EventType.TOUCH_END),this.item2.off(cc.Node.EventType.TOUCH_END),this.item3.off(cc.Node.EventType.TOUCH_END),this.item4.off(cc.Node.EventType.TOUCH_END),this.item5.off(cc.Node.EventType.TOUCH_END),this.item6.off(cc.Node.EventType.TOUCH_END),this.item7.off(cc.Node.EventType.TOUCH_END)},e.prototype.onShow=function(e){t.prototype.onShow.call(this,e),this.isCanClickClose=!0,Lite.myGame.showAd()},e.prototype.onHide=function(e){t.prototype.onHide.call(this,e)},e.prototype.update=function(){},r([f(cc.Node)],e.prototype,"btnClose",void 0),r([f(cc.Node)],e.prototype,"btnVideo",void 0),r([f(cc.Node)],e.prototype,"btnHome",void 0),r([f(cc.Node)],e.prototype,"item1",void 0),r([f(cc.Node)],e.prototype,"item2",void 0),r([f(cc.Node)],e.prototype,"item3",void 0),r([f(cc.Node)],e.prototype,"item4",void 0),r([f(cc.Node)],e.prototype,"item5",void 0),r([f(cc.Node)],e.prototype,"item6",void 0),r([f(cc.Node)],e.prototype,"item7",void 0),r([h],e)}(s.default);o.default=d,cc._RF.pop()},{"../../../script/framework/utils/FrameworkEvent":"FrameworkEvent","../../../sheets/vo/Sign":"Sign","../../config/UIForms":"UIForms","../../framework/ui/UIForm":"UIForm","../config/Bundles":"Bundles"}],strengthBase:[function(t,e,o){"use strict";cc._RF.push(e,"24f42wqdCZCRpS1coAVmC3x","strengthBase");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./UIForm"),s=t("../../config/UIForms"),c=t("../../framework/utils/Common"),u=cc._decorator,l=u.ccclass,p=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnClose=null,e.btnVideo=null,e.imgTili=null,e.imgCoin=null,e.coin=0,e.getFlag=!1,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.init=function(){},e.prototype.willShow=function(e){t.prototype.willShow.call(this,e),1==e.type?(this.imgTili.active=!0,this.imgCoin.active=!1):2==e.type&&(this.imgTili.active=!1,this.imgCoin.active=!0,this.coin=e.coin,this.imgCoin.getChildByName("txtNum").getComponent(cc.Label).string=""+c.default.formatMoney(2*this.coin)),this.getFlag=!1,this.addListener(),this.init()},e.prototype.onBack=function(){this.imgCoin.active&&!this.getFlag&&(Lite.data.addCoin(this.coin),Lite.ui.showToast("\u83b7\u5f97\u91d1\u5e01 +"+this.coin)),Lite.ui.hideUIForm(s.default.StrengthForm,null)},e.prototype.onbtnVideo=function(){var t=this;moosnow.platform.showVideo(function(e){switch(e){case moosnow.VIDEO_STATUS.NOTEND:Lite.ui.showToast(moosnow.VIDEO_MSG.NOTEND);break;case moosnow.VIDEO_STATUS.ERR:break;case moosnow.VIDEO_STATUS.END:t.imgTili.active?(Lite.ui.showToast("\u606d\u559c\u83b7\u5f97\u4f53\u529b +5"),Lite.data.addStrength(5)):t.imgCoin.active&&(Lite.ui.showToast("\u606d\u559c\u83b7\u5f97\u53cc\u500d\u91d1\u5e01  +"+2*t.coin),Lite.data.addCoin(2*t.coin),t.getFlag=!0),t.onBack()}})},e.prototype.addListener=function(){this.btnClose.on(cc.Node.EventType.TOUCH_END,this.onBack,this),this.btnVideo.on(cc.Node.EventType.TOUCH_END,this.onbtnVideo,this)},e.prototype.removeListener=function(){this.btnClose.off(cc.Node.EventType.TOUCH_END),this.btnVideo.off(cc.Node.EventType.TOUCH_END)},e.prototype.onShow=function(e){t.prototype.onShow.call(this,e)},e.prototype.onHide=function(e){t.prototype.onHide.call(this,e)},e.prototype.update=function(){},r([p(cc.Node)],e.prototype,"btnClose",void 0),r([p(cc.Node)],e.prototype,"btnVideo",void 0),r([p(cc.Node)],e.prototype,"imgTili",void 0),r([p(cc.Node)],e.prototype,"imgCoin",void 0),r([l],e)}(a.default);o.default=h,cc._RF.pop()},{"../../config/UIForms":"UIForms","../../framework/utils/Common":"Common","./UIForm":"UIForm"}],taskBase:[function(t,e,o){"use strict";cc._RF.push(e,"c0edddJnM5PBouDxP+RpmG7","taskBase");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../framework/utils/Common"),s=t("../../framework/ui/UIForm"),c=t("../../config/UIForms"),u=t("../../../sheets/vo/Task"),l=t("../config/Bundles"),p=cc._decorator,h=p.ccclass,f=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnClose=null,e.btnVideo=null,e.btnHome=null,e.item1=null,e.item2=null,e.item3=null,e.item4=null,e.item5=null,e.taskProbar1=null,e.taskProbar2=null,e.taskProbar3=null,e.taskProbar4=null,e.taskProbar5=null,e.isCanClickClose=!0,e.taskArray=[],e.taskProbarArray=[],e}return i(e,t),e.prototype.onLoad=function(){this.addListener()},e.prototype.init=function(){this.setItemValue()},e.prototype.setItemValue=function(){var t=Lite.data.getCurrentLevel();this.item1.getChildByName("txtNum").getComponent(cc.Label).string=""+a.default.formatMoney(Number(u.Task.get(1).itemNum)*t),this.item2.getChildByName("txtNum").getComponent(cc.Label).string=""+a.default.formatMoney(Number(u.Task.get(2).itemNum)*t),this.item3.getChildByName("txtNum").getComponent(cc.Label).string=""+a.default.formatMoney(Number(u.Task.get(3).itemNum)*t),this.item4.getChildByName("txtNum").getComponent(cc.Label).string=""+a.default.formatMoney(Number(u.Task.get(4).itemNum)*t),this.item5.getChildByName("txtNum").getComponent(cc.Label).string=""+a.default.formatMoney(Number(u.Task.get(5).itemNum)*t),this.taskProbar1=this.item1.getChildByName("taskProgressBar"),this.taskProbar2=this.item2.getChildByName("taskProgressBar"),this.taskProbar3=this.item3.getChildByName("taskProgressBar"),this.taskProbar4=this.item4.getChildByName("taskProgressBar"),this.taskProbar5=this.item5.getChildByName("taskProgressBar"),this.taskProbarArray=[this.taskProbar1,this.taskProbar2,this.taskProbar3,this.taskProbar4,this.taskProbar5];var e=String(u.Task.get(1).taskDec);this.taskProbar1.getChildByName("txtDec").getComponent(cc.Label).string=e.replace("%",u.Task.get(1).taskNum),e=String(u.Task.get(2).taskDec),this.taskProbar2.getChildByName("txtDec").getComponent(cc.Label).string=e.replace("%",u.Task.get(2).taskNum),e=String(u.Task.get(3).taskDec),this.taskProbar3.getChildByName("txtDec").getComponent(cc.Label).string=e.replace("%",u.Task.get(3).taskNum),e=String(u.Task.get(4).taskDec),this.taskProbar4.getChildByName("txtDec").getComponent(cc.Label).string=e.replace("%",u.Task.get(4).taskNum),e=String(u.Task.get(5).taskDec),this.taskProbar5.getChildByName("txtDec").getComponent(cc.Label).string=e.replace("%",u.Task.get(5).taskNum);var o=Lite.data.getTaskData(),n="",i=0;o.killnum<Number(u.Task.get(1).taskNum)?(n=o.killnum+"/"+u.Task.get(1).taskNum,i=o.killnum/Number(u.Task.get(1).taskNum)):(n=u.Task.get(1).taskNum+"/"+u.Task.get(1).taskNum,i=1),this.taskProbar1.getComponent(cc.ProgressBar).progress=i,this.taskProbar1.getChildByName("txtProgress").getComponent(cc.Label).string=n,n="",i=0,o.skillnum<Number(u.Task.get(2).taskNum)?(n=o.skillnum+"/"+u.Task.get(2).taskNum,i=o.skillnum/Number(u.Task.get(2).taskNum)):(n=u.Task.get(2).taskNum+"/"+u.Task.get(2).taskNum,i=1),this.taskProbar2.getComponent(cc.ProgressBar).progress=i,this.taskProbar2.getChildByName("txtProgress").getComponent(cc.Label).string=n,n="",i=0,o.levelnum<Number(u.Task.get(3).taskNum)?(n=o.levelnum+"/"+u.Task.get(3).taskNum,i=o.levelnum/Number(u.Task.get(3).taskNum)):(n=u.Task.get(3).taskNum+"/"+u.Task.get(3).taskNum,i=1),this.taskProbar3.getComponent(cc.ProgressBar).progress=i,this.taskProbar3.getChildByName("txtProgress").getComponent(cc.Label).string=n,n="",i=0,o.hpupnum<Number(u.Task.get(4).taskNum)?(n=o.hpupnum+"/"+u.Task.get(4).taskNum,i=o.hpupnum/Number(u.Task.get(4).taskNum)):(n=u.Task.get(4).taskNum+"/"+u.Task.get(4).taskNum,i=1),this.taskProbar4.getComponent(cc.ProgressBar).progress=i,this.taskProbar4.getChildByName("txtProgress").getComponent(cc.Label).string=n,n="",i=0,o.attackupnum<Number(u.Task.get(5).taskNum)?(n=o.attackupnum+"/"+u.Task.get(5).taskNum,i=o.attackupnum/Number(u.Task.get(5).taskNum)):(n=u.Task.get(5).taskNum+"/"+u.Task.get(5).taskNum,i=1),this.taskProbar5.getComponent(cc.ProgressBar).progress=i,this.taskProbar5.getChildByName("txtProgress").getComponent(cc.Label).string=n,this.item1.getChildByName("btnGet1").getChildByName("check").active=o.killget,this.item2.getChildByName("btnGet2").getChildByName("check").active=o.skillget,this.item3.getChildByName("btnGet3").getChildByName("check").active=o.levelget,this.item4.getChildByName("btnGet4").getChildByName("check").active=o.hpupget,this.item5.getChildByName("btnGet5").getChildByName("check").active=o.attackupget,this.taskArray=[this.item1.getChildByName("btnGet1"),this.item2.getChildByName("btnGet2"),this.item3.getChildByName("btnGet3"),this.item4.getChildByName("btnGet4"),this.item5.getChildByName("btnGet5")]},e.prototype.onBack=function(){Lite.ui.hideUIForm(c.default.TaskForm,null),Lite.myGame.hideAd(!0)},e.prototype.onGet=function(t){var e=String(t.target.name),o=Number(e.substring(e.length-1,e.length));if(this.taskArray[o-1].getChildByName("check").active)Lite.ui.showToast("\u4eca\u65e5\u5956\u52b1\u5df2\u9886\u53d6");else if(1==this.taskProbarArray[o-1].getComponent(cc.ProgressBar).progress){var n=Number(u.Task.get(o).itemNum)*Lite.data.getCurrentLevel();Lite.ui.hasUIForm(c.default.StrengthForm)||Lite.ui.pushUIForm(c.default.StrengthForm,{type:2,coin:n},null,l.default.homeform),1==o?Lite.data.setTaskKillGet():2==o?Lite.data.setTaskSkillGet():3==o?Lite.data.setTaskLevelGet():4==o?Lite.data.setTaskHpUpGet():5==o&&Lite.data.setTaskAttackUpGet(),this.setItemValue()}else Lite.ui.showToast("\u4efb\u52a1\u8fd8\u672a\u8fbe\u6210,\u8bf7\u7ee7\u7eed\u52a0\u6cb9.")},e.prototype.openNative=function(t,e){this.isCanClickClose&&(this.isCanClickClose=!1,Lite.myGame.checkTimeTwoMinutes()?moosnow.platform.checkVersion("",function(o){moosnow.http.getAllConfig(function(n){"1"==n.mx_click_switch&&o?Lite.ui.pushUIForm(c.default.NativeForm,{callback:function(){e.call(t)}},function(){},l.default.nativeform):e.call(t)})}):this.onBack())},e.prototype.showNative=function(){this.openNative(this,this.onBack.bind(this))},e.prototype.addListener=function(){this.btnClose.on(cc.Node.EventType.TOUCH_END,this.onBack,this),this.item1.getChildByName("btnGet1").on(cc.Node.EventType.TOUCH_END,this.onGet,this),this.item2.getChildByName("btnGet2").on(cc.Node.EventType.TOUCH_END,this.onGet,this),this.item3.getChildByName("btnGet3").on(cc.Node.EventType.TOUCH_END,this.onGet,this),this.item4.getChildByName("btnGet4").on(cc.Node.EventType.TOUCH_END,this.onGet,this),this.item5.getChildByName("btnGet5").on(cc.Node.EventType.TOUCH_END,this.onGet,this)},e.prototype.removeListener=function(){this.btnClose.off(cc.Node.EventType.TOUCH_END),this.item1.getChildByName("btnGet1").off(cc.Node.EventType.TOUCH_END),this.item2.getChildByName("btnGet2").off(cc.Node.EventType.TOUCH_END),this.item3.getChildByName("btnGet3").off(cc.Node.EventType.TOUCH_END),this.item4.getChildByName("btnGet4").off(cc.Node.EventType.TOUCH_END),this.item5.getChildByName("btnGet5").off(cc.Node.EventType.TOUCH_END)},e.prototype.onShow=function(){this.init(),this.isCanClickClose=!0,Lite.myGame.showAd()},e.prototype.onHide=function(){},e.prototype.update=function(){},r([f(cc.Node)],e.prototype,"btnClose",void 0),r([f(cc.Node)],e.prototype,"btnVideo",void 0),r([f(cc.Node)],e.prototype,"btnHome",void 0),r([f(cc.Node)],e.prototype,"item1",void 0),r([f(cc.Node)],e.prototype,"item2",void 0),r([f(cc.Node)],e.prototype,"item3",void 0),r([f(cc.Node)],e.prototype,"item4",void 0),r([f(cc.Node)],e.prototype,"item5",void 0),r([h],e)}(s.default);o.default=d,cc._RF.pop()},{"../../../sheets/vo/Task":"Task","../../config/UIForms":"UIForms","../../framework/ui/UIForm":"UIForm","../../framework/utils/Common":"Common","../config/Bundles":"Bundles"}],totalForm:[function(t,e,o){"use strict";cc._RF.push(e,"d02a2m1n5NDtLANi3x3IHMU","totalForm");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var i in e=arguments[o])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},a=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../framework/ui/UIForm"),c=t("../../../sheets/vo/LevelCfg"),u=t("../../framework/utils/Common"),l=t("../../config/UIForms"),p=cc._decorator,h=p.ccclass,f=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.checked=null,e.unchecked=null,e.btnReceive=null,e.levelCoin=null,e.isMask=!0,e.mCheckedVideo=!0,e.mLevelCoinNum=0,e.mLevelShareCoinNum=0,e}return i(e,t),e.prototype.addEvent=function(){this.unchecked.node.on(cc.Node.EventType.TOUCH_END,this.onShareChange,this),this.btnReceive.node.on(cc.Node.EventType.TOUCH_END,this.onReceive,this)},e.prototype.removeEvent=function(){this.unchecked.node.off(cc.Node.EventType.TOUCH_END,this.onShareChange,this),this.btnReceive.node.off(cc.Node.EventType.TOUCH_END,this.onReceive,this)},e.prototype.onReceive=function(){var t=this;this.mCheckedVideo?moosnow.platform.showVideo(function(e){e==moosnow.VIDEO_STATUS.END?t.openEnd(5*t.mLevelCoinNum):e==moosnow.VIDEO_STATUS.ERR?Lite.ui.showToast(moosnow.VIDEO_MSG.ERR):Lite.ui.showToast(moosnow.VIDEO_MSG.NOTEND)}):this.openEnd(this.mLevelCoinNum)},e.prototype.openEnd=function(t){Lite.ui.hideUIForm(l.default.TotalForm,null),Lite.ui.pushUIForm(l.default.EndForm,r({coin:t,level:this.FormData.level,levelShareCoinNum:this.mLevelShareCoinNum},this.FormData))},e.prototype.onShareChange=function(){this.mCheckedVideo=!this.mCheckedVideo,this.showBtn()},e.prototype.showBtn=function(){this.mCheckedVideo?this.checked.node.active=!0:this.checked.node.active=!1},e.prototype.onShow=function(){var t=c.LevelCfg.get(this.FormData.level+1);this.mLevelCoinNum=t.coin,this.mLevelShareCoinNum=t.shareCoin,this.levelCoin.string=""+u.default.formatMoney(this.mLevelCoinNum),this.addEvent(),this.showBtn(),this.mCheckedVideo=!0,this.showBtn(),moosnow.platform.stopRecord(),moosnow.platform.showBanner(!1)},e.prototype.willHide=function(){this.removeEvent(),moosnow.platform.hideBanner()},a([f(cc.Sprite)],e.prototype,"checked",void 0),a([f(cc.Sprite)],e.prototype,"unchecked",void 0),a([f(cc.Sprite)],e.prototype,"btnReceive",void 0),a([f(cc.Label)],e.prototype,"levelCoin",void 0),a([h],e)}(s.default);o.default=d,cc._RF.pop()},{"../../../sheets/vo/LevelCfg":"LevelCfg","../../config/UIForms":"UIForms","../../framework/ui/UIForm":"UIForm","../../framework/utils/Common":"Common"}],tryBase:[function(t,e,o){"use strict";cc._RF.push(e,"86e2a4UKVtPnpNiSf1JmWGi","tryBase");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../utils/Common"),s=t("./UIForm"),c=t("../utils/MathUtils"),u=t("../../../sheets/vo/WeaponCfg"),l=cc._decorator,p=l.ccclass,h=l.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.logos=null,e.light=null,e.btnVideo=null,e.btnNext=null,e.txtName=null,e.isMask=!1,e.preloadIndex=-1,e.isCanClickClose=!0,e.tryWeaponId=1,e}return i(e,t),e.prototype.willShow=function(e){t.prototype.willShow.call(this,e),moosnow.http.point("\u9875\u9762\u6253\u5f00\u6b21\u6570",{name:"\u76ae\u80a4\u8bd5\u7528\u9875"}),this.addListener(),this.showTrySkin(),this.light.stopAllActions(),this.light.runAction(cc.sequence(cc.rotateBy(3,180),cc.callFunc(function(){})).repeatForever()),this.randomTryWeapon(),this.isCanClickClose=!0},e.prototype.willHide=function(){this.removeListener()},e.prototype.changeSkin=function(){},e.prototype.showTrySkin=function(){},e.prototype.randomTryWeapon=function(){for(var t=Lite.data.getWeaponData(),e=[],o=1;o<7;o++){for(var n=!1,i=0;i<t.length;i++)o==t[i]&&(n=!0);n||e.push(o)}for(e.length>0&&(this.tryWeaponId=e[c.default.randomNumBoth(0,e.length)]),o=0;o<this.logos.children.length;o++)this.tryWeaponId==o+1?(this.logos.children[o].active=!0,this.txtName.string=u.WeaponCfg.get(this.tryWeaponId).name):this.logos.children[o].active=!1},e.prototype.addListener=function(){this.btnNext.node.on(cc.Node.EventType.TOUCH_END,this.closeTry,this),this.btnVideo.node.on(cc.Node.EventType.TOUCH_END,this.openVideo,this)},e.prototype.removeListener=function(){this.btnNext.node.off(cc.Node.EventType.TOUCH_END,this.closeTry,this),this.btnVideo.node.off(cc.Node.EventType.TOUCH_END,this.openVideo,this)},e.prototype.closeTry=function(){var t=this;1==Lite.config.getKey("SkinForceAd",0)?moosnow.platform.showVideo(function(){t.closeTryForm()}):(Lite.data.addTrying(0),this.closeTryForm())},e.prototype.openVideo=function(){var t=this;moosnow.platform.showVideo(function(e){switch(e){case moosnow.VIDEO_STATUS.NOTEND:Lite.ui.showToast(moosnow.VIDEO_MSG.NOTEND);break;case moosnow.VIDEO_STATUS.ERR:Lite.ui.showToast(moosnow.VIDEO_MSG.ERR);break;case moosnow.VIDEO_STATUS.END:Lite.data.setPlayerEquipWeapon(t.tryWeaponId),t.closeTryForm()}})},e.prototype.closeTryForm=function(){Lite.ui.hideUIForm(this.node.name,null),this.FormData&&a.default.isFunction(this.FormData.callback)&&this.FormData.callback()},r([h(cc.Node)],e.prototype,"logos",void 0),r([h(cc.Node)],e.prototype,"light",void 0),r([h(cc.Sprite)],e.prototype,"btnVideo",void 0),r([h(cc.Sprite)],e.prototype,"btnNext",void 0),r([h(cc.Label)],e.prototype,"txtName",void 0),r([p],e)}(s.default);o.default=f,cc._RF.pop()},{"../../../sheets/vo/WeaponCfg":"WeaponCfg","../utils/Common":"Common","../utils/MathUtils":"MathUtils","./UIForm":"UIForm"}],turntableBase:[function(t,e,o){"use strict";cc._RF.push(e,"c21b4cd3n5GIKacIGlbUH7X","turntableBase");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../script/framework/utils/FrameworkEvent"),s=t("../../framework/ui/UIForm"),c=t("../../config/UIForms"),u=t("../../../sheets/vo/LuckDraw"),l=t("../../framework/utils/Common"),p=t("../config/Bundles"),h=cc._decorator,f=h.ccclass,d=h.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnClose=null,e.btnDraw=null,e.btnVideo=null,e.btnHome=null,e.itemContent=null,e.itemPrefab=null,e.txtNum=null,e.turn_Time=0,e.turn_speed=10,e.isOn=!1,e.prizeArea=null,e.draw_data=null,e.hasFlag=!1,e.s_item=null,e.isCanClickClose=!0,e.items=[],e.item_rotation=[-22.5,-67.5,-112.5,-157.5,-202.5,-247.5,-292.5,-337.5],e.item_postion=[new cc.Vec2(64,152),new cc.Vec2(152,64),new cc.Vec2(152,-64),new cc.Vec2(64,-152),new cc.Vec2(-64,-152),new cc.Vec2(-152,-64),new cc.Vec2(-152,64),new cc.Vec2(-64,152)],e}return i(e,t),e.prototype.onLoad=function(){this.addListener(),this.init()},e.prototype.init=function(){this.draw_data=u.LuckDraw.getAll(),this.setItemPrefab(),this.prizeArea={1:[315,360],2:[270,315],3:[225,270],4:[180,225],5:[135,180],6:[90,135],7:[45,90],8:[0,45]},Lite.data.getTurntableNum()>20&&Lite.data.setTurntableNum(0),this.setTurntableNum(),this.checkDrawFlag()},e.prototype.setItemPrefab=function(){for(var t=function(t){var o=cc.instantiate(e.itemPrefab);o.parent=e.itemContent,o.setPosition(e.item_postion[t]),o.angle=e.item_rotation[t],o.getChildByName("num").getComponent(cc.Label).string=e.draw_data[t].itemNum.toString();var n=e.draw_data[t].itemPath;if(t==e.item_rotation.length-1){for(var i=Lite.data.getWeaponData(),r=0;r<i.length;r++)if(i[r]==e.draw_data[t].itemId){e.hasFlag=!0;break}e.hasFlag?(n=e.draw_data[t-1].itemPath,o.getChildByName("num").getComponent(cc.Label).string=""+l.default.formatMoney(2e5)):(o.setScale(.3,.3),o.angle=o.angle+30,o.setPosition(e.item_postion[t].x+10,e.item_postion[t].y-40)),e.s_item=o}cc.loader.loadRes(n,cc.SpriteFrame,function(t,e){o.getComponent(cc.Sprite).spriteFrame=e})},e=this,o=0;o<this.item_rotation.length;o++)t(o)},e.prototype.setTurntableNum=function(){this.txtNum.string="\u5e78\u8fd0\u503c("+Lite.data.getTurntableNum()+"/20)"},e.prototype.checkDrawFlag=function(){Lite.data.getDrawFlag()?(this.btnDraw.getChildByName("free").active=!0,this.btnDraw.getChildByName("video").active=!1):(this.btnDraw.getChildByName("free").active=!1,this.btnDraw.getChildByName("video").active=!0)},e.prototype.onDraw=function(){var t=this;if(this.btnDraw.getChildByName("video").active){if(this.isOn)return;moosnow.platform.showVideo(function(e){switch(e){case moosnow.VIDEO_STATUS.NOTEND:Lite.ui.showToast(moosnow.VIDEO_MSG.NOTEND);break;case moosnow.VIDEO_STATUS.ERR:break;case moosnow.VIDEO_STATUS.END:t.luckyDraw()}})}else this.luckyDraw()},e.prototype.luckyDraw=function(){var t=this;if(!this.isOn){this.isOn=!0,this.btnClose.active=!1,this.itemContent.angle=0;var e=this.getResult();20==Lite.data.getTurntableNum()&&(e=8),console.log(e);var o=this.prizeArea[e],n=Math.round(45*Math.random())+o[0],i=Math.round(5*Math.random())+3,r=Math.round(Math.random()*i)+i,s=0,u=cc.rotateBy(i,360*r+n).easing(cc.easeSineOut()),h=cc.callFunc(function(){if(t.isOn=!1,8==e&&t.hasFlag)s=2e5,Lite.data.setTurntableNum(0),t.setTurntableNum(),Lite.ui.hasUIForm(c.default.StrengthForm)||Lite.ui.pushUIForm(c.default.StrengthForm,{type:1},null,p.default.homeform);else if(8==e){var o=Lite.data.getWeaponData();o.push(Number(t.draw_data[t.item_rotation.length-1].itemId)),Lite.data.setWeaponData(o),moosnow.event.sendEventImmediately(a.default.EQUIP_GET,{id:t.draw_data[t.item_rotation.length-1].itemId}),t.hasFlag=!0,Lite.data.setTurntableNum(0),t.setTurntableNum();var n=t;cc.loader.loadRes(t.draw_data[0].itemPath,cc.SpriteFrame,function(t,e){n.s_item.getComponent(cc.Sprite).spriteFrame=e,n.s_item.setScale(1,1),n.s_item.angle=n.s_item.angle-30,n.s_item.setPosition(n.s_item.x-10,n.s_item.y+40),n.s_item.getChildByName("num").getComponent(cc.Label).string=""+l.default.formatMoney(2e5)}),Lite.ui.showToast("\u606d\u559c\u83b7\u5f97 "+t.draw_data[Number(e)-1].itemType+" +"+t.draw_data[Number(e)-1].itemNum)}"\u91d1\u5e01"==t.draw_data[Number(e)-1].itemType?s=t.draw_data[Number(e)-1].itemNum:"\u4f53\u529b"==t.draw_data[Number(e)-1].itemType&&Lite.data.addStrength(t.draw_data[Number(e)-1].itemNum),s>0&&(Lite.ui.hasUIForm(c.default.StrengthForm)||Lite.ui.pushUIForm(c.default.StrengthForm,{type:2,coin:s},null,p.default.homeform)),t.btnClose.active=!0}),f=cc.sequence(u,h);this.itemContent.runAction(f),Lite.data.setTurntableNum(Lite.data.getTurntableNum()+1),this.setTurntableNum(),Lite.data.setDrawFlag(!1),this.checkDrawFlag()}},e.prototype.getResult=function(){for(var t=100*Math.random(),e=null,o=0,n=0;n<this.draw_data.length;n++)t>=o&&t<this.draw_data[n].probability+o&&(e=(n+1).toString()),o+=this.draw_data[n].probability;return e},e.prototype.onBack=function(){Lite.ui.hideUIForm(c.default.TurntableForm,null),Lite.myGame.hideAd(!0)},e.prototype.openNative=function(t,e){this.isCanClickClose&&(this.isCanClickClose=!1,Lite.myGame.checkTimeTwoMinutes()?moosnow.platform.checkVersion("",function(o){moosnow.http.getAllConfig(function(n){"1"==n.mx_click_switch&&o?Lite.ui.pushUIForm(c.default.NativeForm,{callback:function(){e.call(t)}},function(){},p.default.nativeform):e.call(t)})}):this.onBack())},e.prototype.showNative=function(){this.openNative(this,this.onBack.bind(this))},e.prototype.onVideo=function(){moosnow.platform.showVideo(function(t){switch(t){case moosnow.VIDEO_STATUS.NOTEND:Lite.ui.showToast(moosnow.VIDEO_MSG.NOTEND);break;case moosnow.VIDEO_STATUS.ERR:break;case moosnow.VIDEO_STATUS.END:Lite.ui.showToast("\u606d\u559c\u83b7\u5f97\u53cc\u500d\u91d1\u5e01\u5956\u52b1"),Lite.data.addCoin(2*Lite.myGame.gameCoin)}})},e.prototype.addListener=function(){this.btnClose.on(cc.Node.EventType.TOUCH_END,this.onBack,this),this.btnDraw.on(cc.Node.EventType.TOUCH_END,this.onDraw,this)},e.prototype.removeListener=function(){this.btnClose.off(cc.Node.EventType.TOUCH_END),this.btnDraw.off(cc.Node.EventType.TOUCH_END)},e.prototype.onShow=function(e){t.prototype.onShow.call(this,e),this.isCanClickClose=!0,Lite.myGame.showAd()},e.prototype.onHide=function(e){t.prototype.onHide.call(this,e)},e.prototype.update=function(){},r([d(cc.Node)],e.prototype,"btnClose",void 0),r([d(cc.Node)],e.prototype,"btnDraw",void 0),r([d(cc.Node)],e.prototype,"btnVideo",void 0),r([d(cc.Node)],e.prototype,"btnHome",void 0),r([d(cc.Node)],e.prototype,"itemContent",void 0),r([d(cc.Prefab)],e.prototype,"itemPrefab",void 0),r([d(cc.Label)],e.prototype,"txtNum",void 0),r([f],e)}(s.default);o.default=m,cc._RF.pop()},{"../../../script/framework/utils/FrameworkEvent":"FrameworkEvent","../../../sheets/vo/LuckDraw":"LuckDraw","../../config/UIForms":"UIForms","../../framework/ui/UIForm":"UIForm","../../framework/utils/Common":"Common","../config/Bundles":"Bundles"}]},{},["Entitys","UIForms","BaseControl","CameraControl","MapControl","MapEntity","MapItem","SkinItem","BUFFER","MASTER_AI","MASTER_SPINE","MASTER_STATE","MASTER_TYPE","PLAYER_ATTACK_ANIM","PLAYER_BUFF","PLAYER_SPINE","PLAYER_STATE","WEAPON","AD_POSITION","BundleMgr","GameDataCenter","PhysicsSetting","SiteMgr","TouchManager","Bundles","EntityData","EntityLogic","enum","ButtonEx","CheckboxEx","DelayMove","DelayShow","MaskEx","Shake","StopPropagation","AppConfig","AudioModule","BaseModule","EntityModule","GameLogic","GameState","ResourceModule","UIModule","gameEntry","LoadingBase","MainBase","ToastForm","TransitionBase","UIForm","boxBase","buffBase","endBase","equipBase","finishBase","gameBase","homeBase","mistouchBase","pauseBase","shopBase","signBase","strengthBase","taskBase","totalForm","tryBase","turntableBase","ArrayUtil","Common","Delay","FrameworkEvent","Logger","MathUtils","MoveUtil","SheetManager","Utils3D","ConfigData","EasterEgg","LevelCfg","LevelRef","LuckDraw","MasterCfg","PlayerUpgrade","PrizeBox","Sheets","Sign","SignVo","SkinCfg","Task","TitleCfg","WeaponCfg"]);